{
  "title": "intro to AJAX w/o jquery",
  "cells": [
    {
      "type": "text",
      "data": "<div style=\"word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; white-space: normal;\">\n<div>\n<pre style=\"box-sizing: border-box; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 16px; white-space: pre; padding: 1em; direction: ltr; color: rgb(0, 0, 0); text-shadow: rgb(255, 255, 255) 0px 1px; text-align: left; word-spacing: 0px; word-break: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(249, 249, 250); border: 1px solid rgba(51, 51, 51, 0.0980392); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; widows: auto; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\">\n<code style=\"box-sizing: border-box; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 1em; font-weight: 400; color: rgb(0, 0, 0); text-shadow: rgb(255, 255, 255) 0px 1px; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; tab-size: 4; -webkit-hyphens: none;\"><span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">var</span> xhr <span style=\"box-sizing: border-box; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;\">=</span> <span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">new</span> <span style=\"box-sizing: border-box;\">XMLHttpRequest</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span>\nxhr<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span><span style=\"box-sizing: border-box; color: rgb(221, 74, 104);\">open</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span><span style=\"box-sizing: border-box; color: rgb(102, 153, 0);\">'GET'</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">,</span> <span style=\"box-sizing: border-box; color: rgb(102, 153, 0);\">'send-ajax-data.php'</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span>\nxhr<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span><span style=\"box-sizing: border-box; color: rgb(221, 74, 104);\">send</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span><span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">null</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span>\n</code>\n</pre>\n<p style=\"box-sizing: border-box; padding: 0px; direction: ltr; font-family: 'Helvetica Neue', Helvetica, Helvetica, Arial, sans-serif; font-weight: normal; font-size: 16px; text-rendering: optimizelegibility; color: rgb(74, 74, 74); font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">Here, we are creating an instance of the required class to make an HTTP request to the server. We are then calling its <code style=\"box-sizing: border-box; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 1em; font-weight: 400; color: rgb(0, 0, 0); text-shadow: rgb(255, 255, 255) 0px 1px; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; tab-size: 4; -webkit-hyphens: none; background-color: rgb(232, 232, 232); padding: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-position: initial initial; background-repeat: initial initial;\">open</code> method, specifying the HTTP request method as the first parameter and the URL of the page we’re requesting as the second. Finally, we call its <code style=\"box-sizing: border-box; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 1em; font-weight: 400; color: rgb(0, 0, 0); text-shadow: rgb(255, 255, 255) 0px 1px; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; tab-size: 4; -webkit-hyphens: none; background-color: rgb(232, 232, 232); padding: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-position: initial initial; background-repeat: initial initial;\">send</code> method passing null as a parameter. If POST-ing the request (here we are using GET), this parameter should contain any data we want to send with the request.</p>\n<p style=\"box-sizing: border-box; padding: 0px; direction: ltr; font-family: 'Helvetica Neue', Helvetica, Helvetica, Arial, sans-serif; font-weight: normal; font-size: 16px; text-rendering: optimizelegibility; color: rgb(74, 74, 74); font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">And this is how we’d deal with the response from the server:</p>\n<div style=\"box-sizing: border-box; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 16px; padding: 1em; direction: ltr; color: rgb(0, 0, 0); text-shadow: rgb(255, 255, 255) 0px 1px; text-align: left; word-spacing: 0px; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(249, 249, 250); border: 1px solid rgba(51, 51, 51, 0.0980392); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; widows: auto; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;\"><code style=\"box-sizing: border-box; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 1em; font-weight: 400; color: rgb(0, 0, 0); text-shadow: rgb(255, 255, 255) 0px 1px; direction: ltr; text-align: left; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;\">xhr<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span>onreadystatechange <span style=\"box-sizing: border-box; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;\">=</span> <span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">function</span> <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span> <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">{</span><br/>\n  <span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">var</span> DONE <span style=\"box-sizing: border-box; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;\">=</span> <span style=\"box-sizing: border-box; color: rgb(153, 0, 85);\">4</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span> <span style=\"box-sizing: border-box; color: rgb(112, 128, 144);\">// readyState 4 means the request is done.</span><br/>\n  <span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">var</span> OK <span style=\"box-sizing: border-box; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;\">=</span> <span style=\"box-sizing: border-box; color: rgb(153, 0, 85);\">200</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span> <span style=\"box-sizing: border-box; color: rgb(112, 128, 144);\">// status 200 is a successful return.</span><br/>\n  <span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">if</span> <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span>xhr<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span>readyState <span style=\"box-sizing: border-box; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;\">===</span> DONE<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span> <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">{</span><br/>\n    <span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">if</span> <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span>xhr<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span>status <span style=\"box-sizing: border-box; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;\">===</span> OK<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span> <br/>\n      console<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span><span style=\"box-sizing: border-box; color: rgb(221, 74, 104);\">log</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span>xhr<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span>responseText<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span> <span style=\"box-sizing: border-box; color: rgb(112, 128, 144);\">// 'This is the returned text.'</span><br/>\n    <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">}</span> <span style=\"box-sizing: border-box; color: rgb(0, 119, 170);\">else</span> <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">{</span><br/>\n      console<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span><span style=\"box-sizing: border-box; color: rgb(221, 74, 104);\">log</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">(</span><span style=\"box-sizing: border-box; color: rgb(102, 153, 0);\">'Error: '</span> <span style=\"box-sizing: border-box; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;\">+</span> xhr<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">.</span>status<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">)</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span> <span style=\"box-sizing: border-box; color: rgb(112, 128, 144);\">// An error occurred during the request.</span><br/>\n    <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">}</span><br/>\n  <span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">}</span><br/>\n<span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">}</span><span style=\"box-sizing: border-box; color: rgb(153, 153, 153);\">;</span></code></div>\n</div>\n</div>"
    }
  ]
}