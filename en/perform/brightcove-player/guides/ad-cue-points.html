<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Begin Drupal Taxonomy Data -->
  <meta name="products" content="Video Cloud">
  <meta name="role" content="Player Developer">
  <meta name="task" content="">
  <meta name="topic" content="Advertising,Cue Points">
  <!-- End Drupal Taxonomy Data -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Display Ads Using Ad Cue Points</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-2728311-29', 'auto');
    ga('send', 'pageview');
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body><script src="/en/scripts/redirect2.js"></script>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
  <div class="row">
    <div class="sidebar large-2 columns show-for-large-up">
      <div id="sidenav" class="side-nav"></div>
    </div>
    <div id="main" class="large-10 small-12 columns">
      <h1>Display Ads Using Ad Cue Points</h1>
            <h3>The page you are looking for doesn't live here anymore -- redirecting you to <a id="red" href=""></a> in 3 seconds.</h3>
            <script>
                var loc = document.location.href,
                    red = document.getElementById('red'),
                    newLoc = loc.replace('perform', 'player'),
                    t;
                    red.setAttribute('href', newLoc);
                    red.textContent = newLoc;
                    t = window.setTimeout(function(){
                        document.location = newLoc;
                    }, 3000);
            </script>

      
      <article class="bcls-article">
        <header id="bcls_header" class="bcls-header">
          <p>In this document, you will learn how to use the IMA3 plugin and ad cue points to display ads.</p>
        </header>

        <section id="Example_player" class="bcls-section">
          <h2>Example player</h2>
          <p>The following demonstrates a player showing an advertisement at a cue point created at the two second mark of the video.</p>

          <iframe src="//players.brightcove.net/1752604059001/rkptuIjul_default/index.html?videoId=5318598744001"
            allowfullscreen
            webkitallowfullscreen
            mozallowfullscreen
            width="640"
            height="360"></iframe>
        </section>

        <section id="Instructional_video" class="bcls-section">
          <h2>Instructional video</h2>
          <p>The following is an instructional video that leads you through the process of using ad cue points to play ads during video playback.</p>
          <iframe src="//players.brightcove.net/20318290001/E16-WGGOe_default/index.html?videoId=5353307007001"
          allowfullscreen
          webkitallowfullscreen
          mozallowfullscreen
          width="800"
          height="450"></iframe>
        </section>

        <section id="Playing_a_video_non-fullscreen" class="bcls-section">
          <h2>Implementation overview</h2>
          <p>To play ads based on ad cue points in the video, you will need to perform the following:</p>
          <ul>
            <li>In Studio's <strong>MEDIA</strong> module, create the ad cue point(s) in the video at your desired time(s).</li>
            <li>Obtain/create a VAST tag that will serve the desired ads to the video when a cue point triggers a request.</li>
            <li>Be sure the <strong>IMA3</strong> plugin is loaded in the player. In this document, you will see two ways to perform this task.</li>
            <li>Configure the <strong>IMA3</strong> plugin to use ad cue points.</li>
          </ul>
        </section>

        <section id="Create_ad_cue_points" class="bcls-section">
          <h2>Create ad cue points</h2>
          <p>You use Studio's <strong>MEDIA</strong> module to add ad cue points to a video. Click on a video, then perform the following tasks:</p>
          <ol>
            <li>Just below the video, click the <strong>Ad Cue Point</strong> button.</li>
            <li>Enter the time you want the cue point to be dispatched.</li>
            <li>Set the <strong>Type</strong> to <strong>ad</strong>.</li>
            <li>Give the cue point a name.</li>
          </ol>
          <figure class="bcls-figure">
              <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-cue-points/studio-create-cue-point.png" alt="Create cue point in Studio">
          </figure>
          <p>You may add multiple cue points. For more information and using cue points in Studio see the <a href="//support.brightcove.com/en/video-cloud/docs/working-cue-points-media-module">Working with Cue Points in the Media Module</a> document.</p>
        </section>

        <section id="Create/obtain_a_VAST_tag" class="bcls-section">
          <h2>Create/obtain a VAST tag</h2>
          <p>When configuring the IMA3 plugin you will need to provide a URL to a location of a VAST tag. The VAST tag serves the ad for the player to play. In this example, a static VAST tag (which is actually a URL to a VAST XML document) is used. You may wish to use an ad server to randomly choose from multiple ads to be viewed. Regardless, the IMA3 plugin will need to point to a valid VAST tag.</p>
          <p>For this document, a static VAST tag will be used that plays a single advertisement. The VAST XML appears as follows:</p>
          <pre class="line-numbers"><code class="language-html">&lt;VAST version=&quot;3.0&quot;&gt;
  &lt;Ad id=&quot;1&quot;&gt;
    &lt;InLine&gt;
      &lt;AdSystem version=&quot;1.0&quot;&gt;Test Ad Server&lt;/AdSystem&gt;
      &lt;AdTitle&gt;
        &lt;![CDATA[ Portals ]]&gt;
      &lt;/AdTitle&gt;
      &lt;Description&gt;
        &lt;![CDATA[ Demo ad number 6 ]]&gt;
      &lt;/Description&gt;
      &lt;Error&gt;
        &lt;![CDATA[ ]]&gt;
      &lt;/Error&gt;
      &lt;Creatives&gt;
        &lt;Creative&gt;
          &lt;Linear&gt;
            &lt;Duration&gt;00:00:8&lt;/Duration&gt;
            &lt;TrackingEvents/&gt;
            &lt;AdParameters&gt;
              &lt;![CDATA[ &lt;xml&gt;&lt;/xml&gt; ]]&gt;
            &lt;/AdParameters&gt;
            &lt;VideoClicks/&gt;
            &lt;MediaFiles&gt;
              &lt;MediaFile type=&quot;video/mp4&quot; width=&quot;1280&quot; height=&quot;720&quot; delivery=&quot;progressive&quot; id=&quot;2&quot; bitrate=&quot;4316&quot; minBitrate=&quot;320&quot; maxBitrate=&quot;320&quot; scalable=&quot;true&quot; maintainAspectRatio=&quot;true&quot;&gt;
                &lt;![CDATA[
                  http://solutions.brightcove.com/bcls/ads/bc-ads/bcls-ad-6-5seconds.mp4
                ]]&gt;
              &lt;/MediaFile&gt;
            &lt;/MediaFiles&gt;
          &lt;/Linear&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
      &lt;Extensions&gt;
        &lt;Extension&gt;
          &lt;xml&gt;data&lt;/xml&gt;
        &lt;/Extension&gt;
      &lt;/Extensions&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;</code></pre>
        </section>

        <section id="Studio_implementation" class="bcls-section">
          <h2>Studio implementation</h2>
          <p>You can use Studio to set up ad cue points. From a high-level you do the following:</p>
          <ul>
            <li>Set up the IMA3 plugin using the <strong>ADVERTISING</strong> section in the <strong>PLAYERS</strong> module.</li>
            <li>Publish your player.</li>
          </ul>
          <p>Here are the detailed steps that carry out the set up:</p>
          <ol class="bcls-tasklist">
            <li>In Studio's <strong>PLAYERS</strong> module, <strong>ADVERTISING</strong> section, enable IMA ads.</li>
            <li>Supply a valid VAST tag, as discussed above, for the <strong>Server URL</strong>.</li>
            <li>Set the <strong>Request Ads</strong> value to <strong>Use cue point</strong>.</li>
            <li>Your configuration should appear similar to the following:
              <figure class="bcls-figure">
                  <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-cue-points/studio-plugin-setup.png" alt="Plugin configuration in Studio">
              </figure>
            </li>
            <li>Click <strong>Save</strong>.</li>
            <li>Publish the player.</li>
            <li>Return to the <strong>MEDIA</strong> module and publish a video with ad cue points using the newly configured player.</li>
          </ol>
        </section>

        <section id="Plugin_configuration" class="bcls-section">
          <h2>Plugin configuration</h2>
          <p>There are configuration settings you must make to the IMA3 plugin to correctly use ad cue points. They are:</p>
          <ul>
            <li><code>useMediaCuePoints</code> must be set to <code>true</code></li>
            <li><code>requestMode</code> must be set to the string <code>oncue</code></li>
            <li><code>serverUrl</code> must be set to a valid VAST tag</li>
          </ul>
          <p>For complete details on these options, see the <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/ima-plugin.html#options">Advertising with the IMA3 Plugin</a> document's <strong>Options</strong> section.</p>
        </section>

        <section id="In-page_embed_implementation" class="bcls-section">
          <h2>In-page embed implementation</h2>
          <p>You can also implement ad cue points using the in-page embed player code. In the code below, the IMA3 plugin is loaded and configured all in the HTML page.</p>
          <p>The following code is the actual implementation:</p>
          <ul>
            <li>Lines 7-12: Style the size of the player.</li>
            <li>Line 13: Link to the IMA3 plugin's CSS.</li>
            <li>Lines 19-27: The player publishing code, with the addition of an <code>id</code> attribute, which will be used in the JavaScript.</li>
            <li>Line 29 : Include the IMA3 plugin's JavaScript.</li>
            <li>Lines 32-33, 40: Standard code to wait for the player code to be ready to interact with, and assign a variable the player object.</li>
            <li>Lines 34-38: Assign the required options their prescribed values.</li>
            <li>Line 39: Call the <code>ima3</code> plugin, passing the options as a parameter.</li>
          </ul>
          <pre class="line-numbers"><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Untitled Document&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;
  &lt;link href=&quot;//players.brightcove.net/videojs-ima3/2/videojs.ima3.min.css&quot; rel=&quot;stylesheet&quot;&gt;

&lt;/head&gt;

&lt;body&gt;

  &lt;video id=&quot;myPlayerID&quot;
    data-video-id=&quot;4607746980001&quot;
    data-account=&quot;1507807800001&quot;
    data-player=&quot;rkNxoBMOe&quot;
    data-embed=&quot;default&quot;
    data-application-id
    class=&quot;video-js&quot;
    controls&gt;&lt;/video&gt;
  &lt;script src=&quot;//players.brightcove.net/1507807800001/rkNxoBMOe_default/index.min.js&quot;&gt;&lt;/script&gt;

  &lt;script src=&quot;//players.brightcove.net/videojs-ima3/2/videojs.ima3.min.js&quot;&gt;&lt;/script&gt;

  &lt;script type=&quot;text/javascript&quot;&gt;
    videojs('myPlayerID').ready(function(){
      var myPlayer = this,
      <span class="bcls-highlight">options = {
        useMediaCuePoints: true,
        requestMode: 'oncue',
        serverUrl: &quot;//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vast.xml&quot;
      };
      myPlayer.ima3(options);</span>
    });
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
        </section>

        <section id="Known_issues" class="bcls-section">
          <h2>Known issues</h2>
          <p>Consider the following with using ad cue points:</p>
          <ul>
            <li>Postrolls are not currently supported.</li>
            <li>Cues set at time 0 are considered prerolls and are played only after the <code>play</code> event.</li>
            <li>On Android, multiple consecutive attempts to scrub (drag along the progress bar) may cause the following issues:
              <ul>
                <li>Restarting from the beginning of content</li>
                <li>Content is paused after ad playback and eventually times out if play is not pressed</li>
              </ul>
            </li>
          </ul>
          <p>In addition, all the <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/ima-plugin.html#issues">know issues for the IMA3 plugin</a> are applicable when using ad cue points.</p>
        </section>

      </article>
      <!-- end drupal content -->

      <div class="bcls-section" id="BCLreferences">
        <h2>Related Topics</h2>
        <ul>
          <li><a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/ima-plugin.html">Advertising with the IMA3 Plugin</a></li>
          <li><a href="//support.brightcove.com/en/video-cloud/docs/working-cue-points-media-module">Working with Cue Points in the Media Module</a></li>
        </ul>
      </div>

    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v2.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
    $(document).foundation();
  </script>
  <div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
  </div>
  <div class="bcls-footer"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a>
  </div>
  <script>
    var feedbackMail = document.getElementById("feedbackMail");
    feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
  </script>
</body>

</html>
