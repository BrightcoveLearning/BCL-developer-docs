<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="product" content="Perform">
    <meta name="audience" content="Player Developer">
    <meta name="product-area" content="Advertising">
    <meta name="product-focus" content="General Information">
    <meta name="keywords" content="player">
    <!-- End Drupal Taxonomy Data -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>Ad Events and Ad Objects</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

  <script>
      (function(i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r;
          i[r] = i[r] || function() {
              (i[r].q = i[r].q || []).push(arguments)
          }, i[r].l = 1 * new Date();
          a = s.createElement(o),
              m = s.getElementsByTagName(o)[0];
          a.async = 1;
          a.src = g;
          m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-2728311-29', 'auto');
      ga('send', 'pageview');
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
      <h1>Ad Events and Ad Objects</h1>
    <!-- begin drupal content -->
    <article class="bcls-article">
			<header id="bcls_header" class="bcls-header">
				<!-- Place document intro sentence(s) here -->
				<p>This document explains and demonstrates the use of a common set of ad events and ad objects implemented in the <em>videojs-contrib-ads</em> plugin. This plugin, located in the <a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-ads</a> GitHub repository, provides common functionality needed by video advertisement libraries and video ad integrations, reducing the code you have to write for your specific ad integration.</p>
				<p>These events and objects are implemented in the Brightcove supplied FreeWheel and IMA3 plugins.</p>
			</header>
			<section id="events" class="bcls-section">
				<h2>Ad events</h2>
				<p>Each ad provider can emit a unique set of events. Typically, these events are used to track the state of ad playback for metrics purposes and to create custom UI's. It is suggested to implement the following events to encourage uniformity, and allow custom UIs and analytics providers to remain ad provider agnostic.</p>
				<table class="table-styles">
				  <thead>
				    <tr>
				      <th style="width:30%">Event</th>
				      <th style="width:70%">Dispatched when:</th>
				    </tr>
				  </thead>
				  <tbody>
				    <tr>
				      <td><code>ads-request</code></td>
				      <td>Ad data is requested</td>
				    </tr>
				    <tr>
				      <td><code>ads-load</code></td>
				      <td>Ad data is available following an ad request</td>
				    </tr>
				    <tr>
				      <td><code>ads-pod-started</code></td>
				      <td>A linear ad pod has started</td>
				    </tr>
				    <tr>
				      <td><code>ads-pod-ended</code></td>
				      <td>A linear ad pod has completed</td>
				    </tr>
				    <tr>
				      <td><code>ads-allpods-completed</code></td>
				      <td>All linear ads are completed</td>
				    </tr>
				    <tr>
				      <td><code>ads-ad-started</code></td>
				      <td>Ad starts playing</td>
				    </tr>
				    <tr>
				      <td><code>ads-ad-ended</code></td>
				      <td>Ad completes playing</td>
				    </tr>
				    <tr>
				      <td><code>ads-first-quartile</code></td>
				      <td>Ad playhead crosses the first quartile</td>
				    </tr>
				    <tr>
				      <td><code>ads-midpoint</code></td>
				      <td>Ad playhead crosses the midpoint</td>
				    </tr>
				    <tr>
				      <td><code>ads-third-quartile</code></td>
				      <td>Ad playhead crosses the third quartile</td>
				    </tr>
				    <tr>
				      <td><code>ads-pause</code></td>
				      <td>Ad is paused</td>
				    </tr>
				    <tr>
				      <td><code>ads-play</code></td>
				      <td>Ad is resumed</td>
				    </tr>
				    <tr>
				      <td><code>ads-volumechange</code></td>
				      <td>Ad volume has been changed</td>
				    </tr>
				    <tr>
				      <td><code>ads-click</code></td>
				      <td>Ad is clicked</td>
				    </tr>
				  </tbody>
				</table>
				<p>These events can be listened for from the player object. Below is the code to listen for the <code>ads-ad-started</code> object, as well as a screenshot of what the object passed to the event handler looks like.</p>
        <pre class="line-numbers"><code class="language-javascript">videojs('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  ...
  <span class="bcls-highlight">myPlayer.on('ads-ad-started',function( evt ){</span>
    console.log('ads-ad-started event passed to event handler', evt);
  });</code></pre>
        <figure class="bcls-figure">
            <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/event-object.png" alt="ad event object">
        </figure>
			</section>
			<section id="adobjects" class="bcls-section">
				<h2>Ad objects</h2>
				<p>As you see, the event object passed to the event handler is not terribly informative. For this reason, there are two objects you can leverage from which you can gather more ad information, they are <strong>player.ads.ad</strong> and <strong>player.ads.pod</strong>.</p>
				<aside class="bcls-aside bcls-aside--information">Note: If you are not familiar with the term <code>ad pod</code>, it is a sequence of linear ads that are played back to back. Commercial breaks on TV are examples of pods. Pods are commonly used in long form videos to create a TV like ad experience.</aside>
				<p>From the screenshot below, you see the <strong>player.ads.ad</strong> object contains information on the ad <code>type</code> and <code>duration</code> of ad, among other details.</p>
        <figure class="bcls-figure">
            <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/player-ads-ad-object.png" alt="player ads">
        </figure>
				<p>The <strong>player.ads.pod</strong> object contains similar information to <strong>player.ads.ad</strong>, with the addition of the number of ads in the pod. The first screenshot below shows an ad pod with a single ad, whereas the second shows a pod with three ads.</p>
        <figure class="bcls-figure">
            <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/player-ads-pod-object.png" alt="ads pod object">
        </figure>
        <figure class="bcls-figure">
            <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ad-events/ad-pod-multiple-ads.png" alt="multiple ads pod">
        </figure>
				<aside class="bcls-aside bcls-aside--information">
				  <p>Object notes:</p>
								<ul>
									<li>Everything but <code>player.ads.provider.type</code> is undefined during content-playback.</li>
									<li>The type of ad should be one of <code>PREROLL</code>, <code>MIDROLL</code> or <code>POSTROLL</code></li>
								</ul>
				</aside>
			</section>
    </article>
    <!-- end drupal content -->
			<div class="bcls-section" id="BCLreferences">
				<h2>Related Topics</h2>
				<ul>
					<li><a href="../../brightcove-player/guides/freewheel-plugin.html">FreeWheel Plugin</a></li>
					<li><a href="../../brightcove-player/guides/ima-plugin.html">Advertising with IMA3 Plugin Guide</a></li>
					<li><a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-ads GitHub repository</a></li>
				</ul>
			</div>
		</div>
	</div>

  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v2.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
      $(document).foundation();
  </script>

<div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
</div>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
