<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <style>
    body {
        margin: 1em;
        font-family: sans-serif;
    }
    </style>
</head>

<body>
    <video id="renditionSelect" style='width: 480px;height: 270px;' data-video-id="4511340777001" data-account="1752604059001" data-player="9ec8ab98-ed08-4017-ac22-7e701509fe10" data-embed="default" class="video-js" controls></video>
    <script src="//players.brightcove.net/1752604059001/9ec8ab98-ed08-4017-ac22-7e701509fe10_default/index.min.js"></script>
    <script>
    videojs("renditionSelect").ready(function() {
        var myPlayer = this,
            videoID,
            totalRenditions,
            mp4Ara = [],
            highestQuality;

        videoID = myPlayer.options()['data-video-id'];
        myPlayer.catalog.getVideo(videoID, function(error, video) {
            myPlayer.catalog.load(video);
            videoName = myPlayer.mediainfo['name'];
            rendtionsAra = myPlayer.mediainfo.sources;
            totalRenditions = rendtionsAra.length;
            for (var i = 0; i < totalRenditions; i++) {
                if (rendtionsAra[i].container === "MP4" && rendtionsAra[i].hasOwnProperty('src')) {
                    mp4Ara.push(rendtionsAra[i]);
                };
            };
            mp4Ara.sort(function(a, b) {
                return b.size - a.size;
            });
            highestQuality = mp4Ara[0].src;
            console.log('highestQuality', highestQuality);
            myPlayer.src(highestQuality);
            console.log('now playing', myPlayer.currentSrc());
            myPlayer.one('play', )
        });
    });
    </script>
</body>

</html>
