<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title id="bclPageTitle">Brightcove iOS SDK Developer Documentation</title>
    <link href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/css/foundation.min.css" rel="stylesheet" type="text/css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href="//files.brightcove.com/proxima-nova/font-faces.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <script>
        (function(i, s, o, g, r, a, m) {
        	i['GoogleAnalyticsObject'] = r;
        	i[r] = i[r] || function() {
        		(i[r].q = i[r].q || []).push(arguments)
        	}, i[r].l = 1 * new Date();
        	a = s.createElement(o),
        	m = s.getElementsByTagName(o)[0];
        	a.async = 1;
        	a.src = g;
        	m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-2728311-29', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/js/vendor/modernizr.js"></script>
</head>

<body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <!-- content -->
    <div class="row">
        <div class="large-2 columns show-for-large-up">
            <div id="sidenav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div class="section" id="top">
                <h1>Brightcove Player SDK for iOS</h1>
            </div>
            <div id="top" class="section" title="Top">
                <p>Welcome to the iOS SDK developer documentation. Here you will find information you need to get started developing with SDK. The SDK provides tools to help you easily include Video Cloud videos in your iOS applications</p>
                <p class="warning">Note: versions of the SDK prior to version 4.0 are <strong>no longer supported by Brightcove</strong> - please update your apps to use the latest version of the SDK.</p>
            </div>
            <div class="section" id="downloads">
                <h2>SDK downloads</h2>
                <p>We are pleased to announce that the Brightcove Player SDK for iOS v4.3.3 is now available. You can download the zip file for the release here:</p>
                <p><strong>BCOVPlayerSDK:</strong>  <a href="https://github.com/brightcove/brightcove-player-sdk-ios/releases/tag/v4.3.3">https://github.com/brightcove/brightcove-player-sdk-ios/releases/tag/v4.3.3</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/v4.3.3/CHANGELOG.md">Release Notes</a>]</p>
                <h3>Plugins</h3>
                <ul>
                    <li><p><strong>BCOVIMA:</strong>  <a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima/releases/tag/v1.3.0">https://github.com/brightcove/brightcove-player-sdk-ios-ima/releases/tag/v1.3.0</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima/commit/398ac88d89973510a87e1c9c4728db5f8b67d6a2">Release Notes</a>]</p></li>
                    <p class="BCL-aside">The Brightcove IMA plugin uses the Google IMA library. Be aware that there may be issues and bugs associated with different versions of this library. Brightcove recommends viewing the <a href="https://groups.google.com/forum/#!forum/ima-sdk">Interactive Media Ads SDK</a> Google group to learn about current issues for the two IMA beta versions we currently offer, 6 and 7. Contact customer support to use an IMA prerelease version.</p>

                    <li><strong>BCOVFW</strong>  <a href="https://github.com/brightcove/brightcove-player-sdk-ios-fw/releases/tag/v1.0.3">https://github.com/brightcove/brightcove-player-sdk-ios-fw/releases/tag/v1.0.3</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios-fw/blob/6cac4f0570051799143b9348ff0e1d670994191d/CHANGELOG.md">Release Notes</a>]</li>
                    <li><strong>BCOVAMC</strong>  <a href="https://github.com/brightcove/brightcove-player-sdk-ios-omniture/releases/tag/v1.0.0">https://github.com/brightcove/brightcove-player-sdk-ios-omniture/releases/tag/v1.0.0</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios-omniture/blob/v1.0.0/README.md">Release Notes</a>]</li>
                    <li><strong>BCOVWidevine:</strong><sup><a href="#n1">[1]</a></sup>  <a href="https://github.com/brightcove/brightcove-player-sdk-ios-widevine/releases/tag/v1.0.10">https://github.com/brightcove/brightcove-player-sdk-ios-widevine/releases/tag/v1.0.10</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios-widevine/blob/5013e839ec7605bc6d07163cb0da0a03217c3e86/CHANGELOG.md">Release Notes</a>]</li>
                    <li><strong>BCOVWidevine:</strong><sup><a href="#n1">[1]</a></sup>  <a href="https://github.com/brightcove/brightcove-player-sdk-ios-widevine/releases/tag/v1.2.0">https://github.com/brightcove/brightcove-player-sdk-ios-widevine/releases/tag/v1.2.0</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios-widevine/blob/3d288c4d9bdbb1a8b69dfcade2cc7b816b874437/CHANGELOG.md">Release Notes</a>]</li>
                    <li><strong>BCOVOUX: </strong><a href="https://github.com/brightcove/brightcove-player-sdk-ios-oux/tree/v1.0.0">https://github.com/brightcove/brightcove-player-sdk-ios-oux/tree/v1.0.0</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios-oux/blob/v1.0.0/README.md">Release Notes</a>]</li>
										<li><strong>Sidecar Subtitles: </strong><a href="https://github.com/brightcove/brightcove-player-sdk-ios-sidecarsubtitles">https://github.com/brightcove/brightcove-player-sdk-ios-sidecarsubtitles</a> [<a href="https://github.com/brightcove/brightcove-player-sdk-ios-sidecarsubtitles/blob/master/README.md">Release Notes</a>]</li>
                </ul>
                <p id="n1" class="BCL-aside"><sup>[1]</sup> Note: We made some internal improvements to our Widevine plugin and you may be wondering why there are two Widevine releases. The latest Widevine library release from Google no longer supports iOS 6, but we still wanted to share those internal improvements with those of you that still need to support iOS 6. Release 1.0.10 contains these improvements and supports iOS 6.0. Release 1.2.0 also contains these improvements but supports iOS 7.0+.</p>

                <h4>podspecs</h4>
                <ul>
                    <li><a href="https://github.com/CocoaPods/Specs/blob/master/Specs/Brightcove-Player-SDK/4.3.3/Brightcove-Player-SDK.podspec.json">Brightcove-Player-SDK v4.3.3</a>
                    </li>
                    <li><a href="https://github.com/CocoaPods/Specs/blob/master/Specs/Brightcove-Player-SDK-IMA/1.2.0/Brightcove-Player-SDK-IMA.podspec.json">Brightcove-Player-SDK-IMA v1.2.0</a>
                    </li>
                    <li><a href="https://github.com/brightcove/BCOVSpecs/blob/master/Brightcove-Player-SDK-Omniture/1.0.0/Brightcove-Player-SDK-Omniture.podspec">Brightcove-Player-SDK-Omniture v1.0.0</a>
                    </li>
                    <li><a href="https://github.com/brightcove/BCOVSpecs/blob/master/Brightcove-Player-SDK-FW/1.0.3/Brightcove-Player-SDK-FW.podspec">https://github.com/brightcove/BCOVSpecs/blob/master/Brightcove-Player-SDK-FW/1.0.3/Brightcove-Player-SDK-FW.podspec</a>
                    </li>
                    <li><a href="https://github.com/brightcove/BCOVSpecs/blob/master/Brightcove-Player-SDK-Widevine/1.0.10/Brightcove-Player-SDK-Widevine.podspec">https://github.com/brightcove/BCOVSpecs/blob/master/Brightcove-Player-SDK-Widevine/1.0.10/Brightcove-Player-SDK-Widevine.podspec</a>
                    </li>
                    <li><a href="https://github.com/CocoaPods/Specs/blob/master/Specs/Brightcove-Player-SDK-OUX/1.0.0/Brightcove-Player-SDK-OUX.podspec.json">https://github.com/CocoaPods/Specs/blob/master/Specs/Brightcove-Player-SDK-OUX/1.0.0/Brightcove-Player-SDK-OUX.podspec.json</a>
                    </li>
									  <li><a href="https://github.com/CocoaPods/Specs/blob/master/Specs/Brightcove-Player-SDK-SidecarSubtitles/1.0.0/Brightcove-Player-SDK-SidecarSubtitles.podspec.json">Sidecar subtitles podspec</a>
                    </li>
                </ul>
                <p>The Widevine, Omniture, and Freewheel Plugin podspecs are hosted at the BCOVSpecs <a href="https://github.com/brightcove/BCOVSpecs">https://github.com/brightcove/BCOVSpecs</a> repository, which must be manually added to your local CocoaPods podspec repositories in order to install them via CocoaPods, using this command:</p>
                <pre><code>pod repo add BCOVSpecs git@github.com:brightcove/BCOVSpecs.git</code></pre>
                <h4>Samples</h4>
                <p>We also have example code, demonstrating how to integrate these plugins
                    <br>into the Player SDK for iOS in a sample app. (SampleBCOVIMAWidevine shows
                    <br>how to use both plugins together in the same app):</p>
                <ul>
                    <li><strong>SampleBCOVIMA:</strong>  <a href="https://github.com/BrightcoveOS/SampleBCOVIMA">https://github.com/BrightcoveOS/SampleBCOVIMA</a>
                    </li>
                    <li><strong>SampleBCOVAMC:</strong>  Sample coming soon
                    </li>
                    <li><strong>SampleBCOVFW</strong>  <a href="https://github.com/BrightcoveOS/SampleBCOVFW">https://github.com/BrightcoveOS/SampleBCOVFW</a>
                    </li>
                    <li><strong>SampleBCOVIMAWidevine:</strong>  <a href="https://github.com/BrightcoveLearning/BCL-LearningSamples/tree/master/player-sdk-for-ios/SampleBCOVIMAWidevine-master-4.1.7">https://github.com/BrightcoveLearning/BCL-LearningSamples/tree/master/player-sdk-for-ios/SampleBCOVIMAWidevine-master-4.1.7</a>
                    </li>
                </ul>
            </div>

            <div class="section" id="installation">
                <h2 id="toc_1">Installation</h2>

                <p>You can use <a href="http://cocoapods.org">Cocoapods</a> to add the Brightcove Player SDK to your project.  You can find the latest <code>Brightcove-Player-SDK</code> podspec <a href="https://github.com/CocoaPods/Specs/tree/master/Specs/Brightcove-Player-SDK">here</a>.</p>

                <p>To add the Brightcove Player SDK to your project manually:</p>

                <ol>
                <li>Download the latest zip&#39;ed release from our <a href="https://github.com/brightcove/brightcove-player-sdk-ios/releases">release page</a>.</li>
                <li>Add the contents of Library and Headers to the project.</li>
                <li>On the &quot;Build Phases&quot; tab of your application target, add the following to the &quot;Link
                Binary With Libraries&quot; phase:

                <ul>
                <li><code>AVFoundation</code></li>
                <li><code>CoreMedia</code></li>
                <li><code>MediaPlayer</code></li>
                <li><code>libBCOVPlayerSDK.a</code></li>
                </ul></li>
                <li>On the &quot;Build Settings&quot; tab of your application target:

                <ul>
                <li>Ensure that Brightcove Player SDK headers are in your application&#39;s &quot;Header Search Path&quot;.</li>
                <li>Add <code>-ObjC</code> to the &quot;Other Linker Flags&quot; build setting.</li>
                </ul></li>
                </ol>
            </div>
            <div class="section" id="systemRequirements">
                <h2 id="toc_2">System Requirements</h2>

                <p>iOS 7.0 and above is supported.</p>
            </div>
            <div class="section" id="quickStart">
                <h2 id="toc_3">Quick Start</h2>

                <p>Playing video with the Brightcove Player SDK for iOS, in less than 20 lines of code:</p>

<pre><code>NSString *token;      // (Brightcove Media API token with URL access)
NSString *playlistID; // (ID of the playlist you wish to use)

BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager];
id&lt;BCOVPlaybackController&gt; controller = [manager createPlaybackControllerWithViewStrategy:nil];
[self.view addSubview:controller.view];

BCOVCatalogService *catalog = [[BCOVCatalogService alloc] initWithToken:token];
[catalog findPlaylistWithPlaylistID:playlistID
                         parameters:nil
                         completion:^(BCOVPlaylist *playlist,
                                      NSDictionary *jsonResponse,
                                      NSError      *error) {

    [controller setVideos:playlist];
    [controller play];

}];
</code></pre>

                <p>If you&#39;re using ARC, you need to keep the controller from being automatically released at the end of the method. A common way to do this is to store a pointer to the controller in an instance variable.</p>
            </div>
            <div class="section" id="architecture">
                <h2 id="toc_4">Architectural Overview</h2>

                <div><img src="./assets/architecture01.png" alt="Architectural Overview 1"/></div>

                <p>The entry point to the Brightcove Player SDK for iOS is the <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVPlayerSDKManager.h"><code>BCOVPlayerSDKManager</code></a> singleton object. This Manager handles registration of plugin components and some other housekeeping tasks, but it primarily serves as an object factory. Your app&#39;s view controller obtains a reference to the Manager, and uses it to create a <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVPlaybackController.h"><code>BCOVPlaybackController</code></a>. The playback controller&#39;s <code>view</code> property exposes a UIView containing the AVPlayerLayer object that ultimately presents your video content on the screen. The playback controller also accepts a <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVPlaybackController.h#L210-L220"><code>BCOVPlaybackControllerDelegate</code></a>, which you can implement to respond to various video playback events.</p>

                <p>The playback controller offers methods and properties to affect playback of the current video. However, internally, the playback controller delegates to a <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVPlaybackSession.h"><code>BCOVPlaybackSession</code></a> object. Playback sessions do the actual work of preparing and playing video content, and contain the video&#39;s metadata and AVPlayer. The playback controller has mechanisms to advance from the current playback session to the next playback session, either automatically at the end of a video, or manually with a method call. Once the playback controller has advanced to a new session, the previous session is discarded and cannot be used again.</p>

                <p>There are two other elements of the playback controller: a <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVPlaybackSessionProvider.h"><code>BCOVPlaybackSessionProvider</code></a>, and a list of <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVPlaybackController.h#L194-L198"><code>BCOVPlaybackSessionConsumer</code></a>s. As the name would suggest, the playback session provider is responsible for creating playback sessions and delivering them to the playback controller. The playback controller then delivers the session to each of the playback session consumers in the list. Both the session provider and session consumer APIs are designed for use by plugin developers, and are not detailed in this document.</p>

                <p>In addition to the playback functionality provided by the classes described above, there are a handful of value classes. These are used to hold data specific to the Player SDK for iOS. There are also <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVCatalogService.h"><code>BCOVCatalogService</code></a> and <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/Headers/BCOVMediaRequestFactory.h"><code>BCOVMediaRequestFactory</code></a>, which offer functionality for querying content remotely stored in your Brightcove Video Cloud account. Each of these is described in more detail in its own section below.</p>

                <h3 id="toc_5">A Word on Subclassing</h3>

                <p>Except where explicitly documented otherwise, none of the classes in the Player SDK for iOS are designed to be subclassed. Creating a subclass of any SDK class that is not explicitly designed to be subclassed, especially any of the value classes, could result in unpredictable behavior.</p>

                <h3 id="toc_6">Values</h3>

                <p>Also known as &quot;model objects&quot;, these classes (<code>BCOVPlaylist</code>, <code>BCOVVideo</code>, <code>BCOVSource</code>, <code>BCOVCuePoint</code>, <code>BCOVCuePointCollection</code>) are used to represent data in the Player SDK for iOS. It is crucial to understand that these data types are treated as <em>values</em>, rather than <em>identities</em>. By this, we mean that if you have two instances of a value class which have the exact same data, they represent the same idea or value, even though they are technically two different objects at separate memory addresses. In other words, neither SDK code nor your client code should ever use identity comparisons (&quot;pointer equality&quot;) with value objects. Instead, each value class implements <code>-isEqual:</code> and provides a class-specific equality method overload, either of which should be used instead.</p>

                <p>This is bad:</p>

<pre><code>if (myVideo == session.video) // Could lead to bugs!
</code></pre>

                <p>These are good (and functionally equivalent):</p>

<pre><code>if ([myVideo isEqualToVideo:session.video])
if ([myVideo isEqual:session.video])
</code></pre>

                <p>The internals of the Player SDK for iOS may do such things as memoize values or make defensive copies, so relying on the pointer address to check for equality will end up causing you pain.</p>

                <p>Another quality of value classes in the Player SDK for iOS is that they are <em>immutable</em>. Once you have an instance of a value, you should not try to subvert this immutability in any way, as it may lead to unpredictable behavior. If in your code you wish to &quot;modify&quot; a value in some fashion, your only recourse is to create a new value. As a convenience to help clients obtain &quot;modified&quot; values, each of the value classes offers an <code>-update:</code> method which takes a block that allows you to operate on a mutable copy of the original value.</p>

                <p>Here is an example of using this method to create a &quot;modified&quot; version of an existing video object, but with different properties:</p>

<pre><code>BCOVVideo *video1; // (properties include a key &quot;foo&quot; whose value is &quot;bar&quot;)
BCOVVideo *video2 = [video1 update:^(id&lt;BCOVMutableVideo&gt; mutable) {

    mutable.properties = @{ @&quot;foo&quot;: @&quot;quux&quot; };

}];

NSLog(@&quot;foo is %@&quot;, video1.properties[@&quot;foo&quot;]); // prints &quot;foo is bar&quot;
NSLog(@&quot;foo is %@&quot;, video2.properties[@&quot;foo&quot;]); // prints &quot;foo is quux&quot;

// Both video1 and video2 are still immutable objects:
video1.properties = otherDictionary; // causes compiler error
video2.properties = otherDictionary; // causes compiler error
</code></pre>

                <p>As you can see in the example, <code>video1</code> has not been changed by the <code>-update</code> method call. Instead, this method returns a copy of <code>video1</code>, except with the modifications made in the body of the block. You should never allow the mutable copy to escape the block (such as by assigning it to a <code>__block</code> variable), instead use the immutable object returned by the <code>-update</code> method after you have made your modifications.</p>

                <p>(Thanks to <a href="http://www.jonmsterling.com/posts/2012-12-27-a-pattern-for-immutability.html">Jon Sterling</a> for publishing the Objective-C implementation of this pattern.)</p>

                <h3 id="toc_7">Catalog</h3>

                <p>The catalog classes provide functionality for retrieving information about your Brightcove assets via the Brightcove Media API. For most purposes, <code>BCOVCatalogService</code> provides sufficient functionality to obtain value class instances from input data such as playlist or video IDs, or reference IDs.</p>

                <p>If for some reason you need to customize the request that the catalog sends to the Brightcove Media API, you may find <code>BCOVMediaRequestFactory</code> helpful. This utility, which is used by the catalog service, generates parameterized Brightcove Media API NSURLRequest objects, which you can use in your own HTTP communication.</p>

                <h3 id="toc_8">View Strategy</h3>

                <p><code>BCOVPlaybackController</code> objects are constructed with a <strong>view strategy</strong>, which allows you, as the client of the SDK, to define the exact UIView object that is returned from the playback controller&#39;s <code>view</code> property. This is important when using plugins that affect the playback controller&#39;s view, such as an advertising plugin that overlays the video view with an ad view. Imagine trying to integrate custom controls with such a plugin: normally, custom controls are just regular UIView objects in the view hierarchy that float above the playback controller&#39;s video view. But with an advertising plugin, you generally want the ads to float over your custom controls. How to accomplish this without having in-depth knowledge of the structure of the playback controller&#39;s view hierarchy? The solution is to construct a view strategy that composes the video view, your custom controls, and the advertising view in a hierarchy of your choosing. The playback controller will call this view strategy the first time you access its <code>view</code> property. The final UIView object returned from the strategy will serve as its view permanently (until the controller is destroyed).</p>

                <p>Many apps will have no need to create a view strategy, and can simply pass <code>nil</code> when creating a new playback controller. This will create a standard video view in the playback controller. However, for apps that do need the control offered by a view strategy, we provide a more detailed explanation here.</p>

                <p>The <code>BCOVPlaybackControllerViewStrategy</code> typedef aliases (and documents) this more complex block signature:</p>

<pre><code>UIView *(^)(UIView *view, id&lt;BCOVPlaybackController&gt; playbackController);
</code></pre>

                <p>This signature describes an Objective-C block that returns a UIView and takes two parameters: a UIView and a playback controller. The return value is easy to understand: it is the UIView object that you want the playback controller&#39;s <code>view</code> property to point to. But what about the parameters to the block; what is the UIView that is passed as the first parameter? And why is the playback controller passed as the second parameter?</p>

                <p>The first parameter is a UIView that <em>would</em> have become the playback controller&#39;s <code>view</code> property, if your view strategy didn&#39;t exist to specify otherwise. To illustrate, you could create a pointless no-op view strategy by implementing the block to return its <code>view</code> parameter directly:</p>

<pre><code>BCOVPlaybackControllerViewStrategy viewStrategy =
        ^ UIView *(UIView *videoView, id&lt;BCOVPlaybackController&gt; playbackController) {

    return videoView;

};
</code></pre>

                <p>This has the same effect as passing a <code>nil</code> view strategy when creating the playback controller.</p>

                <p>The second parameter is the same playback controller object to which the view strategy has been given. Why would the view strategy need to reference its playback controller? In many cases, it probably doesn&#39;t, and the second parameter can be safely ignored. But some apps might need a view strategy that adds a session consumer to the playback controller. For example, to update custom controls every time the controller advances to a new playback session, you need to be notified of new sessions. The playback controller is made available in the second parameter to the block, so that the view strategy can add any necessary session consumers.</p>

                <p>It is very important not to retain this reference to the playback controller. That is, it is safe to use within the block if you need, but don&#39;t try to assign it to a <code>__block</code> variable or global variable so that you can access it later. The parameter is passed in only because there is no playback controller reference that can be closed-over within the block at the time the view strategy is defined.</p>

                <p>Here&#39;s an example of a more sensible view strategy implementation:</p>

<pre><code>BCOVPlaybackControllerViewStrategy viewStrategy =
        ^(UIView *videoView, id&lt;BCOVPlaybackController&gt; playbackController) {

    // Create some custom controls for the video view,
    // and compose both into a container view.
    UIView&lt;BCOVPlaybackSessionConsumer&gt; *myControlsView = [[MyControlsView alloc] init];
    UIView *controlsAndVideo = [[UIView alloc] init];
    [controlsAndVideo addSubview:videoView];
    [controlsAndVideo addSubview:myControls];

    // Compose the container with an advertising view
    // into another container view.
    UIView&lt;BCOVPlaybackSessionConsumer&gt; *adView = [[SomeAdPluginView alloc] init];
    UIView *adViewAndVideo = [[UIView alloc] init];
    [adViewAndVideo addSubview:controlsAndVideoContainer];
    [adViewAndVideo addSubview:adView];

    [playbackController addSessionConsumer:myControls];
    [playbackController addSessionConsumer:adView];

    // This container view will become `playbackController.view`.
    return adViewAndVideo;

};
</code></pre>

                <p>Let&#39;s review what this view strategy does in detail: first, it creates a custom controls view that conforms to the <code>BCOVPlaybackSessionConsumer</code> protocol. (Note that custom views are not required to conform to this protocol; some other non-view object could have been added as a session consumer instead. This just makes the example easier to follow.) Notice how the view hierarchy is composed in this view strategy block: a container view is created to hold both the video view and the controls. These views are added in an order such that the controls will appear <em>over</em> the video view. Next, a container view is created to hold the ad view and the first container view. They are added in an order such that the ad view will appear over the container with the custom controls and video view. Finally, the custom controls and the ad view are registered as session consumers, so that when a new playback session is delivered to the playback controller, these views can subscribe to the appropriate events on the session.</p>

                <p>Again, for most use cases it should suffice to not use a view strategy at all. Just add the playback controller&#39;s view to a view hierarchy, and compose custom controls on top of it. But for more nuanced cases such as when using certain plugins, it helps to have an opportunity to take control of the composition of the playback controller&#39;s view, and that&#39;s exactly why you can pass a view strategy to the <code>BCOVPlayerSDKManager</code> when creating a new playback controller.</p>

                <p>There is one caveat to using a view strategy: you must not access the playback controller&#39;s <code>view</code> property from within the view strategy block. Since the block is being called <em>because</em> the playback controller&#39;s <code>view</code> property was accessed for the first time, accessing the <code>view</code> property again <em>within</em> the view strategy block could cause a rip in the fabric of space and time, and your program will crash.</p>
            </div>

            <div class="section" id="resizingplayer">
                <h2 id="toc_9">Resizing AVPlayerLayer</h2>
              <p>One reason to assume control over the resizing animation of the <code>AVPlayerLayer</code> would be to implement a "full screen" button.</p>
              <p>If you want to do this, Brightcove recommends that you create your own <code>UIView</code> and capture the <code>AVPlayerLayer</code> that is created for each <code>BCOVPlaybackSession</code> and not use <code>BCOVPlaybackController.view</code> at all.</p>
              <p>The SDK adds the <code>AVPlayerLayer</code> to the <code>BCOVPlaybackController.view</code> every time a new playback session is sent to the playback controller. This is done for each video since each video's session has a unique <code>playerLayer</code> oject.</p>
              <p>Each time the <code>AVPlayerLayer</code> is added to the <code>BCOVPlaybackController.view</code>, the SDK disables its animation by setting the bounds and position entries in the <code>AVPlayerLayer.actions</code> dictionary to <code>NSNull</code>. If you try to mutate the actions dictionary directly, you will have to update it every time it advances to a new playback session.</p>
              <p>Here is an example of what you might do:</p>
              <ol>
                <li>If you are using the code from the Basic Player Sample, in the <code>viewDidLoad</code> method, comment any references to the <code>playbackController.view</code>.</li>
                <pre><code>// self.playbackController.view.frame = self.videoContainer.bounds;
// self.playbackController.view.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth;
// [self.videoContainer addSubview:self.playbackController.view];
</code></pre>
                <li>Then, in the <code>didAdvanceToPlaybackSession</code> method, add the <code>AVPlayerLayer</code> to the layer of your view.</li>
              </ol>
              <p>If you really need to use <code>BCOVPlaybackController.view</code>, you can remove the bounds and position entries from the <code>AVPlayerLayer.actions</code> dictionary, but you’ll have to assume responsibility for setting up the <code>CALayer</code> animations to look good in your code.</p>
            </div>
          
            <div class="section" id="analytics">
                <h2>Analytics</h2>
                <p>If you use the Brightcove player and Catalog included in the SDK to retrieve and play videos, analytics data will be automatically collected and will appear in your Video Cloud Analytics.</p>
                <p>If you override the <code>BCOVVideo</code> class or do not use the Brightcove player and catalog, you need to send your Publisher ID to Video Cloud Analytics.</p>
                <p>For details about sending data to Video Cloud Analytics, see the <a href="//docs.brightcove.com/en/video-cloud/mobile-sdks/brightcove-player-sdk-for-ios/guides/analytics/analytics.html">Using Brightcove Analytics</a> guide.</p>
            </div>

            <div class="section" id="faq">
                <h2 id="toc_10">FAQ</h2>

                <p><strong>My content won&#39;t load. Is there an easy way to test whether the URL points to a valid video?</strong></p>

                <p>If the content is packaged as MP4, you can paste the URL directly into most web browsers, and the video should play (or download to your filesystem, where you can play it locally). If the content is packaged as HLS, you can use QuickTime Player to test it: select <code>File -&gt; Open Location…</code> and paste in the <code>.m3u8</code> playlist URL, and the video should play.</p>

                <p><strong>I can hear the audio track playing, but the video freezes for a few seconds sporadically. What&#39;s happening?</strong></p>

                <p>This is a common symptom of having called a main thread-only UIKit or AVFoundation method from a non-main thread. The delegate methods on <code>BCOVPlaybackControllerDelegate</code> are always called on the main thread.</p>

                <p><strong>How do I customize the controls?</strong></p>

                <p>The <code>BCOVPlayerSDKManager</code> provides a view strategy that creates rudimentary controls for development purposes, but they are not designed for extension or modification. To differentiate your app and ensure a unique user experience, we recommend that you create your own custom controls from scratch. For most cases, you can add the <code>BCOVPlaybackController.view</code> to a UIView behind your own custom controls, and implement the <code>BCOVPlaybackControllerDelegate</code> methods to update the controls in response to various playback events. If your needs are more complex (such as if you are integrating with an advertising plugin) then you can implement a view strategy as described in the section on view strategies, above.</p>

                <p><strong>How do I retrieve data from the Brightcove Media API for which there is no <code>BCOVCatalogService</code> method?</strong></p>

                <p>The catalog service offers methods for the most common Brightcove Media API operations, but there are <a href="http://docs.brightcove.com/en/video-cloud/media/">other operations</a> available. To leverage them, you will need to issue an HTTP request and then process the response. You can use a standard NSURLRequest to do this, or you can leverage a <a href="http://afnetworking.com">3rd-party HTTP API</a> if you find that easier. In either case, when you receive the response, you can use a standard JSON parser (like NSJSONSerialization) to convert the response into a NSDictionary, and then construct the appropriate value classes from the data in the NSDictionary.</p>

                <p><strong>Why do I see a message in the log indicating that no source has been found?</strong></p>

                <p>This message indicates that the default source selection policy can&#39;t figure which source to pick. The default policy selects the first source whose <code>deliveryMethod</code> is <code>kBCOVSourceDeliveryHLS</code> (&quot;HLS&quot;). If no HLS source is found, its fallback behavior will select the first source whose <code>deliveryMethod</code> is <code>kBCOVSourceDeliveryMP4</code> (&quot;MP4&quot;). If no source with a <code>deliveryMethod</code> of &quot;HLS&quot; or &quot;MP4&quot; exists on the video, the policy will select the video&#39;s first source (regardless of <code>deliveryMethod</code>). If you aren&#39;t happy with its selection, you can use <code>-[BCOVPlayerSDKManager createBasicSessionProviderWithOptions:]</code> and pass in an instance of <code>BCOVBasicSessionProviderOptions</code> with a custom <code>sourceSelectionPolicy</code> property set. When creating videos and sources manually, ensure that the sources are created with the appropriate <code>deliveryMethod</code>.</p>

                <p><strong><a href="https://developer.apple.com/Library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/AudioGuidelinesByAppType/AudioGuidelinesByAppType.html">Apple recommends</a> that apps which play video should still play audio even when the device is muted. Why doesn&#39;t the Brightcove Player SDK for iOS respect these guidelines?</strong></p>

                <p>The API which controls whether an app emits audio in iOS apps is the <a href="https://developer.apple.com/Library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007875-CH1-SW1">AVAudioSession API</a>. An audio session is global to an app, which means that its configuration affects both the sounds that are emitted by the AVPlayers created by the Player SDK, as well as other sounds that an app may produce. Since the Player SDK cannot know how the app wants the audio session configured for those other sounds, it doesn&#39;t affect the audio session at all. This means that unless you explicitly configure your app&#39;s audio session otherwise, you inherit the default behavior of suppressing any and all audio when the device is muted, including audio emitted by AVPlayers. To conform to Apple&#39;s recommendations regarding audio playback, you (the app developer) must configure the audio session according to your app&#39;s specific needs.</p>
            </div>
        </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.3/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.min.js"></script>

    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script>
        $(document).foundation();
    </script>
</body>

</html>
