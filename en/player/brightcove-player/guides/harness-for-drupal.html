<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="robots" content="noindex">
  <!-- Begin Drupal Taxonomy Data -->
  <meta name="products" content="Video Cloud">
  <meta name="role" content="Player Developer">
  <meta name="task" content="">
  <meta name="topic" content="">
  <!-- End Drupal Taxonomy Data -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Harness</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">
  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-2728311-29', 'auto');
    ga('send', 'pageview');
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
  <div class="row">
    <div class="sidebar large-2 columns show-for-large-up">
      <div id="sidenav" class="side-nav"></div>
    </div>
    <div id="main" class="large-10 small-12 columns">
      <h1>Harness</h1>

      <!-- begin drupal content -->



      <article class="bcls-article">
    <section class="bcls-section">
    <h2 id="What_is_the_Plugin_Registry">What is the Plugin Registry?</h2>

    <p>The Plugin Registry is a section of the Player Management API devoted to storing information about Brightcove plugins. The registry serves as a reference for all versions of each stored plugin, as well as the scripts and stylesheets associated with each. Player configuration leverages the Plugin Registry, displaying the current plugin version, and also allowing you to specify a plugin version.</p>

    <aside class="bcls-aside bcls-aside--information">The Plugin Registry is implemented in version 2 of the Player Management API.</aside>
    </section>

    <section class="bcls-section">
    <h2 id="Advantages">Advantages</h2>

    <p>The advantages of the Plugin Registry for Brightcove Player users are three fold:</p>

    <ul>
    	<li>You can see exactly what version of plugin is being used with your player, as well as the specific JavaScript and CSS files associated with that specific plugin version.</li>
    	<li>You can configure plugins to be automatically updated when new versions are released that are compatible with your player version.</li>
    	<li>If for some reason you choose to keep a player on a specific player version, you can configure plugins to remain on specific versions for that player. You do not have to worry about a plugin being upgraded to a version that is not compatible with your player version.</li>
    </ul>
    </section>

    <section class="bcls-section">
    <h2 id="Current_eligible_plugins">Current eligible plugins</h2>

    <p>The following table shows the Brightcove supplied plugins that work with the Plugin Registry. The <strong>Plugin Registry ID</strong> will be used with player configuration in conjunction with the Player Management API. Numerous examples will be shown in this document.</p>

    <table class="bcls-table">
    	<thead class="bcls-table__head">
    		<tr>
    			<th>Plugin Name</th>
    			<th>Plugin Registry ID</th>
    		</tr>
    	</thead>
    	<tbody class="bcls-table__body">
    		<tr>
    			<td>Custom Endscreen</td>
    			<td>@brightcove/videojs-custom-endscreen</td>
    		</tr>
    		<tr>
    			<td>IMA3 Advertising</td>
    			<td>@brightcove/videojs-ima3</td>
    		</tr>
    		<tr>
    			<td>Quality Selection</td>
    			<td>@brightcove/videojs-quality-menu</td>
    		</tr>
    		<tr>
    			<td>Overlay</td>
    			<td>@brightcove/videojs-overlay</td>
    		</tr>
    		<tr>
    			<td>Playlist UI</td>
    			<td>@brightcove/videojs-bc-playlist-ui</td>
    		</tr>
    		<tr>
    			<td>Social</td>
    			<td>@brightcove/videojs-social</td>
    		</tr>
    	</tbody>
    </table>
    </section>

    <section class="bcls-section">
    <h2 id="Specify_use_of_a_plugin">Specify use of a plugin</h2>

    <p>To specify the use of a plugin, in your player creation you simply supply the registry ID for the desired plugin. You must specify a specific version number, or specify the plugin to auto update, as detailed in a <a href="#Specify_auto_update"> later section</a> of this doc.</p>

    <pre class="line-numbers">
    <code class="language-bash">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request POST \
      --data '{
          "name": "Plugin Registry Test Player",
          "configuration": {
            "video_cloud": {
              "video": "4093372393001"
            },
            <span class="bcls-highlight">"plugins": [
              {
                "registry_id": "@brightcove/videojs-overlay",
                "version": "auto"
              }
            ]</span>
          }
      }' \
      https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>

    <p>Information on the created player is returned by the Player Management API. You can use the <strong>url</strong> value returned, change the <strong>index.html</strong> to <strong>config.json</strong> and browse that URL to see the configuration of the published player.</p>

    <pre class="line-numbers">
    <code class="language-json">{
      "id": "rkGD9W22Ob",
      "url": "<span class="bcls-highlight">http://players.brightcove.net/1507807800001/rkGD9W22Ob_default/index.html</span>",
      "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/rkGD9W22Ob_default/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
      "embed_in_page": "http://players.brightcove.net/1507807800001/rkGD9W22Ob_default/in_page.embed",
      "preview_url": "http://preview-players.brightcove.net/v2/accounts/1507807800001/players/rkGD9W22Ob/preview/embeds/default/master/index.html",
      "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/v2/accounts/1507807800001/players/rkGD9W22Ob/preview/embeds/default/master/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
    }</code></pre>

    <p>In the configuration of the published player you see the information on the plugin. Note that specific version of the plugin are displayed, along with the corresponding values for the JavaScript and CSS files.</p>

    <pre class="line-numbers">
    <code class="language-json">{
  "account_id": "1507807800001",
  "compatibility": true,
  "embed_id": "default",
  "player": {
    "template": {
      "name": "single-video-template",
      "version": "6.7.0"
    }
  },
  "player_id": "Hy6Gv0Uib",
  "player_name": "Plugin Registry Test Player",
  <span class="bcls-highlight">"plugins": [{
    "injected_version": "1.1.4",
    "name": "overlay",
    "registry_id": "@brightcove/videojs-overlay",
    "version": "auto"
  }],
  "scripts": [
    "//players.brightcove.net/videojs-overlay/1.1.4/videojs-overlay.min.js"
  ],
  "stylesheets": [
    "//players.brightcove.net/videojs-overlay/1.1.4/videojs-overlay.css"
  ],</span>
  "updated_at": "2017-09-25T19:20:52.850Z",
  "video_cloud": {
    "policy_key": "BCpkADawqM37pCnESsTeQFwX4yCBf0lh5fRYb49NVUdD_TaWoC1AKee7wOdKXi0hqfxLU8ptm1rpT-HT4riy4dXCkPVzMMT1J2QoznegHpu1k9clbuNHvOdOypJ1FG1yKLEIuKLML6WwER3p",
    "video": "4093372393001"
  }
}</code></pre>

    <aside class="bcls-aside bcls-aside--information">Depending on the template version your player is using, the scripts and stylesheets that get injected may either appear at the top level of the player configuration or nested in the <strong>plugins</strong> object.</aside>
    </section>

    <section class="bcls-section">
    <h2 id="Specify_auto_update">Specify auto update</h2>

    <p>If you wish the plugin to be updated whenever a version is released that is compatible with your player version, you need to specify that. To do this, you add <code>"version": "auto"</code> to your player configuration information in the curl statement.</p>

    <aside class="bcls-aside bcls-aside--tip">If you have locked your player version, as described in the <a href="/node/16130">Setting the Player Update Mode and Version</a> document, the plugins associated with that player will also be version locked.</aside>

    <pre class="line-numbers">
    <code class="language-bash">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request POST \
      --data '{
          "name": "Plugin Registry Test Player",
          "configuration": {
            "video_cloud": {
              "video": "4093372393001"
            },
            "plugins": [
              {
                "registry_id": "@brightcove/videojs-overlay",
                <span class="bcls-highlight">"version": "auto"</span>
              }
            ]
          }
      }' \
      https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>

    <p>The resulting player configuration appears as follows:</p>

    <pre class="line-numbers">
    <code class="language-json">"plugins": [{
      "injected_version": "1.1.4",
      "name": "overlay",
      "registry_id": "@brightcove/videojs-overlay",
      <span class="bcls-highlight">"version": "auto"</span>
    }],
    "scripts": [
      "//players.brightcove.net/videojs-overlay/1.1.4/videojs-overlay.min.js"
    ],
    "stylesheets": [
      "//players.brightcove.net/videojs-overlay/1.1.4/videojs-overlay.css"
    ],</code></pre>

    <aside class="bcls-aside bcls-aside--tip">In the section above, you created a player using only the <code>registry_id</code>. If you do not specify a specific version for the plugin, the plugin will be treated as if <code>"version": "auto"</code> was used. For a plugin to remain at a specific version you must specify the version, as shown in the next section of this document.</aside>
    </section>

    <section class="bcls-section">
    <h2 id="Specify_specific_version">Specify specific version</h2>

    <p>You can specify a specific version of the plugin to use. If you do this the plugin will NOT be automatically updated under any circumstances, so you will have to manually update if needed.</p>

    <aside class="bcls-aside bcls-aside--tip">If you have locked your player version, as described in the <a href="/node/16130">Setting the Player Update Mode and Version</a> document, the plugins associated with that player will also be version locked.</aside>

    <p>To lock a version of the plugin simply specify the version when creating the player:</p>

    <pre class="line-numbers">
    <code class="language-bash">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request POST \
      --data '{
          "name": "Plugin Registry Test Player",
          "configuration": {
            "video_cloud": {
              "video": "4093372393001"
            },
            "plugins": [
              {
                "registry_id": "@brightcove/videojs-overlay",
                <span class="bcls-highlight">"version": "1.0.2"</span>
              }
            ]
          }
      }' \
      https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>

    <p>The player configuration will reflect the specific version, as well as in the JavaScript and CSS files:</p>

    <pre class="line-numbers">
    <code class="language-json">"plugins": [{
      "name": "overlay",
      "registry_id": "@brightcove/videojs-overlay",
      <span class="bcls-highlight">"version": "1.0.2"</span>
    }],
    "scripts": [
      <span class="bcls-highlight">"//players.brightcove.net/videojs-overlay/1.0.2/videojs-overlay.min.js"</span>
    ],
    "stylesheets": [
      <span class="bcls-highlight">"//players.brightcove.net/videojs-overlay/1.0.2/videojs-overlay.css"</span>
    ],</code></pre>
    </section>

    <section class="bcls-section">
      <h2 id="section-name">Specify specific major version</h2>
      <p>You can configure a player to use the latest version of the plugin for a specific <strong>major</strong> version compatible with the player you are using. If you want your player to contain the latest compatible version of the custom endscreen plugin for <strong>major version 2</strong> of the plugin you would use the following:</p>
      <pre class="line-numbers">
      <code class="language-bash">curl \
        --header "Content-Type: application/json" \
        --user $EMAIL \
        --request POST \
        --data '{
            "name": "Plugin Registry Test Player",
            "configuration": {
              "video_cloud": {
                "video": "4093372393001"
              },
              "plugins": [
                {
                  "registry_id": "@brightcove/videojs-custom-endscreen",
                  <span class="bcls-highlight">"version": "2.x"</span>
                }
              ]
            }
        }' \
        https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>
        <p>The resulting configuration will appear similar to the following: </p>
      <pre class="line-numbers"><code class="language-json">"plugins": [{
  "injected_version": "2.0.10",
  "name": "customEndscreen",
  "registry_id": "@brightcove/videojs-custom-endscreen",
  "version": "2.x"
}],
"scripts": [
  "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.min.js"
],
"stylesheets": [
  "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.css"
],</code></pre>
    </section>


    <section class="bcls-section">
    <h2 id="Studio_configured_plugin">Studio configured plugin</h2>

    <p>If a plugin is loaded via Studio, the plugin will reflect new functionality in the Plugin Registry:</p>

    <pre class="line-numbers">
    <code class="language-json">{
      "account_id": "1507807800001",
      "compatibility": true,
      "embed_id": "default",
      "player": {
        "template": {
          "name": "single-video-template",
          "version": "6.5.0"
        }
      },
      "player_id": "BkYmd2hOZ",
      "player_name": "Plugin Registry Test Player",
      <span class="bcls-highlight">"plugins": [{
        "injected_version": "2.0.10",
        "name": "customEndscreen",
        "options": {
          "content": "&lt;h3&gt;This is the endscreen content&lt;/h3&gt;"
        },
        "registry_id": "@brightcove/videojs-custom-endscreen",
        "version": "auto"
      }],
      "scripts": [
        "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.min.js"
      ],
      "stylesheets": [
        "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.css"
      ]</span>,
      "updated_at": "2017-08-24T20:34:18.812Z",
      "video_cloud": {
        "policy_key": "BCpkADawqM0IlrueZk1TUBqxtkT6u3okUlVcA-RntmaEzPXHQpacpxtZnZK04WR1TVFLLqAWX6zps86N2swYK25NKL_g5GjQn3vXZ3SaWDAialkNsXzfGw-_CFhYpoaldoStK_1ez4aEr33G",
        "video": null
      }
    }</code></pre>

    <p>As you can see in the player configuration, a plugin loaded in Studio will be updated as new versions compatible with the player version are released (auto update).</p>
    </section>

    <section class="bcls-section">
      <h2 id="Plugin_registry_API">Plugin registry API</h2>
      <p>Two new endpoints have been added to the Player Management API that enable retrieval of plugin information from the registry, which provide functionality for you to:</p>
      <ul>
        <li>Retrieve all plugins in the registry.</li>
        <li>Retrieve information on a specific plugin.</li>
      </ul>
      <h3>Get all plugins</h3>
      <p>Use the following to retrieve information about the plugins currently in the registry.</p>
      <pre class="line-numbers"><code class="language-bash">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL \
  --request GET \
  https://players.api.brightcove.com/v2/plugins</code></pre>
      <aside class="bcls-aside bcls-aside--tip">Note: Adding a query string in the form <code>?template_version=$SVTVERSION</code> to the endpoint will result in a response containing only plugin versions compatible with the specified single-video-template version. For example, to get only plugin versions compatible with Brightcove Player template 6.7.0, use <code>?template_version=6.7.0</code>.</aside>
      <p>The returned information will appear similar to the following:</p>
      <pre class="line-numbers"><code class="language-json">[{
  "documentation": "https://support.brightcove.com/playlist-ui-plugin",
  "description": "Brightcove customizations to videojs-playlist-ui",
  "id": "@brightcove/videojs-bc-playlist-ui",
  "name": "bcPlaylistUi",
  "current_version": "2.x"
}, {
  "documentation": "https://support.brightcove.com/custom-endscreen-plugin",
  "description": "Custom endscreens for video.js.",
  "id": "@brightcove/videojs-custom-endscreen",
  "name": "customEndscreen",
  "current_version": "2.x"
}, {
  "documentation": "https://support.brightcove.com/advertising-ima3-plugin",
  "description": "Google Interactive Media Ads (IMA) v3 support for video.js",
  "id": "@brightcove/videojs-ima3",
  "name": "ima3",
  "current_version": "2.x"
}, {
  "documentation": "https://support.brightcove.com/display-overlay-plugin",
  "description": "Overlay for video.js.",
  "id": "@brightcove/videojs-overlay",
  "name": "overlay",
  "current_version": "1.x"
}, {
  "documentation": "https://support.brightcove.com/manual-rendition-selection-plugin",
  "description": "Quality Selection Menu UI",
  "id": "@brightcove/videojs-quality-menu",
  "name": "qualityMenu",
  "current_version": "1.x"
}, {
  "documentation": "https://support.brightcove.com/social-media-plugin",
  "description": "Social sharing integrations for video.js.",
  "id": "@brightcove/videojs-social",
  "name": "social",
  "current_version": "3.x"
}]</code></pre>
      <h3>Get specific plugin information</h3>
      <p>Use the following to retrieve information about a specific plugin. Note that the plugin name must be URL encoded, so instead of <code>@brightcove/videojs-ima3</code> use <code>%40brightcove%2fvideojs-ima3</code>.</p>
      <pre class="line-numbers"><code class="language-bash">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL \
  --request GET \
  https://players.api.brightcove.com/v2/plugins/%40brightcove%2fvideojs-ima3</code></pre>
      <p>The returned information will appear similar to the following:</p>
      <pre class="line-numbers"><code class="language-json">{
  "versions": [{
    "version_number": "2.x",
    "minimum_template_version": "5.0.0",
    "stylesheets": [
      "//players.brightcove.net/videojs-ima3/2/videojs.ima3.min.css"
    ],
    "scripts": [
      "//players.brightcove.net/videojs-ima3/2/videojs.ima3.min.js"
    ]
  }, {
    "version_number": "1.x",
    "minimum_template_version": "1.14.0",
    "stylesheets": [
      "//players.brightcove.net/videojs-ima3/1/videojs.ima3.min.css"
    ],
    "scripts": [
      "//players.brightcove.net/videojs-ima3/1/videojs.ima3.min.js"
    ]
  }],
  "documentation": "https://support.brightcove.com/advertising-ima3-plugin",
  "description": "Google Interactive Media Ads (IMA) v3 support for video.js",
  "id": "@brightcove/videojs-ima3",
  "name": "ima3",
  "current_version": "2.x"
}</code></pre>
    </section>
    </article>






      <!-- end drupal content -->

    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v2.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
    $(document).foundation();
  </script>
  <div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
  </div>
  <div class="bcls-footer"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a>
  </div>
  <script>
    var feedbackMail = document.getElementById("feedbackMail");
    feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
  </script>
</body>

</html>
