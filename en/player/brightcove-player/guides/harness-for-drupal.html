<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="robots" content="noindex">
  <!-- Begin Drupal Taxonomy Data -->
  <meta name="products" content="Video Cloud">
  <meta name="role" content="Player Developer">
  <meta name="task" content="">
  <meta name="topic" content="">
  <!-- End Drupal Taxonomy Data -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Title</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">
  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-2728311-29', 'auto');
    ga('send', 'pageview');
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
  <div class="row">
    <div class="sidebar large-2 columns show-for-large-up">
      <div id="sidenav" class="side-nav"></div>
    </div>
    <div id="main" class="large-10 small-12 columns">
      <h1>Title</h1>

      <!-- begin drupal content -->


      <article class="bcls-article">
      <header id="bcls_header" class="bcls-header">
      <aside class="bcls-aside bcls-aside--information">IP address restriction is available only to Video Cloud Enterprise publishers.</aside>
      </header>

      <section id="Overview" class="bcls-section">
      <h2>Overview</h2>

      <p>In order to limit video playback to internal viewers only, Video&nbsp;Cloud Enterprise publishers can use IP address restriction. This approach prevents all the players in an account from loading unless the browser loading the player uses one of a specified list (whitelist) of allowed IP addresses. This provides a level of security that goes beyond <a href="node/15616#domains">domain restriction</a> or <a href="node/15616#geofilter">geo-restriction</a>.</p>

      <p>When you set up IP address restriction, it applies to all the players in that account. You will need to use a separate account for players and videos that you want to make publicly available.</p>

      <p>When a user tries to load a page that contains a Video Cloud player from an address that is not on the whitelist, they will see an error message that says "The video you are trying to watch cannot be viewed from your current country or location."</p>
      </section>

      <section id="How_to_set_up_IP_address_restriction" class="bcls-section">
      <h2>How to set up IP address restriction</h2>

      <p>To set up IP address restriction for one of your Video Cloud accounts, contact <a href="http://support.brightcove.com/en/contact">Brightcove Support</a>. You will need to work with Support to identify or create an account for this purpose and provide a text file that contains your IP address whitelist.</p>
      </section>

      <section id="Creating_an_IP_address_whitelist" class="bcls-section">
      <h2>Creating an IP address whitelist</h2>

      <p>To set up IP address restriction for one of your Video Cloud accounts, you need to provide Brightcove Support with a whitelist of the IP addresses that should be allowed to load Video Cloud players. Most companies use one or more gateways through which internal corporate traffic reaches the outside Internet.&nbsp;Your IP address whitelist should include the IP addresses of all of these gateways.</p>

      <p>The whitelist should include each IP address on a separate line. You can also include a range of IP addresses. For example:</p>

      <pre>
      38.39.23.40
      38.39.23.48
      38.39.23.50-38.112.23.69
      38.39.23.100-38.112.23.199</pre>

      <p>You can also use <a target="_blank" href="http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR block notation</a>, such as:</p>

      <pre>
      38.39.23.50|38</pre>

      <p>or</p>

      <pre>
      38.39.23.50/38</pre>
      </section>

      <section id="Video_Cloud_content" class="bcls-section">
      <h2>Video Cloud content</h2>

      <p>When using the Playback API to retrieve content from a Video Cloud account which is configured for IP restrictions, you must use the following instead of the standard URL:</p>

      <pre>
      <code>https://edge-elb.api.brightcove.com/playback/v1</code></pre>

      <p>Use <code>edge-elb.api...</code> vs the normal <code>edge.api...</code></p>

      <h3 id="Implementation_details">Implementation details</h3>
      <p>When a Brightcove Player is asked to load a video from a Video Cloud account, it connects to the catalog at this address:</p>
      <p><strong>https://edge.api.brightcove.com/playback/v1/</strong>.</p>
      <p>Here is how that URL behaves:</p>
      <ul>
        <li>When hitting Edge from within North America, it hits Edge directly, and Edge sees the user's IP address.  It can either allow or deny access to the catalog as per the IP Restriction whitelist. This is the desired behavior.</li>
        <li>When hitting Edge from outside North America it goes via Cloudfront for load-balancing/local caching CDN reasons.  This is important because as a result of this Edge sees the Cloudfront IP instead of the user's IP, and denies all requests. This is because Cloudfront isn't on the whitelist, and never should it be because then anyone using Cloudfront would have access.</li>
      </ul>







      That Edge endpoint behaves in a way that can cause problems for IP restriction.

      (...)

      * When hitting Edge from within North America, it hits Edge directly, and Edge sees the user's IP address.  It can either allow or deny access to the catalog as per the IP Restriction whitelist.  Hooray!

      * When hitting Edge from [outside North America], it goes via Cloudfront for load-balancing/local caching CDN reasons.  That's important, because as a result of this, Edge sees the Cloudfront IP instead of the user's IP, and denies everyone, because Cloudfront isn't on the whitelist (and never should it be, because then anyone using Cloudfront would have access).


      <p>For more details, see the <a href="/node/17906">Playback API Overview</a> document.</p>
      </section>
      </article>
      <!-- End of Drupal content -->



      <!-- end drupal content -->

    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v2.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
    $(document).foundation();
  </script>
  <div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
  </div>
  <div class="bcls-footer"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a>
  </div>
  <script>
    var feedbackMail = document.getElementById("feedbackMail");
    feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
  </script>
</body>

</html>
