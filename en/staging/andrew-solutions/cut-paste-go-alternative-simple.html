<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Untitled Document</title>
  <style>
    .video-js {
      height: 344px;
      width: 610px;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" />

</head>

<body>
  <button id="generatePlayer" class="bcls-button">Generate Player</button>


  <section class="bcls-section">
    <h2 id="Player">Player</h2>
    <div id="placeHolder"></div>
    <br />
    <br />
    <br />
  </section>



  <script type="text/javascript">
    var
      player;

    generatePlayer.addEventListener("click", function() {
      account_id = '1752604059001';
      video_url = '4093643993001';
      ad_server_url = 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=';
      var s = document.createElement('script');
      s.src = "//players.brightcove.net/" + account_id + "/default_default/index.min.js";
      // Add the script tag to the document
      document.body.appendChild(s);
      // Call a function to play the video once player's JavaScript loaded
      s.onload = callback;


      // +++ Initialize the player and start the video +++
      function callback() {
        console.log('****account_id:', account_id);
        console.log('****video_url:', video_url);
        console.log('****ad_server_url:', ad_server_url);
        playerHTML = '<video id=\"myPlayerID\" data-video-id=\"' + video_url + '\"  data-account=\"' + account_id + '\" data-player=\"default\" data-embed=\"default\" class=\"video-js\" controls></video>';
        var ima = document.createElement('script');
        ima.src = '//players.brightcove.net/videojs-ima3/3/videojs.ima3.js';
        document.body.appendChild(ima);
        ima.onload = function() {
          document.getElementById('placeHolder').innerHTML = playerHTML;
          // instantiate player
          myPlayer = bc(document.getElementById('myPlayerID'));
          myPlayer.ima3({
            timeout: 10000,
            // debug to true to see console messages
            debug: true,
            // only use HTML5 mode
            adTechOrder: ["html5"],
            // set the requestMode to onload
            requestMode: "onload",
            // this is where your ad tag goes
            serverUrl: ad_server_url
          });
        }; // end ima script load
      }; // end player script load
    }); // end click event handler
  </script>

</body>

</html>
