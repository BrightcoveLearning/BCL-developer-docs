<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <title>IMA3 serverUrl function mediaInfo example</title>
  <link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet">
</head>

<body>
  <video id="myPlayerID"
    width="600" height="300"
    data-account="507017973001"
    data-player="default"
    data-embed="default"
    data-video-id="ref:sintel"
    data-application-id
    class="video-js"
    muted
    controls>
    </video>
  <script src="//players.brightcove.net/3303963094001/SyxWzbN7AG_default/index.min.js"></script>
  <script src="//players.brightcove.net/videojs-ima3/3/videojs.ima3.js"></script>
  <script>
    // Initialize player
    var myPlayer = bc('myPlayerID');

    // Initialize IMA plugin
    myPlayer.ima3({
      serverUrl: function(callback) {
        if (myPlayer.mediainfo.id === '4034552795001') {
          callback(
            'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator='
          );
        } else {
          callback(
            'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator='
          );
        }
      },
      requestMode: 'onload',
      debug: true,
      debugContribAds: true
    });

  </script>
</body>

</html>
