<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Load Player Dynamically</title>
  <!-- Page styles -->
  <style>
    .video-js {
      width: 640px;
      height: 360px;
    }
  </style>
</head>

<body>
  <button onclick="addPlayer()">Add Player</button>

  <div id="placeHolder"></div>

  <!-- custom script -->
  <script type="text/JavaScript">
    var myPlayer,
      playerHTML,
      //  Set the data for the player
      playerData = {
        'accountId': '1752604059001',
        'playerId': 'rJtrO8EKW',
        'videoId': '5550679964001'
      };
     //  Build the player and place in HTML DOM
    function addPlayer() {
      // Dynamically build the player video element
      playerHTML = '<video id=\"myPlayerID\" data-video-id=\"' + playerData.videoId + '\"  data-account=\"' + playerData.accountId + '\" data-player=\"' + playerData.playerId + '\" data-embed=\"default\" class=\"video-js\" controls></video>';
      // Inject the player code into the DOM
      document.getElementById('placeHolder').innerHTML = playerHTML;
      // Add and execute the player script tag
      var s = document.createElement('script');
      s.src = "//players.brightcove.net/" + playerData.accountId + "/" + playerData.playerId + "_default/index.min.js";
      document.body.appendChild(s);
      s.onload = callback;
    }
     //  Initialize the player and start the video
    function callback() {
      var ima = document.createElement('script');
      ima.src = '//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js';
      document.body.appendChild(ima);
      ima.onload = function () {
        myPlayer = videojs('myPlayerID');
        myPlayer.ima3({
          // debug to true to see console messages
          debug: true,
          // set the requestMode to onload
          requestMode: "onload",
          // this is where your ad tag goes
          serverUrl: 'https://solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vast.xml'
        });
      }
    }
  </script>
</body>

</html>
