<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Begin Drupal Taxonomy Data -->
  <meta name="products" content="Video Cloud, Brightcove Player">
  <meta name="role" content="Device SDK Developer">
  <meta name="task" content="Develop with the Native SDKs">
  <meta name="topic" content="Troubleshooting/Error Handling">
  <meta name="sdk" content="iOS,tvOS,Android">
  <meta name="keywords" content="device,SDK,FAQ">
  <!-- End Drupal Taxonomy Data -->

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <meta name="robots" content="noindex">
  <!-- change title to match the h1 heading -->
  <title>Advertising with the SSAI Plugin</title>

  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
  <div class="row">
    <div class="sidebar large-2 columns show-for-large-up">
      <div id="sidenav" class="side-nav"></div>
    </div>
    <div id="main" class="large-10 small-12 columns">
      <h1>Doc Title</h1>

      <!-- BEGIN DRUPAL CONTENT -->

      <article class="bcls-article">
        <section class="bcls-section" id="Overview">
          <h2>Overview</h2>

          <p>The Dynamic Ingest API call is exactly the same as it would be for <a href="/node/17944">ingesting new videos</a> - the only difference is that you do not need to make a prior call to the CMS API to create the video object in the Video Cloud
            system and get an id for it, and the request body is slightly different. All videos will remain playable with existing renditions until retranscoding is complete.</p>
        </section>


          <section class="bcls-section" id="video_data">
            <h2>Video data</h2>

            <p></p>


            <div id="inputFields" class="input-fields">
            <fieldset class="bcls-fieldset"><legend>Account Information</legend>

            <div id="accountInfo">
            <table class="bcls-table">
            	<tbody class="bcls-table__body">
            		<tr>
            			<td>Video Cloud Account ID:</td>
            			<td><input id="accountID" type="text" size="60" /></td>
            		</tr>
            		<tr>
            			<td>HLS Video URL:</td>
            			<td><input id="videoURL" type="text" size="200" placeholder="//learning-services-media.brightcove.com/videos/hls/wildlife_tiger/wildlife_tiger.m3u8"/></td>
            		</tr>
            		<tr>
            			<td>Ad Server URL:</td>
            			<td><input id="adServerURL" type="text" size="200" placeholder="//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vast.xml" /></td>
            		</tr>
            	</tbody>
            </table>
            </div>
            </fieldset>
            </div>
            <br />
            <button id="generatePlayer" class="bcls-button">Generate Player</button>

          </section>

          <section class="bcls-section" >
            <h2 id="Player">Player</h2>
            <div id="placeHolder"></div>
          </section>

          <section class="bcls-section" id="pageCode">
            <h2>Code for this app</h2>

            <h3>HTML</h3>

            <p>To see the HTML code, view the page source.</p>

            <h3>The JavaScript code for this sample:</h3>

            <pre class="line-numbers">
      <code class="language-javascript"></code></pre>


        </section>
      </article>
      <script type="text/javascript">
        var
        accountID = document.getElementById('accountID'),
        videoURL = document.getElementById('videoURL'),
        adServerURL = document.getElementById('adServerURL'),
        generatePlayer = document.getElementById('generatePlayer'),
        defaults = {
          videoURL: '//learning-services-media.brightcove.com/videos/hls/wildlife_tiger/wildlife_tiger.m3u8',
          adServerURL: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vast.xml'
        };

        /**
         * determines whether a var has value
         * @param  {*}  x var to evaluate - note that if x = {} or [], true will be returned
         * @return {Boolean}   whether var has a value
         */
        function isDefined(x) {
            if (x === '' || x === null || x === undefined) {
                return false;
            }
            return true;
        }

        generatePlayer.addEventListener("click", function () {
          account_id = (isDefined(accountID.value)) ? accountID.value : defaults.account_id;
          video_url = (isDefined(videoURL.value)) ? videoURL.value : defaults.videoURL;
          ad_server_url = (isDefined(adServerURL.value)) ? adServerURL.value : defaults.adServerURL;
          console.log('****account_id:',account_id);
          console.log('****video_url:',video_url);
          console.log('****ad_server_url:',ad_server_url);
          playerHTML = '<video id=\"myPlayerID\" data-video-id=\"' + video_url + '\"  data-account=\"' + account_id + '\" data-player=\"default\" data-embed=\"default\" class=\"video-js\" controls></video>';
            // Inject the player code into the DOM
            document.getElementById('placeHolder').innerHTML = playerHTML;
            // Add and execute the player script tag
            var s = document.createElement('script');
            s.src = "//players.brightcove.net/" + playerData.accountId + "/" + playerData.playerId + "_default/index.min.js";
            // Add the script tag to the document
            document.body.appendChild(s);
            // Call a function to play the video once player's JavaScropt loaded
            s.onload = callback;
          }

          // +++ Initialize the player and start the video +++
          function callback() {
            myPlayer = videojs('myPlayerID');
            myPlayer.play();
          }
        });
      </script>

      <!-- END DRUPAL CONTENT -->
    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v3.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
    $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
</body>

</html>
