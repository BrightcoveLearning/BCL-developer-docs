<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Begin Drupal Taxonomy Data -->
  <meta name="products" content="Video Cloud, Brightcove Player">
  <meta name="role" content="Device SDK Developer">
  <meta name="task" content="Develop with the Native SDKs">
  <meta name="topic" content="Troubleshooting/Error Handling">
  <meta name="sdk" content="iOS,tvOS,Android">
  <meta name="keywords" content="device,SDK,FAQ">
  <!-- End Drupal Taxonomy Data -->

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <meta name="robots" content="noindex">
  <!-- change title to match the h1 heading -->
  <title>Using Playback Rights with Brightcove Player</title>

  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
  <div class="row">
    <div class="sidebar large-2 columns show-for-large-up">
      <div id="sidenav" class="side-nav"></div>
    </div>
    <div id="main" class="large-10 small-12 columns">
      <h1>Using Playback Rights with Brightcove Player</h1>

      <!-- BEGIN DRUPAL CONTENT -->

<article class="bcls-article">
<section class="bcls-section">
  <p>In this topic, you will learn how to configure Brightcove Player to use Brightcove's Playback Rights.</p>
</section>

  <section class="bcls-section">
    <h2 id="Introduction">Introduction</h2>
    <p>
      By default, the Brightcove Player talks to the Brightcove Playback API. A new system to manage playback rights and restrictions sits in front of the Playback API and provides playback authorization using DRM licenses.
    </p>
    <aside class="bcls-aside bcls-aside--information language-editable">This implementation requires Player version <strong>6.39.0</strong> or greater.</aside>
    <p>If you are not familiar with this feature, see the <a href="https://docs.brightcove.com/en/staging/epa/overview-epa.html">Overview: Managing Playback Rights</a> document.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Request_with_playback_restrictions">Request with playback rights</h2>
    <p>
      To utilize playback rights, follow these steps:
    </p>
    <ol class="bcls-tasklist__restart">
      <li>
        <p>
          The Brightcove Player makes a request to the Playback API if it has a policy key. This is the default for all Brightcove Players. The first step is to remove the default policy key built into the player:
        </p>
        <pre>
<code class="language-javascript">player.catalog.setPolicyKey(null);</code></pre>
      </li>
      <li>
        <p>
          If you have user-level restrictions, you need an authorization token. You can add one to the player as follows:
        </p>
        <pre>
<code class="language-javascript">player.catalog.setBcovAuthToken('&lt;MY_TOKEN&gt;');</code></pre>
    <p>
      If specified, this token is added as an Authorization header to any subsequent requests.
    </p>
      </li>
      <li>
        <p>
          After changing the policy key and/or authorization token, you are ready to request data from the Brightcove Playback API and load it into the player. This process is identical to the default case. Here is an example of fetching a single video with playback restrictions and an authorization token:
        </p>
        <pre class="line-numbers">
<code class="language-javascript">// Unset the player policy key
player.catalog.setPolicyKey(null);
// Set the authorization token
player.catalog.setBcovAuthToken('&lt;MY_TOKEN&gt;');

// This should trigger a request to:
//
//   https://edge-auth.api.brightcove.com/playback/v1/videos/1
//
// With header:
//
//   Authorization: Bearer &lt;MY_TOKEN&gt;
//
player.catalog.get({id: '1', type: 'video'}).
  then(function(data) {
    player.catalog.load(data);
  }).
  catch(function(error) {
    throw new Error(error);
  });</code></pre>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Request_without_playback_rights">Request without playback rights</h2>
    <p>This process can be reversed to direct requests back to Playback API without rights and restrictions.</p>
    <p>
      Set the policy key and authorization token as follows:
    </p>
    <pre class="line-numbers">
<code class="language-javascript">player.catalog.setPolicyKey('&lt;MY_POLICY_KEY&gt;');
player.catalog.setBcovAuthToken(null);</code></pre>
  </section>


  <section class="bcls-section">
  <h2 id="Related_topics">Related topics</h2>

  <ul>
    <li>
    <a href="https://docs.brightcove.com/en/staging/epa/overview-epa.html">Overview: Managing Playback Rights</a>
  </li>
  <li>
    <a href="https://docs.brightcove.com/en/staging/epa/implementing-epa.html">Implementing Playback Rights</a>
  </li>
  <li>
    <a href="https://docs.brightcove.com/en/staging/pas/stream-concurrency.html">Implementing Stream Concurrency</a>
  </li>
  </ul>

  </section>

</article>

      <!-- END DRUPAL CONTENT -->
    </div>
  </div>

  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v3.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
    $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
<script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
<script src="https://learning-services-media.brightcove.com/doc-assets/js/support-feedback.js"></script><script src="https://learning-services-media.brightcove.com/doc-assets/site-assets/js/site/feedback-docs.js"></script>
</body>

</html>
