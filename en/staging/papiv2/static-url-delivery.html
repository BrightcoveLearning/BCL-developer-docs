<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Static URL Delivery</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Static URL Delivery</h1>
      <aside class="bcls-aside bcls-aside--tip">This feature is available for a specific set of customers with access to the Limited Availability phase of the Playback Rights Management Service.</aside>
      <summary>In this topic, you will learn how to retrieve and use static URLs from the Brightcove Playback API.</summary>


	    <!-- BEGIN DRUPAL CONTENT -->

<article class="bcls-article">
<section class="bcls-section">
<h2 id="Introduction">Introduction</h2>

<p>Brightcove provides static URLs to video manifest files for assets in your Video Cloud library. This gives you the flexibility to manage your content in your own CMS, and deliver it using a custom security schema. </p>

<p>This is important for customers who have existing architecture that does not allow a Playback API call before needing the manifest url(s). The player can also use this feature, reducing playback start time by eliminating one call.</p>

</section>

<section class="bcls-section">
<h2 id="Video_Cloud">Video Cloud</h2>
<p>
  Today, every playback through VideoCloud requires 2 API calls to start video playback.
</p>

<p>The following diagram shows the API calls for video playback.</p>
<figure class="bcls-figure">
  <img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/node/18961-static-url-delivery/current-playback-calls.png" alt="Video Cloud playback">
  <figcaption class="bcls-caption--image">Video Cloud playback</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="Static_URLs">Static URLs</h2>

<p>Static URLs include the Account ID, Video ID(or reference), delivery type(HLS,Dash), and configuration options (SSAI, DRM kind, Delivery Rules, …). These URLs are secured using a customer generated and signed JSON Web Token (JWT). With this token, you can configure and enforce aspects of delivery. For details, see the JSON Web Token (JWT) section.</p>
<p>
  For manifests & VMAPs, the response will be returned directly. For MP4s it will 302 to the right CDN URL. DRM is not necessary to include here. This is controlled by flags on the account & video themselves. You  can use a claim in the JWT, if necessary, to switch between DRM types on the fly.
</p>
<p>
  Static URLs will look similar to this:
</p>
<pre class="line-numbers"><code class="language-javascript">/accounts/{account_id}/videos/{video_id}/master.m3u8?bcov_auth={jwt}
/accounts/{account_id}/videos/{video_id}/manifest.mpd?bcov_auth={jwt}
/accounts/{account_id}/videos/{video_id}/hks,vmap?bcov_auth={jwt}
/accounts/{account_id}/videos/{video_id}/dash.vmap?bcov_auth={jwt}</code></pre>

<h3>Features</h3>
<p>
  Here are the features associated with static URLs:
</p>
<table class="bcls-table">
  <thead class="bcls-table__head">
    <tr>
      <th>feature</th>
      <th>Comment</th>
    </tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td>Static URL support for VOD</td>
      <td>Supported formats are HLS, DASH, HLS VMAP & DASH VMAP via Dynamic delivery Only</td>
    </tr>
    <tr>
      <td>Authorization</td>
      <td>Support for JWT</td>
    </tr>
    <tr>
      <td>Server-Side Ad Insertion (SSAI)</td>
      <td>VOD only </td>
    </tr>
    <tr>
      <td>BYO CDN</td>
      <td>Brightcove’s CDN will continue to deliver the manifest and sub-manifests.
<br/><br/>
Customer's CDN will deliver only the video segments.
</td>
    </tr>
    <tr>
      <td>Closed Captions</td>
      <td>Only in-manifest captions are currently supported.</td>
    </tr>

  </tbody>
</table>
</section>


<section class="bcls-section">
<h2 id="Define_user_level_restrictions">Define user-level restrictions</h2>
<p>
  If you want user-level restrictions, you will need a JSON Web Token (JWT) configured with claims associated with your restrictions.
</p>
<h3>Steps</h3>
<p>
  To create a JSON Web Token (JWT) to pass to your player, follow these steps:
<ol class="bcls-tasklist__restart">
  <li>
    <h3 id="Determine_restrictions">Determine restrictions</h3>
    <p>Determine the type of user-level restrictions you want to use from the list below. Include the necessary JWT claims when you create your JSON Web Token (JWT).</p>
  <h4>Device limits</h4>
  <p>
    When a DRM license request is made, the user's device is registered and a unique id is assigned. The device limit is checked and enforced with each license request. To use this restriction, generate a JWT with the current user id (uid).
  </p>
  <p>
    For details, see the <a href="https://docs.brightcove.com/en/staging/epa/device-limits.html">Implementing Device Limits</a> document.
  </p>

  <h4>Concurrency limits</h4>
  <p>
    When a DRM license request is made, the user's device is registered and a unique id is assigned. With each license request, the device id is checked to ensure it is only watching a specified number of videos at the same time.
  </p>
  <p>
    For details, see the <a href="https://docs.brightcove.com/en/staging/pas/stream-concurrency.html">Implementing Stream Concurrency</a> document.
  </p>

  <h4>Tags</h4>
  <p>
    The JWT token is used to specify the tags that are allowable for viewing. The Playback Authorization Service will check the tags associated with each video. If the tags match the list in the JWT token, then the video is viewable. Tags are associated with videos in Brightcove Video Cloud Studio.
  </p>
  <p>
    Tags in the JWT token will be listed as an array of tags.
  </p>
  <aside class="bcls-aside bcls-aside--information">You are limited to an array of 40 tags in the JWT token.</aside>
  </li>
  <li>
    <h3 id="Create_a_JSON_Web_Token">Create a JSON Web Token</h3>
    <p>To create a token to use when communicating with Brightcove's Playback API, see the <a href="https://docs.brightcove.com/en/staging/pas/create-jwt.html">Creating a JSON Web Token (JWT)</a> document.</p>
  </li>
</ol>

</section>

<section class="bcls-section">
<h2 id="Configure_your_player">Configure your player</h2>
<p>
  By default, the Brightcove Player talks to the Brightcove Playback API (PAPI). A new system to manage playback restrictions sits in front of the Playback API. To configure your player, see the following:
</p>
<h3>Web player</h3>
<p>
  To configure the Brightcove web player, see the <a href="https://docs.brightcove.com/en/staging/epa/using-epa-with-bcp.html">Using Playback Rights with Brightcove Player</a> document.
</p>
<h3>Native Android player</h3>
<p>
  To configure the native player for Android, see the <a href="https://docs.brightcove.com/en/staging/epa/using-epa-with-sdks.html">Using Playback Rights with the Native SDKs</a> document.
</p>
<h3>Native iOS player</h3>
<p>
  To configure the native player for iOS, see the <a href="https://docs.brightcove.com/en/staging/epa/using-epa-with-sdks.html">Using Playback Rights with the Native SDKs</a> document.
</p>
<h3>Your own player</h3>
<p>
  If your content is in the Video Cloud library, but you are using your own player, you can make calls to the Playback API as shown in the <a href="https://support.brightcove.com/overview-playback-api">Overview: Playback API</a> document. Replace the base URL with the following:
</p>
<pre ><code class="language-http">https://edge-auth.api.brigthcove.com</code></pre>
<p>
  Instead of using a Policy Key, you will use the JWT token for authentication:
</p>
<pre ><code class="language-http">Authorization: Bearer {JWT}</code></pre>
<p>
  Here is a Curl example:
</p>
<pre class="line-numbers"><code class="language-curl">curl -X GET \
-H 'Authorization: Bearer {JWT}' \
https://edge-auth.api.brightcove.com/playback/v1/accounts/{your_account_id}/videos/{your_video_id}</code></pre>

</section>

<section class="bcls-section">
<h2 id="Related_topics">Related topics</h2>

<ul>
  <li>
    <a href="https://docs.brightcove.com/en/staging/epa/overview-epa.html">Overview: Playback Rights Management Service</a>
  </li>
  <li>
    <a href="https://docs.brightcove.com/en/staging/epa/using-epa-with-bcp.html">Using Playback Rights with Brightcove Player</a>
  </li>
  <li>
    <a href="https://docs.brightcove.com/en/staging/epa/using-epa-with-sdks.html">Using Playback Rights with the Native SDKs</a>
  </li>
  <li>
    <a href="https://docs.brightcove.com/en/staging/pas/stream-concurrency.html">Implementing Stream Concurrency</a>
  </li>
</ul>

</section>

</article>


<!-- END DRUPAL CONTENT -->
</div>
</div>
<!-- bcl scripts -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
<script src="/en/scripts/docs-nav-data.min.js"></script>
<script src="/en/scripts/bcls-doc-site-v3.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
<script>
$(document).foundation();
</script>
<!-- Any scripts specific to page samples should go here -->
<script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
<script src="https://learning-services-media.brightcove.com/doc-assets/js/support-feedback.js"></script><script src="https://learning-services-media.brightcove.com/doc-assets/site-assets/js/site/feedback-docs.js"></script>
</body>

</html>
