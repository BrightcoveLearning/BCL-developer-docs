<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="products" content="Video Cloud, Brightcove Player">
    <meta name="role" content="Device SDK Developer">
    <meta name="task" content="Develop with the Native SDKs">
    <meta name="topic" content="Troubleshooting/Error Handling">
    <meta name="sdk" content="iOS,tvOS,Android">
    <meta name="keywords" content="device,SDK,FAQ">
    <!-- End Drupal Taxonomy Data -->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Offline Playback with DRM for the Player SDK for Android</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Offline Playback with DRM for the Player SDK for Android</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <p>In this topic, you will learn how to use the Brightcove Native Player SDK for Android to create apps that allow offline playback with DRM content protection.</p>


	    <!-- BEGIN DRUPAL CONTENT -->

      <article class="bcls-article">
        <section class="bcls-section">
        <h2 id="Overview">Overview</h2>

        <p>The Native SDK for Android allows you to create mobile apps which include Offline playback of your video content, while keeping it secure with a <a href="http://www.widevine.com/wv_drm.html">Widevine Modular</a> solution. The Native SDK simplifies your implementation for download management, offline catalog management, analytics, offline playback and DRM.</p>

        <p>The Offline playback feature is included in the latest version of the Brightcove Native SDK. For details, see the <a href="https://brightcovelearning.github.io/Brightcove-API-References/android-sdk/javadoc/index.html">Brightcove Native Player SDK for Android</a> reference.</p>

        <aside class="bcls-aside bcls-aside--information">To use this feature, you need to be a Video Cloud customer using Dynamic Delivery.</aside>
        </section>

        <section class="bcls-section">
        <h2 id="Supported_versions">Supported versions</h2>

        <p>Offline DRM is supported on the following OS versions:</p>

        <ul>
        	<li>Android 5+</li>
        </ul>
        </section>

        <section class="bcls-section">
        <h2 id="Prepare_videos">Prepare videos</h2>

        <p>For the SDKs to mark a video as downloadable, you need to use the <a href="/node/18034">CMS API</a> to set the <a href="https://brightcovelearning.github.io/Brightcove-API-References/cms-api/v1/doc/index.html#api-videoGroup-Update_Video">offline_enabled</a> field to a value of <strong>true</strong>.</p>

        <p>Here is an example using curl:</p>

        <pre class="line-numbers" data-start="1">
        <code class="language-json">curl --header "Authorization: Bearer $oauth_token" --request PATCH --data '
        {"offline_enabled" : true}
        ' https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">your account id</span>/videos/<span class="bcls-input">your video id</span>
        </code></pre>

        <p>Setting this field will be similar to the steps found in the <a href="/node/18014">Setting 360-Video Properties with the CMS API</a> document.</p>
        </section>

        <section class="bcls-section">
        <h2 id="Notes">Notes</h2>

        <p>When the app is deleted, all downloaded content is removed. This is true as long as the default storage location is not overridden.</p>

        <section class="bcls-section">
          <h2 id="FAQ">FAQ</h2>
          <p>
            Below you will find answers to some general questions.
          </p>
          <h3 class="bcls-question">Is there a duration set for the license expiration?</h3>

          <p class="bcls-answer">Absolute expiration determines the date and time until which a license is valid. This is enforced by Widevine and the Android DRM layer. Theoretically, the DRM layer in Android must prevent the user from bypassing the expiration period. Any issues that we may have found is described in the <a href="https://brightcovelearning.github.io/Brightcove-API-References/android-sdk/release-notes.txt">Native SDK for Android release notes</a>.</p>

          <h3 class="bcls-question">Will the license and offline videos continue loading while the app is in the background?</h3>

          <p class="bcls-answer">Yes.</p>
  <!-- <p class="bcls-answer">License loading should happen in the foreground. We have a method to preload the license.
Downloading of the main video content can happen while the app is in the background.</p> -->

          <h3 class="bcls-question">What is the video format(s) used during offline playback for Android?</h3>

          <p class="bcls-answer">DRM protected DASH only.</p>

          <h3 class="bcls-question">Will downloaded videos playback locally or streaming when the user is online?</h3>

          <p class="bcls-answer">A downloaded video can be played back while online or offline, but it will always use the downloaded video. If you choose to play back an online version of the video, you should retrieve a new video object from the Playback Service. The offline video can only be played from local storage.</p>

          <h3 class="bcls-question">Will the release of Android OS v8.0 affect the Offline Playback feature?</h3>

          <p class="bcls-answer">The release of Android OS v8.0 will have new <a href="https://developer.android.com/preview/features/background.html">background service limitations</a>. We will test and make any changes needed for continued support of Offline Playback with the Native Player SDK for Android. </p>
          <br />
        </section>

        <!-- </section>

        <section class="bcls-section" id="Known_Issues">
        <h2>Known issues</h2>

        <p>The following known issues are related to offline playback with the Native SDK for Android.</p>
        </section> --></section>
      </article>




      <!-- END DRUPAL CONTENT -->
		</div>
	</div>
	<!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v0.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
  $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
</body>

</html>
