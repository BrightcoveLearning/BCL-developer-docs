<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="products" content="Video Cloud, Brightcove Player">
    <meta name="role" content="Device SDK Developer">
    <meta name="task" content="Develop with the Native SDKs">
    <meta name="topic" content="Troubleshooting/Error Handling">
    <meta name="sdk" content="iOS,tvOS,Android">
    <meta name="keywords" content="device,SDK,FAQ">
    <!-- End Drupal Taxonomy Data -->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Configuring the Brightcove Player for DRM</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Configuring the Brightcove Player for DRM</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <p>In this topic, you will learn how Brightcove Player implements digital rights management (DRM).</p>


	    <!-- BEGIN DRUPAL CONTENT -->

      <article class="bcls-article">
  <section class="bcls-section" id="top">
  <p><!-- intentionally left blank --></p>

  <p>For more information on Brightcove support for DRM see <a href="/node/18436">Overview: Digital Rights Management (DRM) in Video Cloud</a>.</p>

  <p>Brightcove is embracing the following technologies to deliver DRM protected content to the widest possible variety of browsers and devices:</p>

  <ul>
  	<li>MPEG-DASH with Native/EME supported CENC DRMs</li>
  	<li>HLS with FairPlay</li>
  </ul>

  <p>To use DRM with Brightcove Player you must:</p>

  <ul>
  	<li>Produce DRM enabled content</li>
  	<li>Enable Brightcove Player to use the DRM plugin</li>
  	<li>In some cases, configure the DRM plugin to use your license server</li>
  </ul>

  <aside class="bcls-aside bcls-aside--tip">
    <p>
      It is recommended to use the Brightcove player version 6.18.1+ because <code>videojs-drm 5</code> uses the player's built-in DASH capability through VHS (the next and renamed version of the built-in <code>videojs-contrib-hls</code> plugin).
    </p>
    <p>
      If you still want to uses Shaka Player for DASH playback, you can include the following script along with <code>videojs-drm 5</code>: 
    </p>
    <pre>
<code class="language-html">http://players.brightcove.net/videojs-shaka/1/videojs-shaka.js</code></pre>
  </aside>

  <aside class="bcls-aside bcls-aside--warning">Note: the DRM plugin will not function correctly if you have <strong>both</strong> DRM and HLSe enabled for your account. There is no need to have both, as HLSe is redundant if you have DRM. If you see issues in playback of DRM-protected videos, <a href="https://help.brightcove.com/en/contact">contact Brightcove Support</a> and have HLSe disabled if it is enabled.</aside>
  </section>

  <section class="bcls-section">
  <h2 id="Terminology" class="bcls-expander-head">Terminology</h2>

  <div class="bcls-expander-content">
  <p>Review these key terms used in this document.</p>

  <table class="table-styles">
  	<thead>
  		<tr>
  			<th style="width:15%">Term</th>
  			<th style="width:85%">Definition</th>
  		</tr>
  	</thead>
  	<tbody>
  		<tr>
  			<td>DRM</td>
  			<td>From Wikipedia: <cite>Digital rights management (DRM) is a class of copy protection technologies that are used by hardware and software manufacturers, publishers, copyright holders, and individuals with the intent to control the use of digital content and devices after sale.</cite></td>
  		</tr>
  		<tr>
  			<td>MPEG-DASH</td>
  			<td>From Wikipedia: <cite>Dynamic Adaptive Streaming over HTTP (DASH), also known as MPEG-DASH, is an adaptive bitrate streaming technique that enables high quality streaming of media content over the Internet delivered from conventional HTTP web servers. Similar to Apple's HTTP Live Streaming (HLS) solution, MPEG-DASH works by breaking the content into a sequence of small HTTP-based file segments, each segment containing a short interval of playback time of a content that is potentially many hours in duration, such as a movie or the live broadcast of a sports event.</cite></td>
  		</tr>
  		<tr>
  			<td>CENC</td>
  			<td>From the ISO standard: <cite>The 'CENC' Common Encryption Scheme specifies standard encryption and key mapping methods that can be utilized by one or more digital rights and key management systems (DRM systems) to enable decryption of the same file using different DRM systems.</cite></td>
  		</tr>
  		<tr>
  			<td>Encrypted Media Extensions (EME)</td>
  			<td>From Wikipedia: EME is a W3C draft specification for providing a communication channel between web browsers and digital rights management (DRM) agent software. This allows the use of HTML5 video to play back DRM-wrapped content without the need for third-party media plugins, like Microsoft Silverlight.</td>
  		</tr>
  	</tbody>
  </table>
  </div>
  </section>

  <section class="bcls-section">
  <h2 id="DRM_plugin_architecture">DRM plugin architecture</h2>

  <p>The DRM plugin is a wrapper around three plugins:</p>

  <ul>
  	<li>videojs-contrib-dash</li>
  	<li>videojs-silverlight</li>
  	<li>videojs-contrib-eme</li>
  </ul>

  <p>The <strong>videojs-shaka</strong> and <strong>videojs-silverlight</strong> plugins allow for playback of DASH content. The <strong>videojs-contrib-eme</strong> plugin allows for playback of FairPlay HLS content.</p>

  <aside class="bcls-aside bcls-aside--information">When specifying FairPlay options, the plugin name reflects <strong>videojs-contrib-eme</strong>'s plugin name, <code>eme</code>.</aside>
  </section>

  <section class="bcls-section">
  <h2 id="Playback_technologies_used">Playback technologies used</h2>

  <p>Brightcove Player utilizes different DRM playback technologies with different browsers. The following details the DRM technologies used with Brightcove Player:</p>

  <ul>
  	<li><strong>FairPlay</strong>: Apple's DRM system</li>
  	<li><strong>PlayReady</strong>: Microsoft's DRM system</li>
  	<li><strong>Widevine</strong>: Google's DRM system</li>
  </ul>

  <p>The following table details the relationship between the browser (latest version), format and playback technology used in Brightcove Player:</p>

  <table class="bcls-table">
  	<thead class="bcls-table__head">
  		<tr>
  			<th>Browser</th>
  			<th>Format</th>
  			<th>Playback Technology</th>
  			<th>Rendition Type Used<br />
  			to Deliver DRM Content</th>
  		</tr>
  	</thead>
  	<tbody class="bcls-table__body">
  		<tr>
  			<td>Chrome Desktop</td>
  			<td>DASH with Widevine</td>
  			<td>Native/EME</td>
  			<td>MPEG-DASH</td>
  		</tr>
  		<tr>
  			<td>Chrome Mobile<sup>1</sup></td>
  			<td>DASH with Widevine</td>
  			<td>Native/EME</td>
  			<td>MPEG-DASH</td>
  		</tr>
  		<tr>
  			<td>Internet Explorer<sup>2</sup></td>
  			<td>DASH with PlayReady</td>
  			<td>Silverlight</td>
  			<td>MPEG-DASH</td>
  		</tr>
  		<tr>
  			<td>Edge</td>
  			<td>DASH with PlayReady</td>
  			<td>Native/EME</td>
  			<td>MPEG-DASH</td>
  		</tr>
  		<tr>
  			<td>Safari<sup>3</sup></td>
  			<td>HLS with FairPlay</td>
  			<td>Native HLS</td>
  			<td>HLS</td>
  		</tr>
  		<tr>
  			<td>Firefox</td>
  			<td>DASH with Widevine</td>
  			<td>Native/EME</td>
  			<td>MPEG-DASH</td>
  		</tr>
  	</tbody>
  </table>

  <p><em><sup>1</sup>DRM playback using Chrome Mobile on iOS is not supported.</em></p>

  <p><em><sup>2</sup>IE11 on Windows 10 and 8.1, and IE11 on Win8 Metro, use Native/EME. All other IE versions and configurations use the Silverlight plugin.</em></p>

  <p><em><sup>3</sup>In Safari 8, playback uses Silverlight even if Fairplay is enabled.</em></p>
  </section>

  <section class="bcls-section">
  <h2 id="Produce_DRM_content">Produce DRM content</h2>

  <div class="video-cloud-only">
  <p>There are two steps you must perform to create DRM enabled content:</p>

  <ol>
  	<li>Contact your account manager to have your account(s) DRM-enabled. You can then configure your account with the proper licensing keys and ingest profiles to enable the creation of DRM protected content.</li>
  	<li>
  	<p>Produce DRM protected content. You can choose to either upload new content or re-encode existing content as DRM. This is done by selecting the <strong>Ingest Profile</strong> that produces your desired encryption technology.</p>

  	<aside class="bcls-aside bcls-aside--information">For more information, see the <a href="/node/18038">Content Security (DRM and HLSe)</a> document.</aside>
  	</li>
  </ol>
  </div>

  <div class="player-only">
  <p>You will need to produce DRM protected content which uses either MPEG-DASH manifests with segmented and encrypted videos, or HLS FairPlay content.</p>
  </div>
  </section>

  <section class="bcls-section ">
  <h2 id="FairPlay_implementation">FairPlay implementation</h2>

  <div class="video-cloud-only">
  <p>Follow these steps to use the DRM Plugin with FairPlay protected content:</p>

  <ol>
  	<li>In Studio, open the <strong>Players</strong> module and locate the desired player.</li>
  	<li>Click the link for the player to open the player properties.</li>
  	<li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
  	<li>For the <strong>JavaScript URL</strong>, enter:
  	<pre><code class="language-html">//players.brightcove.net/videojs-drm/5/videojs-drm.min.js</code></pre>
  	</li>
  	<li>For the <strong>CSS URL</strong>, enter:
  	<pre><code class="language-html">//players.brightcove.net/videojs-drm/5/videojs-drm.css</code></pre>
  	</li>
  	<li>Enter the plugin <strong>Name</strong> to be <code>eme</code> and the <strong>Options</strong> must supply your FairPlay license credentials.
  	<figure class="bcls-figure"><img class="bcls-image" alt="Supply options" src="//learning-services-media.brightcove.com/doc-assets/player-development/content-protection-drm/bcp-and-drm/fairplay-plugin-configuration.png" /></figure>

  	<p>Here is the JSON for the options:</p>

  	<pre class="line-numbers"><code class="language-json">{
    "applicationId": "<span class="bcls-input">YOUR_APPLICATION_ID</span>",
    "publisherId": "<span class="bcls-input">YOUR_ACCOUNT_ID</span>"
}</code></pre>

  	<aside class="bcls-aside bcls-aside--information">Note that if your account is set up for <a href="/node/17949">Dynamic Delivery</a>, you need NOT enter the <code>applicationId</code> or <code>publisherId</code> JSON. The only item you must enter is the plugin name, <code>eme</code>.</aside>
  	</li>
  	<li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
  </ol>

  <p>You now have a player that can play FairPlay DRM protected videos on all supported desktop browsers and platforms.</p>

  <h3 class="bcls-expander-head">Implementing FairPlay playback in code</h3>

  <div class="bcls-expander-content">
  <p>If you wish to implement FairPlay playback using the in-page embed code you must follow these steps to use the DRM plugin:</p>

  <ol>
  	<li>In the header of your HTML page, include the plugin's stylesheet:
  	<pre><code class="language-html">&lt;link href="//players.brightcove.net/videojs-drm/5/videojs-drm.css" rel="stylesheet"&gt;</code></pre>
  	</li>
  	<li>Include the plugin's JavaScript:
  	<pre><code class="language-html">&lt;script src="//players.brightcove.net/videojs-drm/5/videojs-drm.min.js"&gt;&lt;/script&gt;</code></pre>
  	</li>
  	<li>In a JavaScript block in the page, call and configure the EME plugin with FairPlay credential information:
  	<pre class="line-numbers"><code class="language-html">&lt;script type="text/javascript"&gt;
videojs('myPlayerID').ready(function(){
    var myPlayer = this;
    myPlayer.eme({
        "applicationId": "<span class="bcls-input">YOUR_APPLICATION_ID</span>",
        "publisherId": "<span class="bcls-input">YOUR_PUBISHER_ID</span>"
    });
});
&lt;/script&gt;</code></pre>
  	</li>
  </ol>
  </div>
  </div>

  <div class="player-only">
  <p>Follow these steps to use the DRM Plugin with FairPlay protected content:</p>

  <ol>
  	<li>In the header of your HTML page, include the plugin's stylesheet:
  	<pre><code class="language-html">&lt;link href="//players.brightcove.net/videojs-drm/5/videojs-drm.css" rel="stylesheet"&gt;</code></pre>
  	</li>
  	<li>Include the plugin's JavaScript:
  	<pre><code class="language-html">&lt;script src="//players.brightcove.net/videojs-drm/5/videojs-drm.min.js"&gt;&lt;/script&gt;</code></pre>
  	</li>
  	<li>In a JavaScript block in the page, call and configure the EME plugin with FairPlay credential information by providing <strong>getCertificate</strong>, <strong>getContentId</strong> and <strong>getLicense</strong> functions to the EME plugin. These functions are specific to your own FairPlay license server implementation, and may be passed directly to the EME plugin before a <strong>src</strong> is set:
  	<pre class="line-numbers"><code class="language-html">&lt;script type="text/javascript"&gt;
videojs('myPlayerID').ready(function(){
var myPlayer = this;
myPlayer.eme({
    keySystems: {
        'com.apple.fps.1_0': {
            getCertificate: function (emeOptions, callback) {
                // request certificate
                // if err, callback(err)
                // if success, callback(null, certificate) where certificate
                // is a Uint8Array
            },
            getContentId: function (emeOptions, initData) {
                // return content ID as a string
            },
            getLicense: function (emeOptions, contentId, keyMessage, callback) {
                // request key
                // if err, callback(err)
                // if success, callback(null, key) as an arraybuffer
            }
        }
    }
});
&lt;/script&gt;</code></pre>
  	</li>
  </ol>

  <p>Note that the FairPlay information can also be passed as part of each <strong>src</strong> object. The <strong>emeOptions</strong> are provided as a parameter to all functions. They are a reference to plugin options merged with (overwritten by) the source options of the current source. It is available to make it easier to access options so that you don't have to maintain them yourself.</p>

  <pre class="line-numbers"><code class="language-javascript">player.src({
    type: 'application/vnd.apple.mpegurl',
    src: 'http://www.example.com/path/to/master.m3u8',
    keySystems: {
        "com.apple.fps.1_0": {
            getCertificate: function(emeOptions, callback) { ... },
            getContentId: function(emeOptions, initData) { ... },
            getLicense: function(emeOptions, contentId, keyMessage, callback) { ... }
        }
    }
});</code></pre>

  <p>For example, if you need to use an <strong>applicationId</strong> and <strong>publisherId</strong> for the <strong>getCertificate</strong> request, you can pass in plugin options this way:</p>

  <pre class="line-numbers"><code class="language-javascript">{
    keySystems: {
        "com.apple.fps.1_0": {
            getCertificate: function(emeOptions, callback) {
                var applicationId = emeOptions.applicationId; // 'application-id'
                var publisherId = emeOptions.publisherId; // 'publisher-id'
                // ...
            }
            // ...
        }
    },
    applicationId: 'application-id'
    publisherId: 'publisher-id'
}</code></pre>

  <p>Or, if you need a source-specific <strong>publisherId</strong> you can overwrite it via the source options:</p>

  <pre class="line-numbers"><code class="language-javascript">// plugin options
{
    keySystems: {
        "com.apple.fps.1_0": {
            getCertificate: function(emeOptions, callback) {
                var applicationId = emeOptions.applicationId; // 'application-id'
                var publisherId = emeOptions.publisherId; // 'source-specific-publisher-id'
                // ...
            },
            // ...
        }
    },
    applicationId: 'application-id'
    publisherId: 'publisher-id'
}

// source options
player.src({
    src: '&lt;URL&gt;',
    type: 'application/vnd.apple.mpegurl',
    publisherId: 'source-specific-publisher-id'
});</code></pre>

  <p>The following is an example implementation, passing the options in as <strong>src</strong> options, retrieving the content ID from the hostname, fixed license and certificate URIs, and a license URI that requires a POST with a body of the key message:</p>

  <pre class="line-numbers"><code class="language-javascript">var uint8ArrayToString = function(array) {
      return String.fromCharCode.apply(null, new Uint16Array(array.buffer));
  };


  var getHostnameFromUri = function(uri) {
      var link = document.createElement('a');
      link.href = uri;
      return link.hostname;
  };


  var getCertificate = function(emeOptions, callback) {
      videojs.xhr({
          uri: emeOptions.certificateUri,
          responseType: 'arraybuffer'
      }, function(err, response, responseBody) {
          if (err) {
              callback(err);
              return;
          }
          callback(null, new Uint8Array(responseBody));
      });
  };


  var getContentId = function(emeOptions, initData) {
      return getHostnameFromUri(uint8ArrayToString(initData));
  };


  var getLicense = function(emeOptions, contentId, keyMessage, callback) {
      videojs.xhr({
          uri: emeOptions.licenseUri,
          method: 'POST',
          responseType: 'arraybuffer',
          body: keyMessage,
          headers: {
              'Content-type': 'application/octet-stream'
          }
      }, function(err, response, responseBody) {
          if (err) {
              callback(err);
              return;
          }
          callback(null, responseBody);
      });
  };


  player.src({
      type: 'application/vnd.apple.mpegurl',
      src: 'http://www.example.com/path/to/master.m3u8',
      keySystems: {
          "com.apple.fps.1_0": {
              getCertificate: getCertificate,
              getContentId: getContentId,
              getLicense: getLicense
          }
      },
      certificateUri: 'http://example.com/fairplay/certificate/endpoint',
      licenseUri: 'http://example.com/fairplay/license/endpoint'
  });</code></pre>
  </div>
  </section>

  <section class="bcls-section">
  <h2 id="PlayReady_implementation">PlayReady implementation</h2>

  <p>Follow these steps to use the DRM Plugin with PlayReady protected content:</p>

  <ol>
  	<li>In Studio, open the <strong>Players</strong> module and locate the desired player.</li>
  	<li>Click the link for the player to open the player properties.</li>
  	<li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
  	<li>For the <strong>JavaScript URL</strong>, enter:
  	<pre><code class="language-html">//players.brightcove.net/videojs-drm/5/videojs-drm.min.js</code></pre>
  	</li>
  	<li>For the <strong>CSS URL</strong>, enter:
  	<pre><code class="language-html">//players.brightcove.net/videojs-drm/5/videojs-drm.css</code></pre>
  	</li>
  	<li>You will NOT enter a <strong>Name</strong> or <strong>Options</strong>.</li>
  	<li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
  </ol>

  <p>You now have a player that can play DRM protected videos on all supported desktop browsers and platforms.</p>
  </section>

  <section class="bcls-section ">
  <h2 id="Widevine_implementation">Widevine implementation</h2>

  <div class="video-cloud-only">
  <p>Follow these steps to use the DRM Plugin with Widevine protected content:</p>

  <ol>
  	<li>In Studio, open the <strong>Players</strong> module and locate the desired player.</li>
  	<li>Click the link for the player to open the player properties.</li>
  	<li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
  	<li>For the <strong>JavaScript URL</strong>, enter:
  	<pre><code class="language-html">//players.brightcove.net/videojs-drm/5/videojs-drm.min.js</code></pre>
  	</li>
  	<li>For the <strong>CSS URL</strong>, enter:
  	<pre><code class="language-html">//players.brightcove.net/videojs-drm/5/videojs-drm.css</code></pre>
  	</li>
  	<li>You will NOT enter a <strong>Name</strong> or <strong>Options</strong>.</li>
  	<li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
  </ol>

  <p>You now have a player that can play Widevine protected videos on all supported desktop browsers and platforms.</p>
  </div>

  <div class="player-only">
  <p>For Widevine Modular content, you need to configure your player to use your Widevine licensing server using the player's source handler.</p>

  <p>To update an instance of a player on your web page, you can use the player's source handler. Here is an example of using the <code>keySystemsOptions</code> array with the <code>player.src()</code> function:</p>

  <pre class="line-numbers"><code class="language-java">player.src({
    src: 'http://example.com/my/manifest.mpd',
    type: 'application/dash+xml',
    keySystemOptions: [
    {
        name: 'com.widevine.alpha',
        options: {
            licenseUrl: 'http://m.widevine.com/proxy'
        }
    }
    ]
});</code></pre>

  <p>You can also use the <code>updateSourceData</code> function as follows:</p>

  <pre class="line-numbers"><code class="language-java">videojs.Html5DashJS.updateSourceData = function(source) {
    source.keySystemOptions = [{
        name: 'com.widevine.alpha',
        options: {
            serverURL:'https://example.com/anotherlicense'
        }
    }];
    return source;
};</code></pre>

  <p>For more details, see the <a href="https://github.com/videojs/videojs-contrib-dash">videojs-contrib-dash</a> information on GitHub.</p>
  </div>
  </section>

  <section class="bcls-section">
  <h2 id="Supporting_other_DRM_providers">Supporting other DRM providers</h2>

  <p>The plugin has implemented a path that allows customers to implement support for other DRM providers. This is mostly useful for Fairplay, as Fairplay requires custom logic necessary to get license information. Adding a <code>vendor.name</code> to <code>keySystems</code> on a given source will attempt to utilize this logic, and include the necessary certificate and license information. An example for Azure follows:</p>

  <pre class="line-numbers">
<code class="language-javascript">player.ready(function(){
  player.eme({
    "publisherId" : "your-publisher-id",
    "applicationId" : "your-application-id"
  });

  player.src({
    src: 'http://example.com/src-url.m3u8'
    type: '',
    <span class="bcls-highlight">keySystems: {
      'com.apple.fps.1_0': {
        vendor: {
          name: 'azure'
        },
        certificateUri: 'https://example.com/your-certificate-uri.cer',
        licenseUri: 'https://example.com/your-license-uri'
      }
    }</span>
  });
});</code></pre>

  <p>Here is an example for castLabs:</p>

  <pre class="line-numbers"><code class="language-javascript">var player = videojs("myPlayer");

player.ready(function(){
  player.eme({
    "publisherId" : "your-publisher-id",
    "applicationId" : "your-application-id"
  });

  player.src({
    src: 'http://example.com/src-url.m3u8'
    type: '',
    <span class="bcls-highlight">keySystems: {
      'com.apple.fps.1_0': {
        vendor: {
          name: 'castlabs',
            options: {
              authToken: 'your-auth-token',
              customData: 'your-custom-data'
            }
          }
        certificateUri: 'https://example.com/your-certificate-uri.cer',
        licenseUri: 'https://example.com/your-license-uri'
      }
    }</span>
  });
});</code></pre>
  </section>

  <section class="bcls-section">
  <h2 id="Enable_debugging">Enable debugging</h2>

  <aside class="bcls-aside bcls-aside--information">Note: The debugger functions only with DASH content. The debugger does NOT support FairPlay HLS content.</aside>

  <p>You can debug the playback of the DRM content by using Brightcove Player's debugger. To do this use this URL for the plugin's JavaScript instead of the one mentioned numerous times above:</p>

  <pre><code class="language-javascript">//players.brightcove.net/videojs-drm/5/videojs-drm.debug.js</code></pre>

  <p>The following is an example of the debugging at player load:</p>

  <figure class="bcls-figure"><img class="bcls-image" alt="Debugging in console at startup" src="//learning-services-media.brightcove.com/doc-assets/player-development/content-protection-drm/bcp-and-drm/startup-debug.png" /></figure>

  <p>The following is an example of the debugging after the video has begun to play:</p>

  <figure class="bcls-figure"><img class="bcls-image" alt="Debugging in console after playing" src="//learning-services-media.brightcove.com/doc-assets/player-development/content-protection-drm/bcp-and-drm/playing-debug.png" /></figure>
  </section>

  <section class="bcls-section">
  <h2 id="DASH_IF">DASH-IF</h2>

  <p>The Brightcove Player supports DASH Industry Forum (DASH-IF) assets, passing through Brightcove data to Native/EME. See <a href="http://dashif.org">http://dashif.org</a> for more information on DASH-IF, and <a href="http://dashif.org/reference/players/javascript/latest/samples/dash-if-reference-player/app/sources.json">http://dashif.org/reference/players/javascript/latest/samples/dash-if-reference-player/app/sources.json</a> for examples of the additional data required to playback DASH-IF test assets.</p>
  </section>

  <section class="bcls-section">
  <h2 id="Known_issues">Known issues</h2>

  <ul>
  	<li>In most cases if you wish to programmatically interact with the player you would wait for either the <code>ready</code> or <code>loadedmetadata</code>&nbsp;event to be dispatched. However, if you wish to programmatically interact with the player when using the Silverlight tech in IE11, AND playing DRM content, you should wait for the <code>canplay</code> event.</li>
  </ul>
  </section>

  <section class="bcls-section">
  <h2 id="Changelog">Changelog</h2>

  <h4>20 Feb 2018</h4>

  <p>v5.2.2</p>

  <ul>
  	<li>Add certificate for BC Widevine sources when using VHS</li>
  </ul>

  <h4>20 Feb 2018</h4>

  <p>v5.2.1</p>

  <ul>
  	<li>Support key rotation</li>
  	<li>Use HTTPS links for Silverlight installer</li>
  </ul>

  <h4>17 Jan 2018</h4>

  <p>v5.2.0</p>

  <ul>
  	<li>Add <strong>Castlabs</strong> third-party integration</li>
  </ul>

  <h4>3 Jan 2018</h4>

  <p>v5.1.0</p>

  <ul>
  	<li>Add custom third-party vendor logic to <code>keySystems</code></li>
  </ul>

  <h4>15 Dec 2017</h4>

  <p>v5.0.0</p>

  <ul>
  	<li>Support DRM DASH playback with VHS</li>
  </ul>

  <h4>14 Nov 2017</h4>

  <p>v4.5.0</p>

  <ul>
  	<li>Preload Widevine server certificate</li>
  	<li>Added preload <strong>none</strong> support</li>
  </ul>

  <h4>8 Nov 2017</h4>

  <p>v4.4.1</p>

  <ul>
  	<li>Fixed issue where loadstart would not fire when using Silverlight</li>
  </ul>

  <h4>6 Sep 2017</h4>

  <p>v4.4.0</p>

  <ul>
  	<li>Parse <strong>ms:laurl</strong> and <strong>mspr:pro</strong> from manifest</li>
  	<li>Fixed issue where text tracks would not be removed on source change</li>
  </ul>

  <h4>3 Aug 2017</h4>

  <p>v4.3.5</p>

  <ul>
  	<li>Fixed minification process</li>
  </ul>

  <h4>31 Jul 2017</h4>

  <p>v4.3.4</p>

  <ul>
  	<li>Fixed duration rounding in Silverlight when using the dashPreprocessing option</li>
  </ul>

  <h4>27 Jul 2017</h4>

  <p>v4.3.3</p>

  <ul>
  	<li>Report frame stats from Silverlight playback</li>
  </ul>

  <h4>25 Jul 2017</h4>

  <p>v4.3.2</p>

  <ul>
  	<li>Automatically log debug information in debug script</li>
  </ul>

  <h4>19 Jul 2017</h4>

  <p>v4.3.1</p>

  <ul>
  	<li>Fixed intermittent license acquisition error when switching sources in Silverlight</li>
  </ul>

  <h4>12 Jul 2017</h4>

  <p>v4.3.0</p>

  <ul>
  	<li>Call player error on critical errors</li>
  </ul>

  <h4>11 Jul 2017</h4>

  <p>v4.2.7</p>

  <ul>
  	<li>Fixed an source change issue in Silverlight by clearing IsEnded on unload</li>
  </ul>

  <h4>10 Jul 2017</h4>

  <p>v4.2.6</p>

  <ul>
  	<li>Fixed an issue where representations did not accurately reflect manifest</li>
  </ul>

  <h4>10 Jul 2017</h4>

  <p>v4.2.5</p>

  <ul>
  	<li>Fixed an issue where Silverlight representations wouldn't populate</li>
  	<li>Fixed an issue where Silverlight would error on source change</li>
  </ul>

  <h4>10 Jul 2017</h4>

  <p>v4.2.4</p>

  <ul>
  	<li>Fixed an issue where VTTCue shims would conflict</li>
  </ul>

  <h4>3 Jul 2017</h4>

  <p>v4.2.3</p>

  <ul>
  	<li>Fixed an issue where playback has stalled within 0.5s of the end</li>
  	<li>Fixed an error during source change in Silverlight</li>
  </ul>

  <h4>21 Jun 2017</h4>

  <p>v4.2.2</p>

  <ul>
  	<li>Fixed an issue with limiting renditions on player resize</li>
  </ul>

  <h4>20 Jun 2017</h4>

  <p>v4.2.1</p>

  <ul>
  	<li>Don't exclude variants that are missing key status info</li>
  </ul>

  <h4>15 Jun 2017</h4>

  <p>v4.2.0</p>

  <ul>
  	<li>In-manifest text track support</li>
  </ul>

  <h4>15 Jun 2017</h4>

  <p>v4.1.1</p>

  <ul>
  	<li>Clear representations state between sources in Silverlight</li>
  </ul>

  <h4>9 Jun 2017</h4>

  <p>v4.1.0</p>

  <ul>
  	<li>Update from Shaka Player v2.0.8 to Shaka Player v2.1.3</li>
  </ul>

  <h4>9 Jun 2017</h4>

  <p>v4.0.1</p>

  <ul>
  	<li>Fixed source not supported error in IE when switching sources</li>
  	<li>Warn when skipping DASH sources on insecure contexts</li>
  	<li>Timeout when Silverlight playback halts</li>
  </ul>

  <h4>1 May 2017</h4>

  <p>v4.0.0</p>

  <ul>
  	<li>Use Shaka Player for DASH playback</li>
  </ul>

  <h4>25 Apr 2017</h4>

  <p>v3.4.2</p>

  <ul>
  	<li>Show role in audio track label</li>
  </ul>

  <h4>24 Apr 2017</h4>

  <p>v3.4.1</p>

  <ul>
  	<li>Disable videojs-errors progress event watcher</li>
  </ul>

  <h4>3 Apr 2017</h4>

  <p>v3.4.0</p>

  <ul>
  	<li>Used <strong>Native/EME</strong> ABR limiting methods to set quality levels</li>
  	<li>Updated to <strong>Native/EME</strong> 2.4.1</li>
  </ul>

  <h4>21 Feb 2017</h4>

  <p>v3.3.2</p>

  <ul>
  	<li>Reverted to <strong>Native/EME</strong> 2.3.0 to fix quality selection issues</li>
  </ul>

  <h4>13 Feb 2017</h4>

  <p>v3.3.1</p>

  <ul>
  	<li>Updated <strong>videojs-contrib-eme</strong> to support delayed setup</li>
  </ul>

  <h4>13 Feb 2017</h4>

  <p>v3.3.0</p>

  <ul>
  	<li>Updated to <strong>Native/EME</strong> 2.4.1</li>
  	<li>Updated <strong>videojs-contrib-eme</strong> to support video.js 6</li>
  </ul>

  <h4>9 Feb 2017</h4>

  <p>v3.2.1</p>

  <ul>
  	<li>Fixed updating source in <code>canHandleSource</code></li>
  </ul>

  <h4>8 Feb 2017</h4>

  <p>v3.2.0</p>

  <ul>
  	<li>Added multiple audio track support</li>
  	<li>Added video.js 6 forward compatibility</li>
  	<li>Allows passing in dashjs options with player constructor</li>
  </ul>

  <h4>6 Jan 2017</h4>

  <p>v3.1.0</p>

  <ul>
  	<li>Support the quality levels API</li>
  </ul>

  <h4>9 Dec 2016</h4>

  <p>v3.0.6</p>

  <ul>
  	<li>Fixed representation whitelisting</li>
  </ul>

  <h4>7 Dec 2016</h4>

  <p>v3.0.5</p>

  <ul>
  	<li>Correctly hide player overlays when Silverlight is disabled/not installed</li>
  </ul>

  <h4>1 Nov 2016</h4>

  <p>v3.0.4</p>

  <ul>
  	<li>Add PlayReady key system if it doesn't exist in the catalog response</li>
  </ul>

  <h4>3 Oct 2016</h4>

  <p>v3.0.3</p>

  <ul>
  	<li>Update to <strong>dashjs</strong> 2.3.0</li>
  	<li>Rename project to <strong>videojs-drm</strong></li>
  </ul>

  <h4>27 Sep 2016</h4>

  <p>v3.0.2</p>

  <ul>
  	<li>Disable dashjs debug logging</li>
  </ul>

  <h4>9 Sep 2016</h4>

  <p>v3.0.1</p>

  <ul>
  	<li>Update techOrder to HTML5, Silverlight</li>
  </ul>

  <h4>8 Sep 2016</h4>

  <p>v3.0.0</p>

  <ul>
  	<li>Added Fairplay DRM support for HLS</li>
  </ul>

  <h4>24 Aug 2016</h4>

  <p>v2.3.0</p>

  <ul>
  	<li>Expose dashjs mediaPlayer as player.dash.mediaPlayer</li>
  </ul>

  <h4>25 Jul 2016</h4>

  <p>v2.2.1</p>

  <ul>
  	<li>Update to <strong>dashjs</strong> 2.2.0</li>
  </ul>

  <h4>8 Jul 2016</h4>

  <p>v2.2.0</p>

  <ul>
  	<li>Update <strong>videojs-silverlight</strong> to support <strong>dashjs</strong> on Firefox</li>
  </ul>
  </section>
  </article>













      <!-- END DRUPAL CONTENT -->
		</div>
	</div>
	<!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v3.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
  $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
</body>

</html>
