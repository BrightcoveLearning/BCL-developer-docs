<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="products" content="Video Cloud, Brightcove Player">
    <meta name="role" content="Device SDK Developer">
    <meta name="task" content="Develop with the Native SDKs">
    <meta name="topic" content="Troubleshooting/Error Handling">
    <meta name="sdk" content="iOS,tvOS,Android">
    <meta name="keywords" content="device,SDK,FAQ">
    <!-- End Drupal Taxonomy Data -->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Migrating to ExoPlayer 2</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Migrating to ExoPlayer 2</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <p>In this topic, you will learn how to use the ExoPlayer 2  framework with the Brightcove Native Player SDK for Android.</p>


	    <!-- BEGIN DRUPAL CONTENT -->

      <article class="bcls-article">

        <section class="bcls-section">
          <!-- <h2 id="Player_example">Player example</h2> -->
          <p>
            Learn how to migrate to ExoPlayer 2 for the following project types:
          </p>
          <ul>
            <li>
              New project
            </li>
            <li>
              Existing ExoPlayer 1 project
            </li>
            <li>
              Existing MediaPlayer project
            </li>
          </ul>
          <p>
            Refer to the <a href="https://github.com/BrightcoveOS/android-player-samples/tree/ExoPlayer2/brightcove-exoplayer">ExoPlayer sample applications</a> for additional guidance on integrating ExoPlayer 2 into your project.
          </p>
        </section>

        <section class="bcls-section">
          <h2 id="New_project">New project</h2>

          <p>
            Follow these steps to add ExoPlayer 2 to a new Android project:
          </p>
          <ol class="bcls-tasklist">
          	<li>In your <strong>build.gradle</strong> file, add the following compile dependency:
            <pre class="line-numbers"><code class="language-java">dependencies {
    compile &quot;com.brightcove.player:exoplayer2:${brightcoveAndroidSdkVersion}&quot;
}</code></pre>
          </li>
          </ol>
        </section>

        <section class="bcls-section">
          <h2 id="Existing_ExoPlayer_1_project">Existing ExoPlayer 1 project</h2>

          <p>
            Follow these steps to update an existing ExoPlayer 1 project to use the ExoPlayer 2 framework:
          </p>
          <ol class="bcls-tasklist__restart">
          	<li>In your <strong>build.gradle</strong> file, update Android support libraries:
            <pre class="line-numbers"><code class="language-java">compile 'com.android.support:appcompat-v7:25.4.0'
compile 'com.android.support:support-v4:25.4.0'
compile 'com.android.support:recyclerview-v7:25.4.0'
compile 'com.android.support:support-vector-drawable:25.4.0'
</code></pre>
            </li>
            <li>In your <strong>build.gradle</strong> file, update Android Build Tools:
            <pre class="line-numbers"><code class="language-java">buildToolsVersion &quot;25.0.3&quot;
</code></pre>
            </li>
            <li>In your <strong>build.gradle</strong> file, add the Google Maven Repository:
            <pre class="line-numbers"><code class="language-java">maven {
     url 'https://maven.google.com'
}
</code></pre>
            </li>
            <li>If your project uses advertising with Google IMA, update Google Play Services Ads:
            <pre class="line-numbers"><code class="language-java">compile 'com.google.android.gms:play-services-ads:11.0.4'
</code></pre>
<aside class="bcls-aside bcls-aside--information">It is important to note here that the Brightcove Native Player SDK for Android does not support applications that attempt to use both ExoPlayer and ExoPlayer 2.</aside>
            </li>
            <li>Where you previously imported the Brightcove ExoPlayer library as a dependency in build.gradle:
            <pre class="line-numbers"><code class="language-java">dependencies {
    compile &quot;com.brightcove.player:exoplayer:${brightcoveAndroidSdkVersion}&quot;
}
</code></pre>
<p>
  Change the name of the dependency:
</p>
<pre class="line-numbers"><code class="language-java">dependencies {
    compile &quot;com.brightcove.player:exoplayer2:${brightcoveAndroidSdkVersion}&quot;
}
</code></pre>
<p>
  There should be no additional coding required to integrate ExoPlayer 2 into your project.
</p>
            </li>
          </ol>
        </section>

        <section class="bcls-section">
          <h2 id="Existing_MediaPlayer_project">Existing MediaPlayer project</h2>
          <p>
            Follow these steps to update an existing MediaPlayer project to use the ExoPlayer 2 framework:
          </p>
          <ol class="bcls-tasklist__restart">
          	<li>In your <strong>build.gradle</strong> file, add the following compile dependency:
            <pre class="line-numbers"><code class="language-java">dependencies {
    compile &quot;com.brightcove.player:exoplayer2:${brightcoveAndroidSdkVersion}&quot;
}</code></pre>
            </li>
            <li>
              In your app, use the <a href="https://brightcovelearning.github.io/Brightcove-API-References/android-sdk/javadoc/com/brightcove/player/view/BrightcoveExoPlayerVideoView.html">BrightcoveExoPlayerVideoView</a> instead of the <a href="https://brightcovelearning.github.io/Brightcove-API-References/android-sdk/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">BrightcoveVideoView</a>, which uses the Android Media Player.
            </li>
          </ol>
        </section>

        <section class="bcls-section">
          <h2 id="Additional_Resources">Additional Resources</h2>
          <p>
            For more information about using the ExoPlayer 2 framework, see the following documents:
          </p>
          <ul>
            <li>
              <a href="https://medium.com/google-exoplayer/exoplayer-2-x-new-package-and-class-names-ef8e1d9ba96f">ExoPlayer 2 - New package and class names</a>
            </li>
            <li>
              <a href="https://google.github.io/ExoPlayer/guide.html">ExoPlayer developer guide</a>
            </li>
          </ul>
        </section>

      </article>




      <!-- END DRUPAL CONTENT -->
		</div>
	</div>
	<!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v0.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
  $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
</body>

</html>
