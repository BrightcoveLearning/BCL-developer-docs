<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="products" content="Video Cloud, Brightcove Player">
    <meta name="role" content="Device SDK Developer">
    <meta name="task" content="Develop with the Native SDKs">
    <meta name="topic" content="Troubleshooting/Error Handling">
    <meta name="sdk" content="iOS,tvOS,Android">
    <meta name="keywords" content="device,SDK,FAQ">
    <!-- End Drupal Taxonomy Data -->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Picture-in-Picture Plugin</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Picture-in-Picture Plugin</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <p>In this topic, you will learn how to use the picture-in-picture (PIP) plugin to enable this mode for the Brightcove Player.</p>


	    <!-- BEGIN DRUPAL CONTENT -->

      <article class="bcls-article">
  <section class="bcls-section">
  <h2 id="Overview">Overview</h2>

  <p>Picture-in-picture mode allows users to multitask. Once video playback has started, the user can scroll down the page, and picture-in-picture mode will pin a small video playback window to a corner of the screen.</p>

  </section>

  <section class="bcls-section">
  <h2 id="Player_example">Player example</h2>
<!-- UPDATE description -->

<p>Start video playback. (You can then stop it). Scroll down the page to see the pip player in the right-hand corner of the web page. You can close the pip player or scroll back up to the full-size player.</p>

<!-- UPDATE codepen here -->
<p data-height="750" data-theme-id="dark" data-slug-hash="ZxwOMR" data-default-tab="result" data-user="bcls1969" data-embed-version="2" data-pen-title="Picture-in-Picture Plugin" class="codepen">See the Pen <a href="https://codepen.io/team/bcls1969/pen/ZxwOMR/">Picture-in-Picture Plugin</a> by Brightcove Learning Services (<a href="https://codepen.io/bcls1969">@bcls1969</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<!-- UPDATE link to GitHub source -->
<!-- <p>View the <a href="https://github.com/BrightcoveLearning/18193-brightcove-player-sample-age-gate-modaldialog">source code</a>.</p> -->
  </section>

  <section class="bcls-section">
  <h2 id="Setup">Setup</h2>
  <p>
    Follow these steps to get started with the picture-in-picture plugin:
  </p>
  <ol class="bcls-tasklist">
    <li><p>The picture-in-picture plugin requires that your player is wrapped by a container element with the class set to <code>vjs-pip-container</code>. Your code should look similar to this:</p>
        <pre class="line-numbers"><code class="language-html"><span class="bcls-highlight">&lt;div class=&quot;vjs-pip-container&quot;&gt;</span>
        &lt;video id=&quot;myPlayerID&quot;
          data-video-id=&quot;5701202551001&quot;
          data-account=&quot;1752604059001&quot;
          data-player=&quot;Sy5AXHtiG&quot;
          data-embed=&quot;default&quot;
          class=&quot;video-js&quot;
          width=&quot;640&quot; height=&quot;360&quot;
          controls&gt;&lt;/video&gt;
        &lt;script src=&quot;//players.brightcove.net/1752604059001/Sy5AXHtiG_default/index.min.js&quot;&gt;&lt;/script&gt;
      <span class="bcls-highlight">&lt;/div&gt;</span></code></pre>
      <p>
        If the <code>&lt;div&gt;</code> element above is not found as the parent of the player, the plugin will fail to initialize and you will get the following log warning:
      </p>
      <pre><code class="language-html">expected player to be a child of a "vjs-pip-container" element, cannot continue with picture-in-picture plugin</code></pre>
    </li>
    <li>
      <p>
        When the player is ready, get a reference to it and initialize the picture-in-picture plugin:
      </p>
      <pre class="line-numbers"><code class="language-html">videojs(&quot;myPlayerID&quot;).ready(function(){
  // When the player is ready, get a reference to it
  var myPlayer = this;
  // Initialize the picture-in-picture plugin
  myPlayer.pip();
});</code></pre>
      <p>
        For details, see the <a href="#Player_example">codepen example</a> above.
      </p>
    </li>
  </ol>

  </section>

  <section class="bcls-section">
  <h2 id="Options">Options</h2>

  <p>You may pass in an options object to the plugin upon initialization. This object may contain any of the following options:</p>

  <h3>allowOnMobile</h3>

  <ul>
  	<li><code>allowOnMobile</code>:

  	<ul>
  		<li>Type: <code>boolean</code></li>
  		<li>Default: <code>false</code></li>
  		<li>
        <p>
          By default, picture-in-picture mode will not work on Android or iOS mobile devices. The reason for this is because these CSS fixed positioning does not work on zoomable devices with multiple viewports in the same way it does on desktop devices.
        </p>
        <p>
          If you want to enable pip on supported mobile devices, you can do so with this option. There are some cases where you might want to enable support:
        </p>
        <ul>
          <li>
            The website using the player is unlikely to be zoomed.
          </li>
          <li>
            Zooming has been disabled using a <code>user-scalable=no</code> directive. Using this directive will make <code>position: fixed</code> behave as it does not desktops, but it is not specifically recommended because it can be an accessibility concern.
            <pre><code class="language-html">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no&quot;&gt;</code></pre>
          </li>
          <li>
            The integrator is willing to take on the responsibility of managing positioning for picture-in-picture player mode.
          </li>
        </ul>
      </li>
      <li>
        <p>
          Example:
        </p>
        <pre class="line-numbers"><code class="language-javascript">// Allow mobile (iOS and Android) devices to enter PIP mode.
player.pip({allowOnMobile: true});</code></pre>
      </li>
  	</ul>
  	</li>
  </ul>

  <h3>hideOnStart</h3>

  <ul>
  	<li><code>hideOnStart</code>:

  	<ul>
  		<li>Type: <code>boolean</code></li>
  		<li>Default: <code>false</code></li>
  		<li>The <code>hideOnStart</code> property Determines whether the playlist is initially hidden from view.This is only functional when using the <strong>iframe</strong> player implementation, which is logical since the show/hide playlist functionality is only available in the iframe. This option does NOT work with a horizontal playlist.</li>
  	</ul>
  	</li>
  </ul>

  <h3>horizontal</h3>

  <ul>
  	<li><code>horizontal</code>:

  	<ul>
  		<li>Type: <code>boolean</code></li>
  		<li>Default: <code>false</code></li>
  		<li>Displays the playlist horizontally below the player instead of vertically.</li>
  	</ul>
  	</li>
  </ul>

  <h3>nextButton</h3>

  <ul>
  	<li><code>nextButton</code>:

  	<ul>
  		<li>Type: <code>boolean</code></li>
  		<li>Default: <code>true</code></li>
  		<li>If <code>true</code>, a button is added for moving to the next playlist item. The button can be disabled by setting the option to <code>false</code>. The button is added to the control bar to the right of the play button.</li>
  	</ul>
  	</li>
  </ul>

  <figure class="bcls-figure"><img class="bcls-image" alt="next button" src="//learning-services-media.brightcove.com/doc-assets/player-development/playlists/playlist-ui-plugin/nextButton.png" /></figure>

  <h3>nextEndscreen</h3>

  <ul>
  	<li><code>nextEndscreen</code>:</li>
  	<li>Type: <code>boolean</code></li>
  	<li>Default: <code>true</code></li>
  	<li>If <code>true</code>, the player will display a modal endscreen over the player after playback. The endscreen can be disabled by setting the option to <code>false</code>. This endscreen will preview the upcoming video in the playlist. Mode details on the option are:
  	<ul>
  		<li>The <code>autoadvance</code> option must be set to a value greater than zero (otherwise, there is no time to display the endscreen and it is skipped).</li>
  		<li>The displayed countdown represents the time remaining until the <code>autoadvance</code> trigger.</li>
  		<li>The player must <strong>not</strong> include an implementation of the custom endscreen plugin or the social plugin configured to display after a video. If either condition is detected, the endscreen will not be displayed.</li>
  	</ul>
  	</li>
  </ul>

  <figure class="bcls-figure"><img class="bcls-image" alt="next endscreen" src="//learning-services-media.brightcove.com/doc-assets/player-development/playlists/playlist-ui-plugin/nextEndscreen.png" /></figure>

  <h3>nextOverlay</h3>

  <ul>
  	<li><code>nextOverlay</code>:

  	<ul>
  		<li>Type: <code>boolean</code></li>
  		<li>Default: <code>true</code></li>
  		<li>If <code>true</code>, the player will display a small overlay in the lower-right corner of the player. The overlay can be disabled by setting the option to <code>false</code>. This overlay will preview the upcoming video in the playlist. Mode details on the option are:
  		<ul>
  			<li>There must be a subsequent playlist item.</li>
  			<li>The <code>autoadvance</code> option must be set greater than or equal to zero.</li>
  			<li>The countdown represents the time remaining in the video plus any <code>autoadvance</code> wait time.</li>
  			<li>The overlay appears 10 seconds from the end of the video. However, if the video is less than 30 seconds long, it appears at the 2/3 point of the duration.</li>
  			<li>If the overlay is dismissed by the user, it will remain dismissed until the source is changed. It will re-appear for new sources.</li>
  			<li>If the <strong>Up Next endscreen</strong> is enabled, the overlay will hide when the video ends. Otherwise, it will stay open until the next video.</li>
  		</ul>
  		</li>
  	</ul>
  	</li>
  </ul>

  <figure class="bcls-figure"><img class="bcls-image" alt="next overlay" src="//learning-services-media.brightcove.com/doc-assets/player-development/playlists/playlist-ui-plugin/nextOverlay.png" /></figure>

  <h3>playlist</h3>

  <ul>
  	<li><code>playlist</code>:

  	<ul>
  		<li>Type: <code>array</code></li>
  		<li>Default: <code>undefined</code></li>
  		<li>Used to pass the initial playlist data. For complete details see the <a href="/node/18099#playlist">playlist section</a> in the Playlist API Guide.</li>
  	</ul>
  	</li>
  </ul>

  <h3>playOnSelect</h3>

  <ul>
  	<li><code>playOnSelect</code>:

  	<ul>
  		<li>Type: <code>boolean</code></li>
  		<li>Default: <code>false</code></li>
  		<li>The <code>playOnSelect</code> option is used to control if the video should begin playing when the user clicks a video in the playlist. When the option is set to <code>true</code>, selecting a new video from the playlist will start playing that video, even if the player was previously paused. By default, clicking a new video from the playlist will load the new video but keep the player paused if it was paused beforehand.</li>
  	</ul>
  	</li>
  </ul>

  <h3>repeat</h3>

  <ul>
  	<li><code>repeat</code>:

  	<ul>
  		<li>Type: <code>boolean</code></li>
  		<li>Default: <code>false</code></li>
  		<li>Repeats a playlist after it has finished the last video in the playlist. This functionality plays the first video in the playlist once the last video in the playlist is finished.</li>
  	</ul>
  	</li>
  </ul>
  </section>

  <section class="bcls-section">
  <h2 id="Using_the_options">Using the options</h2>

  <p>You have two ways you can utilize the option:</p>

  <ol>
  	<li>In Studio's <strong>PLAYERS &gt; PLUGINS</strong> section.</li>
  	<li>Using JavaScript with the player.</li>
  </ol>

  <h3>Using Studio</h3>

  <p>In Studio, edit the player to which you wish to supply options. Using proper JSON format, list the option (in quotation marks), followed by the appropriate value. If the values are string, they must be in quotes. If they are numeric or boolean, they cannot be included:</p>

  <figure class="bcls-figure"><img class="bcls-image" alt="options in studio" src="//learning-services-media.brightcove.com/doc-assets/player-development/playlists/playlist-ui-plugin/options-studio.png" /></figure>

  <h3>Using JavaScript</h3>

  <p>To implement the options in code, you create an object, assign desired options their respective values, then pass the options object when calling the plugin:</p>

  <pre class="line-numbers">
  <code class="language-javascript">videojs("myPlayerID").ready(function() {
   var myPlayer = this,
     <span class="bcls-highlight">options</span> = {};
    <span class="bcls-highlight">options</span>.horizontal = true;
    <span class="bcls-highlight">options</span>.nextButton = false;
    myPlayer.bcPlaylistUi(<span class="bcls-highlight">options</span>);
  </code>
  </pre>
  </section>

  <section class="bcls-section">
  <h2 id="changelog">Changelog</h2>

  <h4>29 Mar 2018</h4>

  <p>v3.1.1</p>

  <ul>
  	<li>Truncate longer video titles with ellipses when they overflow</li>
  </ul>

  <h4>25 Jan 2018</h4>

  <p>v3.1.0</p>

  <ul>
  	<li>Update to <strong>videojs-playlist</strong> 4.2.0, adding <code>duringplaylistchange</code> event and <code>rest</code> option for the <code>shuffle()</code> method</li>
  </ul>

  <h4>17 Jan 2018</h4>

  <p>v3.0.1</p>

  <ul>
  	<li>Addressed case where the playlist was empty, but the playlist sidebar in an iframe would still show</li>
  	<li>Fixed an issue where auto-advance would occur even if the user restarted playback after an ended event</li>
  	<li>Fixed clicking/tapping on icons in next overlay and endscreen on mobile</li>
  </ul>

  <h4>22 Dec 2017</h4>

  <p>v3.0.0</p>

  <ul>
  	<li>Features
  	<ul>
  		<li>Add optional <strong>Up Next</strong> closable overlay card</li>
  		<li>Add optional <strong>Up Next</strong> endscreen modal</li>
  		<li>Better support for multiple in-page players by more intelligently finding a player's associated playlist element</li>
  		<li>Bundle videojs-playlist as a direct dependency</li>
  		<li>Support horizontal playlists in iframe players</li>
  	</ul>
  	</li>
  	<li>Code Refactoring
  	<ul>
  		<li>Move sidebar to component and refactor plugin to be class-based</li>
  		<li>Refactor new <strong>Up Next</strong> feature</li>
  		<li>Update tooling to plugin generator v5.1.1</li>
  	</ul>
  	</li>
  	<li>BREAKING CHANGES
  	<ul>
  		<li>Removes support for IE8</li>
  		<li>No longer supports Video.js/Brightcove Player v5</li>
  	</ul>
  	</li>
  </ul>

  <h4>21 Sep 2017</h4>

  <p>v2.1.2</p>

  <ul>
  	<li>No changes</li>
  </ul>

  <h4>25 Jul 2017</h4>

  <p>v2.1.1</p>

  <ul>
  	<li>No changes</li>
  </ul>

  <h4>26 Apr 2017</h4>

  <p>v2.1.0</p>

  <ul>
  	<li>Features
  	<ul>
  		<li>Add optional "Up Next" closable overlay card</li>
  		<li>Add optional "Up Next" endscreen modal</li>
  		<li>Better support for multiple in-page players by more intelligently finding a player's associated playlist element</li>
  		<li>Bundle videojs-playlist as a direct dependency</li>
  		<li>Support horizontal playlists in iframe players</li>
  	</ul>
  	</li>
  	<li>Code Refactoring
  	<ul>
  		<li>Move sidebar to component and refactor plugin to be class-based</li>
  		<li>Refactor new 'Up Next' feature</li>
  		<li>Update tooling to plugin generator v5.1.1</li>
  	</ul>
  	</li>
  	<li>BREAKING CHANGES
  	<ul>
  		<li>Removes support for IE8</li>
  		<li>No longer supports Video.js/Brightcove Player v5</li>
  	</ul>
  	</li>
  </ul>

  <h4>8 Sep 2016</h4>

  <p>v2.0.0</p>

  <ul>
  	<li>Redesigned UI
  	<ul>
  		<li>Overall look and feel improvements</li>
  		<li>Bigger thumbnails</li>
  		<li>Room for longer video titles</li>
  		<li>Playlist drawer in iframe embeds</li>
  		<li>More responsive layout</li>
  	</ul>
  	</li>
  </ul>

  <h4>6 Sep 2016</h4>

  <p>v1.0.1</p>

  <ul>
  	<li>Fix bug embedding playlist with in-page embed</li>
  </ul>

  <h4>16 Aug 2016</h4>

  <p>v1.0.0</p>

  <ul>
  	<li>Moved playlist UI into a new plugin</li>
  </ul>
  </section>
  </article>












      <!-- END DRUPAL CONTENT -->
		</div>
	</div>
	<!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v3.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
  $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
</body>

</html>
