<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="products" content="Video Cloud, Brightcove Player">
    <meta name="role" content="Device SDK Developer">
    <meta name="task" content="Develop with the Native SDKs">
    <meta name="topic" content="Troubleshooting/Error Handling">
    <meta name="sdk" content="iOS,tvOS,Android">
    <meta name="keywords" content="device,SDK,FAQ">
    <!-- End Drupal Taxonomy Data -->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>The Cast plugin for the Native SDK for Android</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>The Cast plugin for the Native SDK for Android</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <p>In this topic, you will learn how to cast your videos to a Chromecast-connected TV, using the Cast plugin for the Brightcove Player SDK for Android.</p>


	    <!-- BEGIN DRUPAL CONTENT -->

      <article class="bcls-article">
        <section class="bcls-section">
          <h2 id="Overview">Overview</h2>
          <p>With Chromecast technology, you can initiate and control streamed video content from your mobile devices to high-definition TV and home audio systems. From your app, you will be able to tap the Cast button to stream your content on a big screen.</p>
        </section>
        <section class="bcls-section">
          <h2 id="Cast_plugin">Cast plugin</h2>
          <p>The Cast plugin is built on top of the <a href="https://medium.com/google-exoplayer/new-cast-extension-and-demo-app-55816a50012">new ExoPlayer Cast Extension</a> and the Google Play Services Cast Framework. After adding the cast plugin dependency, gradle will pull the Play Services Cast Framework dependency, ExoPlayer Cast Extension dependency along with other needed dependencies. To learn more about the dependencies used, see the <a href="">Cast Plugin dependencies</a> section.</p>

          <h3 id="Supported_SDK_version">Supported SDK version</h3>
          <p>For the Cast plugin, you must use the Brightcove Native SDK for Android version 6.3.0+.</p>
        </section>
        <section class="bcls-section">
          <h2 id="Getting_started">Getting started</h2>
          <p>To start using the Cast plugin, follow these steps:</p>

          <ol class="bcls-tasklist">
          	<li>In your <strong>build.gradle</strong> file, add the following dependency to include the Cast plugin:
<pre><code class="language-java">implementation "com.brightcove.player:android-cast-plugin:6.3.0"</code></pre>
            </li>
          </ol>
        </section>
        <section class="bcls-section">
          <h2 id="Options_Provider">Options Provider</h2>
          <p>Next, you need to specify the <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/OptionsProvider">OptionsProvider</a> implementation for the Google Cast framework. The <code>OptionsProvider</code> interface helps to set up several options needed to initialize the <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastContext">CastContext</a> class. This is where you will set the Cast Receiver App ID. To learn more about integrating the <code>OptionsProvider</code>, see Google’s document: <a href="https://developers.google.com/cast/docs/android_sender_integrate#initialize_the_cast_context">Initialize the Cast Context</a>.</p>
          <p>
            The Brightcove Cast plugin includes a <code>DefaultOptionsProvider</code> class, where a default Google Demo Cast Receiver App ID is set through a string key set in the <strong>strings.xml</strong> file. For more details and to learn how to overwrite it, see the <a href="">Cast Receiver App ID</a> section.
          </p>

          <ol class="bcls-tasklist">
          	<li>Whether you use the <code>DefaultOptionsProvider</code> class or your own <code>OptionsProvider</code> implementation, you need to set the <code>OptionsProvider</code> implementation class name in your app’s <strong>AndroidManifest.xml</strong> file as a key-value pair metadata, as shown here:
<pre class="line-numbers"><code class="language-java">&lt;meta-data
android:name=&quot;com.google.android.gms.cast.framework.OPTIONS_PROVIDER_CLASS_NAME&quot;
android:value=&quot;com.brightcove.cast.DefaultOptionsProvider&quot; /&gt;</code></pre>
            </li>
          </ol>
          <p>
            If you use the <code>DefaultOptionsProvider</code> class, you will be able to set the <code>ExpandedControllerActivity</code> and turn on on/off the Cast Notification by setting similar metadata information in your AndroidManifest.
          </p>
        </section>
        <section class="bcls-section">
          <h2 id="Expanded_Controller_Activity">Expanded Controller Activity</h2>
          <p>The <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/media/widget/ExpandedControllerActivity">ExpandedControllerActivity</a> comes with the Google Cast library and allows you to control the video being cast on your Chromecast device. This class provides some customization flexibility. For example, there are five slots available to show buttons, where the third slot is reserved for the non-configurable Play button. The rest of the buttons can be set as other predefined buttons or as your own customized buttons.</p>
          <p>
            The Brightcove Cast plugin provides the subclass <code>DefaultExpandedControllerActivity</code>. We have enabled the following buttons in the following order:
          </p>
            <ul>
              <li>
                <strong>Closed Captions</strong>
              </li>
              <li>
                <strong>Skip Previous</strong>
              </li>
              <li>
                <strong>Play</strong>
              </li>
              <li>
                <strong>Skip Next</strong>
              </li>
              <li>
                <strong>Mute Toggle</strong>
              </li>
            </ul>
            <p>
              In addition, the Seek Bar sets the same default drawable as the one used in the standard <code>BrightcoveMediaController</code>:
            </p>
            <ul>
              <li>
                The Progress Drawable:
                <pre><code class="language-java">R.drawable.default_scrubber_progress_horizontal</code></pre>
              </li>
              <li>
                The Thumb Drawable:
                <pre><code class="language-java">R.drawable.default_scrubber_thumb</code></pre>
              </li>
            </ul>
            <p>
              To learn how to customize the Seek Bar, see the <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/SeekBarColorsSampleApp/src/main">SeekBarColorsSampleApp</a>.
            </p>

          <ol class="bcls-tasklist">
          	<li>In order to set the <code>DefaultExpandedControllerActivity</code> or your own <code>ExpandedControllerActivity</code>, set the following metadata in your <strong>AndroidManifest.xml</strong> file::
<pre class="line-numbers"><code class="language-java">&lt;meta-data  android:name=&quot;com.brightcove.cast.DefaultOptionsProvider.EXPANDED_CONTROLLER_ACTIVITY_CLASS_NAME&quot;
   android:value=&quot;com.brightcove.cast.DefaultExpandedControllerActivity&quot; /&gt;</code></pre>
            </li>
          </ol>
        </section>





        <section class="bcls-section">
          <h2 id="Changing_the_background_color">Changing the background color
          </h2>
          <p>When playing a video in portrait mode, you may notice a black border on top and below the player. The player view is the size of the screen, but the video only takes up a small part of the center of the player view. The visible portions around the video is the background of the player layer.
          </p>
          <p>This is normal
            <code>AVPlayer
            </code> behavior. It shrinks your video to fit inside the player layer, and the rest is the player layer background.
          </p>
          <p>You can change the player layer background with the following code:
          </p>
<pre class="line-numbers"><code class="language-objectivec">(void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller didAdvanceToPlaybackSession:(id&lt;BCOVPlaybackSession&gt;)session
{
  session.playerLayer.backgroundColor = UIColor.whiteColor.CGColor;
}
</code></pre>
          <p>Setting the background color to white should look like this:
          </p>
          <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Background color" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/ios/snippets/ios-bkgd-color.png" />
            <figcaption class="bcls-caption--image">Custom background color
            </figcaption>
          </figure>
        </section>
      </article>
















      <!-- END DRUPAL CONTENT -->
		</div>
	</div>
	<!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v3.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
  $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
</body>

</html>
