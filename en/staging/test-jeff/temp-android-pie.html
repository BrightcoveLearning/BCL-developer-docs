<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Android Pie Support with the Native SDK for Android</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Android Pie Support with the Native SDK for Android</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <p>In this topic, you will learn about using Android Pie with the Brightcove Native SDK for Android.</p>


	    <!-- BEGIN DRUPAL CONTENT -->

      <article class="bcls-article">
        <section class="bcls-section">
        <h2 id="Overview">Overview</h2>

        <p>Android Pie is the newest Android OS and was officially released on August 6th 2018. For feature details, see the <a href="https://developer.android.com/about/versions/pie/android-9.0">Android Pie Features</a> document. Android Pie includes several behavior changes. Most of them affect apps which target Android Pie (API level 28), but you may also find issues with apps targeting an older Android version, running on an Android Pie device.</p>
        <p>
        There are a couple of changes to be aware of when using the Brightcove SDK for Android:
        </p>
        <ul>
        <li>
          <a href="">TLS enabled by default</a>
        </li>
        <li>
          <a href="">Apache HTTP client deprecation</a>
        </li>
        <li>
          <a href="">Deprecated constants</a>
        </li>
        </ul>
        <p>
        For a full list of behavioral changes for your apps, see the <a href="https://developer.android.com/about/versions/pie/android-9.0-changes-all">Behavior Changes for all apps</a> document. For behavioral changes exclusive when targeting Android Pie, see the <a href="https://developer.android.com/about/versions/pie/android-9.0-changes-28">Behavior Changes for API 28+</a> document.
        </p>
        </section>

        <section class="bcls-section">
        <h2 id="TLS_enabled_by_default">TLS enabled by default</h2>

        <p>With the release of Android Pie (API level 28), clear text traffic is disabled by default. If your application attempts to do a clear HTTP request, an <code class="notranslate">IOException</code> will be thrown with the message:</p>
        <pre><code class="notranslate language-java">Exception: IOException java.io.IOException: Cleartext HTTP traffic to * not permitted</code></pre>
        <p>
          To learn more about managing TLS with Android Pie, see the following document:
https://docs.google.com/document/d/1PfXOq59MG8s87gcwiZvzWCZ_CuKDpLi3VO-VRF_LkjY/edit?usp=sharing
        </p>
        </section>

        <section class="bcls-section">
        <h2 id="Apache_HTTP_client_deprecation">Apache HTTP client deprecation</h2>

        <p>With Android Pie, Apache HTTP client support has been removed. This affects apps that target Android Pie or higher. It might also affect apps that target older versions of Android when using a  non-standard <code class="notranslate">ClassLoader</code>. At runtime, if the <code class="notranslate">ClassLoader</code> attempts to load an Apache HTTP client class on Android Pie, it will throw a <code class="notranslate">NoClassDefFoundError</code>. For more information, see Google’s : <a hreef="https://developer.android.com/about/versions/pie/android-9.0-changes-all#apache-nonp">Apache HTTP client deprecation</a> document.</p>
        <p>
          If your app is using the Brightcove FreeWheel plugin, you will experience this problem and get an exception as shown here:
        </p>
        <pre><code class="notranslate language-java">java.lang.NoClassDefFoundError: tv.freewheel.utils.URLLoader
Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/http/impl/client/BasicCookieStore;</code></pre>
        <p>
          In order to fix this problem, include the following line to your app’s manifest file:
        </p>
        <pre><code class="notranslate language-java">&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;</code></pre>
        </section>

        <section class="bcls-section">
        <h2 id="Deprecated_constants">Deprecated constants</h2>

        <p>There are several constants that were deprecated in the <a href="https://developer.android.com/reference/android/net/ConnectivityManager">ConnectivityManager</a> class. Some of these constants are currently used by the Brightcove SDK, specifically by the Offline Playback and the Offline Analytics features. Here is the list:</p>
        <ul>
          <li>
            <code class="notranslate">android.net.ConnectivityManager.TYPE_BLUETOOTH</code>
          </li>
          <li>
            <code class="notranslate">android.net.ConnectivityManager.TYPE_ETHERNET</code>
          </li>
          <li>
            <code class="notranslate">android.net.ConnectivityManager.TYPE_MOBILE</code>
          </li>
          <li>
            <code class="notranslate">android.net.ConnectivityManager.TYPE_VPN</code>
          </li>
          <li>
            <code class="notranslate">android.net.ConnectivityManager.TYPE_WIFI</code>
          </li>
          <li>
            <code class="notranslate">android.net.ConnectivityManager.TYPE_WIMAX</code>
          </li>
        </ul>
        <p>
          This doesn't affect any functionality on the mentioned features, but be aware that these constants might be removed in a future Android OS version. This also applies to the Brightcove Native SDK.
        </p>

        </section>

        <section class="bcls-section">
        <h2 id="Testing_limitations">Testing limitations</h2>

        <p>Due to resource constraints, we have been unable to test the Brightcove SDK targeting Android Pie on a device that has a "cut-out" in its display. We are working on acquiring such a device to test with as soon as possible.</p>
        </section>


</article>









      <!-- END DRUPAL CONTENT -->
		</div>
	</div>
	<!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v3.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
  $(document).foundation();
  </script>
  <!-- Any scripts specific to page samples should go here -->
</body>

</html>
