<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Customizing Android TV Controls</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Customizing Android TV Controls</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <summary>In this topic, you will learn how to customize the rewind and fast-forward buttons for Android TV.</summary>


	    <!-- BEGIN DRUPAL CONTENT -->


<article class="bcls-article">
<section class="bcls-section">
<h2 id="Introduction">Introduction</h2>

<p>The Brightcove Media Controller for TV has a rewind button and a fast-forward button. When you click either of these buttons, the default is to seek 3 seconds backward or forward.</p>
<p>
  When you press and hold either button, the seek position will update at a rate of 3 seconds of content every 40 milliseconds. This means that holding either the rewind or fast-forward button each second advances the cotent 75 seconds.
</p>

</section>

<section class="bcls-section">
<h2 id="Configuring_seek_buttons">Configuring seek buttons</h2>

<p>The rewind and fast-forward buttons can be configured through the <code>EventType.SEEK_CONTROLLER_CONFIGURATION</code> event.</p>
<p>
  For simplicity, weâ€™ll refer to either of these buttons as the seek button since the following properties apply to both.
</p>
<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Event property</th>
			<th>Default value</th>
      <th>Description</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code>Event.SEEK_DEFAULT</code></td>
			<td>3000 ms</td>
      <td>The default seek value in milliseconds the seek button will seek to.</td>
		</tr>
    <tr>
			<td><code>Event.SEEK_RELATIVE_ENABLED</code></td>
			<td>false</td>
      <td>If enabled, allows the seek value to be relative to the video duration set by the <code>EventType.VIDEO_DURATION_CHANGED</code> event. The percentage is set by <code>Event.SEEK_PERCENTAGE</code>.</td>
		</tr>
    <tr>
			<td><code>Event.SEEK_PERCENTAGE</code></td>
			<td>1%</td>
      <td>The percentage relative to the video duration used to calculate the default seek value.</td>
		</tr>
    <tr>
			<td><code>Event.SEEK_ON_HOLD_WAIT_TIME</code></td>
			<td>500 ms</td>
      <td>The time in milliseconds to be waited for the key event to be considered a long press instead of a regular press.</td>
		</tr>
    <tr>
			<td><code>Event.SEEK_ON_HOLD_UPDATE_FREQ</code></td>
			<td>40 ms</td>
      <td>The time in milliseconds used to send the <code>EventType.SEEKBAR_DRAGGING_PROGRESS</code> event to update the Media Controller seek bar.</td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Customizing_event_properties">Customizing event properties</h2>
<p>You may want additional event properties from those listed in the table above. You can do that by defining the expected values and emitting the <code>EventType.SEEK_CONTROLLER_CONFIGURATION</code> event.</p>

<p>
  To add custom properties to the event, follow these steps:
</p>

<ol class="bcls-tasklist__restart">
	<li>
    <p>
      Define your custom values.
    </p>
    <pre class="line-numbers">
<code class="language-java">private static final int DEFAULT_TV_SEEK_TIME = (int) TimeUnit.SECONDS.toMillis(3);
private static final int DEFAULT_TV_ON_HOLD_WAIT_TIME = (int) TimeUnit.SECONDS.toMillis(1);
private static final int DEFAULT_TV_SEEK_PERCENTAGE = 1;
private static final int DEFAULT_TV_ON_HOLD_UPDATE_FREQUENCY_TIME = 500;
</code></pre>
  </li>
  <li>
    <p>
      Include a method to create the properties map, add the desired values and emit the <code>EventType.SEEK_CONTROLLER_CONFIGURATION</code> event.
    </p>
    <pre class="line-numbers">
<code class="language-java">private void setupTelevisionMode() {
   Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
   properties.put(Event.SEEK_DEFAULT, DEFAULT_TV_SEEK_TIME);
   properties.put(Event.SEEK_RELATIVE_ENABLED, true);
   properties.put(Event.SEEK_PERCENTAGE, DEFAULT_TV_SEEK_PERCENTAGE);
   properties.put(Event.SEEK_ON_HOLD_WAIT_TIME, DEFAULT_TV_ON_HOLD_WAIT_TIME);
   properties.put(Event.SEEK_ON_HOLD_UPDATE_FREQ, DEFAULT_TV_ON_HOLD_UPDATE_FREQUENCY_TIME);

   eventEmitter.emit(EventType.SEEK_CONTROLLER_CONFIGURATION, properties);
}</code></pre>
  </li>
  <li>
    <p>
      Check if your app is in TV mode to setup the seek controller configuration.
    </p>
    <pre class="line-numbers">
<code class="language-java">if (BrightcoveMediaController.checkTvMode(mBaseVideoView.getContext())) {
   setupTelevisionMode();
}</code></pre>
  </li>
</ol>
</section>

</article>


<!-- END DRUPAL CONTENT -->
</div>
</div>
<!-- bcl scripts -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
<script src="/en/scripts/docs-nav-data.min.js"></script>
<script src="/en/scripts/bcls-doc-site-v3.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
<script>
$(document).foundation();
</script>
<!-- Any scripts specific to page samples should go here -->
<script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
<script src="https://learning-services-media.brightcove.com/doc-assets/js/support-feedback.js"></script><script src="https://learning-services-media.brightcove.com/doc-assets/site-assets/js/site/feedback-docs.js"></script>
</body>
</html>
