<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Playback API Error Reference</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Playback API Error Reference</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <summary>This is a reference to errors returned by the Playback API.</summary>


	    <!-- BEGIN DRUPAL CONTENT -->


<article class="bcls-article">
<section class="bcls-section" id="primaryFields">
<h2>Status codes and errors</h2>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Status</th>
			<th>Error Code</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>200</td>
			<td><code>SUCCESS</code></td>
			<td>The normal response is sent.</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code>BAD_REQUEST</code></td>
			<td>Mis-formatted request, i.e. duplicate query parameters supplied</td>
		</tr>
		<tr>
			<td>401</td>
			<td><code>INVALID_POLICY_KEY</code></td>
			<td>Must provide a BCOV-Policy header with a legal policy key.</td>
		</tr>
    <tr>
			<td>403</td>
			<td><code>ACCESS_DENIED</code>, <code>VIDEO_NOT_PLAYABLE</code><sup><a href="#n1"> [1]</a></sup>, <code>PLAYLIST_NOT_PLAYABLE</code>, <code>JWT_AUTH</code></td>
			<td>The policy key provided does not permit this account or video, or the requested resource is inactive.</td>
		</tr>
    <tr>
			<td>404</td>
			<td><code>VIDEO_NOT_FOUND</code>, <code>PLAYLIST_NOT_FOUND</code>, <code>RESOURCE_NOT_FOUND</code>, <code>ACCOUNT_NOT_FOUND</code></td>
			<td>The designated resource was not found.</td>
		</tr>
    <tr>
			<td>405</td>
			<td><code>METHOD_NOT_ALLOWED</code></td>
			<td>Only GET, HEAD and OPTIONS are allowed for this api.</td>
		</tr>
    <tr>
			<td>500</td>
			<td><code>SERVER_ERROR</code></td>
			<td>Internal Wedge server error, usually will have more information in the logs.</td>
		</tr>
    <tr>
			<td>502</td>
			<td><code>SERVER_ERROR</code>, <code>ACCOUNT_RETRIEVE_FAILURE</code>, <code>VIDEO_RETRIEVE_FAILURE</code>, <code>VIDEO_URLS_RETRIEVE_FAILURE</code>, <code>PLAYLIST_RETRIEVE_FAILURE</code>, <code>PLAYLIST_VIDEOS_RETRIEVE_FAILURE</code></td>
			<td>Got a bad response from a backend server, generally Roebuck or Nomic returned a 5xx error.</td>
		</tr>
    <tr>
			<td>503</td>
			<td><code>SERVICE_UNAVAILABLE</code></td>
			<td>Not returned by Wedge. Could happen if there were no active servers in the Load Balancer. That would be bad. (The Playerback API does not do rate limiting, nor do the services it calls.)</td>
		</tr>
    <tr>
			<td>504</td>
			<td><code>SERVER_TIMEOUT</code></td>
			<td>A call to a backend server or one of the servers they rely on timed out.</td>
		</tr>
	</tbody>
</table>

<h4>Notes</h4>
<p id="n1"><sup>[1]</sup> <code>VIDEO_NOT_PLAYABLE</code> can be returned from Roebuck by single video requests. It indicates that the video does not pass the playable check (ingested, active, in schedule).</p>

<h3>Error responses</h3>
<p>
  As per the API design standards, error responses (<code>4xx</code> and <code>5xx</code>) consist of an error response list of one or more maps that include an <code>error_code</code>, an optional <code>error_subcode</code>, and optionally a non-localized <code>message</code> with more details.
</p>
<pre><code class="language-jsaon">[{&quot;error_code&quot;: &quot;ERROR_CODE1&quot;},
 {&quot;error_code&quot;: &quot;ERROR_CODE2&quot;, &quot;message&quot;: &quot;details can go here&quot;}
 {&quot;error_code&quot;: &quot;ERROR_CODE3&quot;, &quot;error_subcode&quot;: &quot;MORE_SPECIFIC_CODE&quot;, &quot;message&quot;: &quot;human readable details about what happened&quot;}]</code></pre>

 <h3>Error codes</h3>
 <p>
   The <code>error_code</code> that is meant to be both human understandable and to be used by client code to choose different actions and translatable user messages. The error codes are UPPER_SNAKE_CASE.
 </p>
 <table class="bcls-table">
 	<thead class="bcls-table__head">
 		<tr>
 			<th>Status</th>
 			<th>Error Code</th>
 			<th>Error Source</th>
 		</tr>
 	</thead>
 	<tbody class="bcls-table__body">
    <tr>
      <td>403</td>
 			<td><code>ACCESS_DENIED</code></td>
 			<td>Nomic policy</td>
 		</tr>
    <tr>
      <td>403</td>
 			<td><code>VIDEO_NOT_PLAYABLE</code></td>
 			<td>Roebuck</td>
 		</tr>
    <tr>
      <td>404</td>
 			<td><code>VIDEO_NOT_FOUND</code></td>
 			<td>Roebuck</td>
 		</tr>
    <tr>
      <td>other</td>
 			<td><code>VIDEO_RETRIEVE_FAILURE</code> if could not retrieve video</td>
 			<td>Roebuck</td>
 		</tr>
    <tr>
      <td>other</td>
 			<td><code>VIDEO_URLS_RETRIEVE_FAILURE</code> if could not retrieve sources or images</td>
 			<td>Roebuck</td>
 		</tr>
 	</tbody>
 </table>

 <h3>Error subcodes</h3>
 <p>
   Here are some but not all of the error subcodes (search for <code>:error_subcode</code> in the source)
 </p>
 <table class="bcls-table">
   <thead class="bcls-table__head">
     <tr>
       <th>Error Code</th>
       <th>Error Subcodes</th>
     </tr>
   </thead>
   <tbody class="bcls-table__body">
    <tr>
       <td><code>BAD_REQUEST</code></td>
       <td><code>DUPLICATE_PARAMETERS</code></td>
    </tr>
    <tr>
        <td><code>ACCESS_DENIED</code></td>
        <td><code>POLICY_ERROR</code></td>
    </tr>
    <tr>
         <td><code>ACCESS_DENIED</code></td>
         <td><code>ACCOUNT_ID</code>, <code>VIDEO_ID</code>, <code>CLIENT_GEO</code>, <code>CLIENT_IP</code>, <code>DOMAIN</code>, <code>POLICY_ERROR</code><sup><a href="#n1"> [1]</a></sup></td>
    </tr>
    <tr>
       <td><code>SOURCES_RESTRICTED</code></td>
       <td><code>TVE_AUTH</code></td>
    </tr>
    <tr>
       <td><code>SERVER_ERROR</code></td>
       <td><code>LOOKUP_GEO</code></td>
    </tr>
    <tr>
       <td><code>SERVER_TIMEOUT</code></td>
       <td><code>LOOKUP_GEO</code></td>
    </tr>

   </tbody>
 </table>

 <h4>Notes</h4>
 <p id="n1"><sup>[1]</sup> <code>ACCESS_DENIED</code>/<code>POLICY_ERROR</code> means any unexpected error while evaluating the Policy (including getting the video info for geo restricted accounts). It may be worth checking for exceptions in the log with this error.</p>

 <aside class="bcls-aside bcls-aside--information">When you request a playlist, if some videos cannot be played because of geo-restrictions, the server will return a 200 OK status. The response will include both playlist data and an errors array indicating that some videos were omitted.</aside>

 <!-- <pre class="line-numbers">
 <code class="language-json">[{
 "api_call": "search",
 "error_subcode": "API",
 "error_code": "ACCESS_DENIED",
 "message": "Access to this resource is forbidden by access policy."
 }]</code></pre>

 <pre class="line-numbers">
 <code class="language-json">"errors": [{
 "error_code": "ACCESS_DENIED",
 "error_subcode": "CLIENT_GEO",
 "client_geo": "us",
 "message": "Access to this resource is forbidden by access policy."
 }]</code></pre> -->

</section>

</article>


<!-- END DRUPAL CONTENT -->
</div>
</div>
<!-- bcl scripts -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
<script src="/en/scripts/docs-nav-data.min.js"></script>
<script src="/en/scripts/bcls-doc-site-v3.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
<script>
$(document).foundation();
</script>
<!-- Any scripts specific to page samples should go here -->
<script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
</body>
</html>
