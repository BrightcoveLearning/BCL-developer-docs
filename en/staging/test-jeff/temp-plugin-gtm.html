<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="robots" content="noindex">
  	<!-- change title to match the h1 heading -->
  	<title>Google Tag Manager Plugin for Brightcove Player</title>

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Google Tag Manager Plugin for Brightcove Player</h1>
      <aside class="bcls-aside bcls-aside--warning">This is a temporary STAGING document for review only. For the official Brightcove documentation site, go to <a href="https://support.brightcove.com/">support.brightcove.com</a></aside>
      <p>In this topic, you will learn the how to use the Google Tag Manager (GTM) plugin for Brightcove Player.</p>


	    <!-- BEGIN DRUPAL CONTENT -->


<article class="bcls-article">
<section class="bcls-section">
<h2 id="Overview">Overview</h2>

<p>The Google Tag Manager (GTM) player plugin allows you to integrate GTM functionality with Brightcove Player. Tag managers allow you to add and publish tags without having to use code. Because they are a client-side solution, tag managers enable you to collect data across different marketing technologies. This empowers marketers by giving them the ability to collect user and player data across a diverse set of collection points.</p>
<p>
  If you are already using Google Analytics, Adwords and DoubleClick, then you may also want to use Google Tag Manager, as it integrates well with these tools. GTM offers a large number of variable and trigger options.
</p>

<p>
  To familiarize yourself with some common terms, review the <a href="#Tag_management_terminology">Tag management terminology</a> section.
</p>
<p>
  To add the GTM plugin to your Brightcove Player, see the <a href="#Using_the_plugin">Using the plugin</a> section.
</p>

<!-- <p>To use the plugin follow these steps:</p>

<ol class="bcls-tasklist">
	<li>Load the Chromecast Plugin for Brightcove Player (detailed below).</li>
	<li>Be sure the Chromecast device is on the same network as your device that will play the video.</li>
	<li>Start playing the video.</li>
	<li>Click the cast button and select your Chromecast device.</li>
</ol> -->
</section>

<section class="bcls-section">
<h2 id="Tag_management_terminology">Tag management terminology</h2>

<p>Here are some of the common terms you will encounter when using Google Tag Manager (GTM).</p>
<table class="bcls-table">
  <thead class="bcls-table__head">
    <tr>
      <th width="15%">Term</th>
			<th width="85%">Description</th>
		</tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td><strong>Container</strong></td>
			<td>Your tag management system account can have multiple containers (profiles), with its own tags and variables. Each container can have multiple environments, usually set up for development, staging and production. </td>
		</tr>
    <tr>
      <td><strong>Data layer</strong></td>
			<td>The data layer refers to the collection of data that lives in the code of your web page. This JavaScript object is used to pass information from your website to your tag manager container. You can then use this information to populate variables and activate triggers in your tag configurations.</td>
		</tr>
    <tr>
      <td><strong>Event</strong></td>
			<td>Events are data points used to send data to your reporting tool. These are related to video loading and playback.</td>
		</tr>
    <tr>
      <td><strong>Tag</strong></td>
			<td>Tags are code snippets placed on your web page to collect user interaction data. Tag management systems simplify the process of adding tags to your site, requiring that you only supply the tag id and tag event type.</td>
		</tr>
    <tr>
      <td><strong>Tag marketplace</strong></td>
			<td>Tag marketplace templates provide code snippets for deploying a tag. While this reduces the amount of code knowledge needed, some familiarity with JavaScript and HTML is required for successful implementation.</td>
		</tr>
    <tr>
      <td><strong>Trigger</strong></td>
			<td>Triggers tell when tag code should be added to a page. These are user-defined conditions.</td>
		</tr>
    <tr>
      <td><strong>Tracker</strong></td>
			<td>Trackers are objects that collect, store data and send that data to Google Tag Manager.</td>
		</tr>
    <!-- <tr>
      <td><strong>Variable</strong></td>
			<td>Variables are data points used to send data to your reporting tool.</td>
		</tr> -->
  </tbody>
</table>

</section>

<section class="bcls-section">
<h2 id="Events_and_parameters">Events and parameters</h2>

<p>The following events and parameters are available to send to Google Tag Manager.</p>
<h3>Events</h3>
<p>
  These events come from your player.
</p>
<ul>
  <li>
    <code>ad_start</code>
  </li>
  <li>
    <code>ad_end</code>
  </li>
  <li>
    <code>error</code>
  </li>
  <li>
    <code>player_load</code>
  </li>
  <li>
    <code>play_request</code>
  </li>
  <li>
    <code>video_complete</code>
  </li>
  <li>
    <code>video_engagement</code>
    <ul>
      <li>
        <code>video_engagement - 25% Milestone</code>
      </li>
      <li>
        <code>video_engagement - 50% Milestone</code>
      </li>
      <li>
        <code>video_engagement - 75% Milestone</code>
      </li>
    </ul>
  </li>
  <li>
    <code>video_impression</code>
  </li>
  <li>
    <code>video_view</code>
  </li>
</ul>
<p>
  The video watched percentage (<code>video_engagement</code>) can be calculated as follows:
</p>
<pre><code class="language-json">Video watched percentage = duration the user actually watched / total video duration</code></pre>
<p>
  For example, in a 20 second video, the 25% milestone can be achieved in both of the below cases
</p>
<ul>
  <li>
    User watches from 0-5 seconds
  </li>
  <li>
    User watches from 0-1st second and skip to 11th second and watch to 15th second
  </li>
</ul>
<p>
  In both of the above cases, the user watched 5 seconds, so milestone will be reported as 25%.
</p>

<h3>Parameters</h3>
<p>
  These parameters come from your player.
</p>
<ul>
  <li>
    <code>account</code>
  </li>
  <li>
    <code>platform_version</code>
  </li>
  <li>
    <code>player</code>
  </li>
  <li>
    <code>player_name</code>
  </li>
  <li>
    <code>range</code>
  </li>
  <li>
    <code>session</code>
  </li>
  <li>
    <code>video</code>
  </li>
  <li>
    <code>video_duration</code>
  </li>
  <li>
    <code>video_name</code>
  </li>
  <li>
    <code>video_percent_viewed</code>
  </li>
  <li>
    <code>video_playhead</code>
  </li>
  <li>
    <code>video_seconds_viewed</code>
  </li>
</ul>

<h3>Automatic parameters</h3>
<p>
  These parameters are automatically sent to Google Tag Manager.
</p>
<ul>
  <li>
    <code>browser</code>
  </li>
  <li>
    <code>browser_type</code>
  </li>
  <li>
    <code>city</code>
  </li>
  <li>
    <code>country</code>
  </li>
  <li>
    <code>country_name</code>
  </li>
  <li>
    <code>destination</code>
  </li>
  <li>
    <code>device_os</code>
  </li>
  <li>
    <code>device_os_version</code>
  </li>
  <li>
    <code>device_type</code>
  </li>
  <li>
    <code>region</code>
  </li>
  <li>
    <code>region_name</code>
  </li>
  <li>
    <code>source</code>
  </li>
</ul>

</section>

<section class="bcls-section">
<h2 id="Using_the_plugin">Using the plugin</h2>

<p>The Google Tag Manager Plugin for Brightcove Player is used like other plugins, where you must load the plugin into the player.</p>

<h3>Using Studio</h3>

<p>The following steps detail using Studio to load the plugin.</p>

<ol class="bcls-tasklist__restart">
	<li>Open the <strong>PLAYERS</strong> module and either create a new player or locate the player to which you wish to add the plugin.</li>
	<li>Select the link for the player to open the player's properties.</li>
	<li>Select <strong>Plugins</strong> in the left navigation menu.</li>
	<li>
	<p>Next, select the <strong>Add a Plugin</strong> button, and then select <strong>Brightcove Plugin</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add a Plugin button" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/chromecast/add-a-plugin.png" />
	<figcaption class="bcls-caption--image">Add a Plugin button</figcaption>
	</figure>
	</li>
	<li>
	<p>Expand the <strong>Brightcove Plugin</strong> dropdown and select <strong>chromecast-receiver</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="chromcast-receiver" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/chromecast/cast-receiver.png" />
	<figcaption class="bcls-caption--image">chromecast-receiver</figcaption>
	</figure>
	</li>
	<li>
	<p><strong>Optional</strong>: Enter the configuration options in the <strong>Options(JSON)</strong> text box. An example for the default player in the <strong>1752604059001</strong> account is shown. You, of course, need to enter information for your player.</p>
	<!-- <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Plugin options" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/chromecast/options.png" />
	<figcaption class="bcls-caption--image">Plugin options</figcaption>
	</figure> -->

	<pre class="line-numbers">
<code class="language-json">{
"playerUrl" : "https://players.brightcove.net/1507807800001/default_default/index.min.js"
}</code></pre>

	<p>See below for details on the options.</p>
	</li>
	<li>
	<p>Select the <strong>Save</strong> button. You will now see the <strong>chromecast-receiver</strong> plugin added to the list of plugins for your player.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Plugin added" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/chromecast/plugin-added.png" />
	<figcaption class="bcls-caption--image">Plugin added</figcaption>
	</figure>
	</li>
	<li>To publish the player, select <strong>Publish &amp; Embed &gt; Publish Changes</strong>.</li>
	<li>To close the open dialog, select <strong>Close</strong>.</li>
	<li>
	<p>Return to the <strong>MEDIA</strong> and publish your video or playlist using the player you just updated for Chromecast.</p>

	<p>Once the plugin is loaded, the video has started playing, and an available Chromecast device is in range, the cast button will appear in the player as shown here in this screenshot of a player:</p>

	<figure class="bcls-figure"><img class="bcls-image" alt="Cast button" width="800" height="402" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/chromecast/cast-button.png" /></figure>

	<aside class="bcls-aside bcls-aside--information">
	<p>The Chromecast plugin's cast button will appear in the player's controlbar when an available Chromecast device is in range.</p>
	</aside>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Configuration_options">Configuration options</h2>

<p>No matter which method you choose to setup the Chromecast Plugin for Brightcove Player, you can pass options to modify plugin behavior.&nbsp;While setting these options is not necessary, additional customization is possible for advanced users. The available options are:</p>

<ul>
	<li><code class="notranslate">playerUrl </code><br />
	<strong>Default</strong>: <code class="notranslate">URL of current player</code>

	<p>When unspecified, this will point to the player that is casting your videos. Supplying this option will force the receiver to load a specific player rather than the player that is currently casting the video. This is useful when you want specific player code to only run on the Chromecast.</p>
	</li>
	<li><code class="notranslate">js </code><br />
	<strong>Default</strong>: <code class="notranslate">[] </code>
	<p>An array of custom JavaScript to load after the player JavaScript has loaded on the Chromecast receiver.</p>
	</li>
	<li><code class="notranslate">css </code><br />
	<strong>Default</strong>: <code class="notranslate">[] </code>
	<p>An array of custom CSS to load after the player CSS is loaded on the Chromecast receiver.</p>
	</li>
</ul>

<p>To pass options in code, you would use something similar to the following:</p>

<pre class="line-numbers">
<code class="notranslate language-javascript">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  options = {};
  options.playerUrl = '//players.brightcove.net/1752604059001/default_default/index.min.js';
  myPlayer.chromecastReceiver(options);
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Known_issues">Known issues</h2>

<ul>
	<li>The Chromecast Plugin is supported with the Brightcove Player version 6+.</li>
	<li>Google has stopped supporting non-secure origins (HTTP) with Chromecast, hence the plugin will not work in non-secure contexts. In these cases, the player's Chromecast button will not appear.</li>
	<li>Since the Chromecast Plugin relies on the browser's support for casting, it is only supported in the following OS/browser combinations:
	<ul>
		<li>Desktop/Chrome</li>
		<li>Android/Chrome</li>
	</ul>
	</li>
	<li>Google does not support multiple instances of the Chromecast sender button on a single page. Possible workarounds would be to embed the Brightcove Player using the Standard (iframe) player implementation, or to dynamically instantiate and destroy players as needed. See the document <a href="/node/18169">Brightcove Player Sample: Loading the Player Dynamically</a> for information on the latter possibility.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Changelog">Changelog</h2>

<p>See the <a href="/node/18791">changelog here</a>.</p>
</section>
</article>

<!-- END DRUPAL CONTENT -->
</>
</div>
<!-- bcl scripts -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
<script src="/en/scripts/docs-nav-data.min.js"></script>
<script src="/en/scripts/bcls-doc-site-v3.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
<script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
<script>
$(document).foundation();
</script>
<!-- Any scripts specific to page samples should go here -->
</body>

</html>
