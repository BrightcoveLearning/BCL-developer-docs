<!doctype html>
<html>

<head>
 <meta charset="UTF-8">
 <title>Untitled Document</title>
</head>

<body>
<h1>test</h1>

<textarea id="prettycode" style="width:90%;height:50%"></textarea>

<script>

var BCLS = ( function (window, document) {
  var str = encodeURI('<!doctype html><html><head><meta charset="UTF-8"><title>Play a Preroll</title><link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"></head><body><script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
</body> </html>'),
  requestURL = 'https://www.10bestdesign.com/dirtymarkup/api/html',
  prettycode = document.getElementById('prettycode');

  requestURL += '?indent=2&allow-proprietary-attribs=true&code=' + str ;
console.log('requestURL', requestURL);
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
   if (this.readyState == 4 && this.status == 200) {
     console.log('this.readyState: ', this.readyState);
     console.log('response: ', this.responseText);
     prettycode.textContent = xhttp.responseText;
   }
  };
  xhttp.open("POST", requestURL, true);
  xhttp.setRequestHeader("content-type", "application/x-www-form-urlencoded");
  xhttp.send();
})(window, document);


</script>

<script src="https://learning-services-media.brightcove.com/doc-assets/js/https-fix.js"></script>
</body>

</html>
