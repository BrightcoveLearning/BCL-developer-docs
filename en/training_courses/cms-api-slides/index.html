<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=1024, user-scalable=no">

    <title>Quick Start: CMS API</title>

    <!-- Required stylesheet -->
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/core/deck.core.css">

    <!-- Extension CSS files go here. Remove or add as needed. -->
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/extensions/goto/deck.goto.css">
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/extensions/menu/deck.menu.css">
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/extensions/navigation/deck.navigation.css">
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/extensions/status/deck.status.css">
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/extensions/scale/deck.scale.css">

    <!-- Style theme. More available in /themes/style/ or create your own. -->
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/themes/style/bcls-slides.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="//use.edgefonts.net/source-code-pro.js"></script>

    <!-- Transition theme. More available in /themes/transition/ or create your own. -->
    <link rel="stylesheet" media="screen" href="//docs.brightcove.com/en/scripts/slides/themes/transition/horizontal-slide.css">

    <!-- Basic black and white print styles -->
    <link rel="stylesheet" media="print" href="//docs.brightcove.com/en/scripts/slides/core/print.css">

    <!-- Required Modernizr file -->
    <script src="//docs.brightcove.com/en/scripts/slides/modernizr.custom.js"></script>

    <!-- syntax highlight styles -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/atelier-forest.light.min.css" />
</head>
<body>

    <!-- Begin slides. Just make elements with a class of slide. -->

    <div id="main" class="large-10 small-12 columns deck-container">
        <!-- title slide -->
        <div id="top" class="section title slide">
            <h1>Quick Start: CMS API</h1>
            <p class="doc-only">The CMS API allows you to manage videos and playlists for your account. This tutorial will walk you through the most common operations.</p>
            <table class="slide-only bcls-float-right bcls-small">
                <caption>Navigation</caption>
                <tbody>
                    <tr>
                        <td>↓ or → </td>
                        <td> forward</td>
                    </tr>
                    <tr>
                        <td>↑ or ← </td>
                        <td> back</td>
                    </tr>
                    <tr>
                        <td>cmd-m </td>
                        <td>all slides</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- section slide -->
        <div class="section slide" id="getStarted">
            <h2>Getting Started</h2>
        </div>
        <!-- regular content slide -->
        <div id="intro" class="slide">
            <h3>Introduction</h3>
            <p class="slide-only">The CMS API allows you to manage videos and playlists.</p>
            <p>The CMS API allows you to:</p>
            <ul>
                <li class="slide">
                    <p>Create videos and playlists (note that creating a video means a video object in Video Cloud - to upload videos, use the <a href="//docs.brightcove.com/en/video-cloud/di-api/index.html">Dynamic Ingest API</a></p>
                </li>
                <li class="slide">
                    <p>Edit or delete videos and playlists</p>
                </li>
                <li class="slide">
                    <p>Get counts of videos and playlists</p>
                </li>
                <li class="slide">
                    <p>Manage folders</p>
                </li>
                <li class="slide">
                    <p>Manage subscriptions to notifications of video changes</p>
                </li>
            </ul>
        </div>
        <div id="restful" class="slide">
            <h3>A Restful API</h3>
            <p>The CMS API is a RESTful API. It accepts HTTPS requests and returns a JSON response.</p>
            <p>This means that you can use the API with any language you choose - Ruby, Java, PHP, Python, JavaScript (via AJAX or nodejs), etc. All you have to be able to do is make HTTPS requests and handle a JSON response.</p>
        </div>
        <div id="baseURL" class="slide">
            <h3>The base URL</h3>
            <p>The base URL for the CMS API is:</p>
<pre class="slide"><code>https://cms.api.brightcove.com/v1</code></pre>
        </div>
        <div id="authorization" class="slide">
            <h3>Authorization</h3>
            <p>API calls are authorized using OAuth2 access tokens. The token is passed with requests in an authorization header:</p>
<pre class="slide"><code>Authorization: Bearer {access_token}</code></pre>
            <p class="slide">Access tokens are short-lived (5 min), so you must get one each time you make a request</p>
            <p class="slide">In these exercises, we'll make requests via a <a href="//docs.brightcove.com/en/video-cloud/oauth-api/guides/get-token.html#php">proxy</a> that will fetch an access token and then make the request.</p>
        </div>
        <div id="setupSection" class="section slide">
            <h2>Setup for the Exercises</h2>
        </div>
        <div>
            <div id="setup" class="slide" style="padding-left: 1.5em;max-width: 100%">
                <h3 class="slide-only">Setup</h3>
                <p>You have two options:</p>
                <ul>
                    <li class="slide">Perform the exercises on a sample account (recommended)</li>
                    <li class="slide">Use your own account</li>
                </ul>
                <p class="slide"><button class="bcls-button" id="useSampleAccount">Use Sample Account</button> <button class="bcls-button" id="useMyAccount">Use My Account</button></p>
                <div id="basicInfo" class="display-none" style="width:90%">
                    <table>
                        <tbody>
                            <tr>
                                <td>Video Cloud Account (Publisher ID):</td>
                                <td>
                                    <input id="account_id" type="text" size="30"></td>
                            </tr>
                            <tr>
                                <td class="align-top no-wrap">Client id:</td>
                                <td>
                                    <input id="client_id" type="text" size="40" value="" /><p>
                                </td>
                            </tr>
                            <tr>
                                <td>Client secret:</td>
                                <td>
                                    <input id="client_secret" type="text" size="40" value="" /><p>
                                </td>
                            </tr>
                            <tr>
                                <td>Tag (used for one or more videos):</td>
                                <td>
                                    <input id="tags" type="text" size="30" value="" /><p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p><button class="bcls-button" id="setOptions">Set Account Options</button></p>
                    <p>See <a href="//docs.brightcove.com/en/video-cloud/studio/managing-accounts/managing-api-credentials.html">Managing API Credentials</a> for information on getting client credentials.</p>
                </div>
            </div>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="getVideosSection" class="section slide">
            <h2>Getting videos</h2>
        </div>
        <div id="getVideosSetup" class="slide">
            <h3 class="slide-only">Getting videos</h3>
            <p>To get videos for an account, make a GET request to the endpoint:</p>
<pre class="slide"><code>/accounts/{account_id}/videos</code></pre>
            <p class="slide">Example:</p>
<pre class="slide"><code>https://cms.api.brightcove.com/v1/accounts/57838016001/videos</code></pre>
        </div>
        <div id="exercise1" class="slide">
            <h3>Exercise 1: Get videos</h3>
            <p>Make the following GET request:</p>
            <textarea id="ex1request"></textarea>
            <p><button id="ex1button" class="bcls-button">Submit Request</button></p>
            <p class="slide-only">(Response will appear on the next slide)</p>
        </div>
        <div id="ex1resp" class="slide">
            <h3 class="slide-only">Exercise 1 response</h3>
            <textarea id="ex1response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="limitsAndOffsetSection" class="section slide">
            <h2>Limits and offsets</h2>
        </div>
        <div id="limitsAndOffsetSetup" class="slide">
            <h3 class="slide-only">Limits and offsets</h3>
            <p>To set the number of items to return (up to 100), use the <code>limit</code> parameter:</p>
<pre class="slide"><code>/accounts/{account_id}/videos?limit={limit}</code></pre>
            <p class="slide">Example:</p>
<pre class="slide"><code>https://cms.api.brightcove.com/v1/accounts/57838016001/video?limit=10</code></pre>
            <p class="slide">You can then page results using the <code>offset</code> parameter. This request gets the 3rd set of 10 videos:</p>
<pre class="slide"><code>https://cms.api.brightcove.com/v1/accounts/57838016001/video?limit=10&offset=20</code></pre>
        </div>
        <div id="videoCound" class="slide">
            <h3>Video count</h3>
            <p>To get a count of all videos for paging purposes, send a GET request to:</p>
            <pre><code>https://cms.api.brightcove.com/v1/accounts/{account_id}/counts/video</code></pre>
        </div>
        <div id="exercise2" class="slide">
            <h3>Exercise 2: Using limit and offset</h3>
            <p>Make the following GET request to retrieve the second 10 videos from the account:</p>
            <textarea id="ex2request"></textarea>
            <p><button id="ex2button" class="bcls-button">Submit Request</button></p>
            <p class="slide-only">(Response will appear on the next slide)</p>
        </div>
        <div id="ex2resp" class="slide">
            <h3 class="slide-only">Exercise 2 Response</h3>
            <textarea id="ex2response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="sortSection" class="section slide">
            <h2>Sorting results</h2>
        </div>
        <div id="sortSetup" class="slide">
            <h3 class="slide-only">Sorting the results items</h3>
            <p>You can sort results by various fields using the <code>sort</code> parameter, prefacing the value with minus sign to sort in descending order:</p>
<pre class="slide"><code>/accounts/{account_id}/videos?sort={sort_field}</code></pre>
            <p class="slide">Example:</p>
<pre class="slide"><code>https://cms.api.brightcove.com/v1/accounts/57838016001/videos?sort=name
</code></pre>
        </div>
        <div id="exercise3" class="slide">
            <h3>Exercise 3: Sorting results</h3>
            <p>Make the following GET request to sort the results by duration, in descending order:</p>
            <textarea id="ex3request"></textarea>
            <p><button id="ex3button" class="bcls-button">Submit Request</button></p>
            <p class="slide-only">(Response will appear on the next slide)</p>
        </div>
        <div id="ex3resp">
            <h3>Exercise 3: Response</h3>
            <textarea id="ex3response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="searchVideosSection" class="section slide">
            <h2>Searching for videos</h2>
        </div>
        <div id="searchVideosSetup" class="slide">
            <h3 class="slide-only">Search for videos</h3>
            <p>You can search for terms generally or by a specific field using the <code>q</code> parameter</p>
<pre class="slide"><code>/accounts/{account_id}/videos?q={field}:{terms}</code></pre>
            <p class="slide">Examples</p>
<pre class="slide">// searches for videos with "fish" in the title, description, tags
https://cms.api.brightcove.com/v1/accounts/57838016001/videos?q=fish<code></code></pre>
<pre class="slide"><code>// searches for videos that have the tag "fish"
https://cms.api.brightcove.com/v1/accounts/57838016001/videos?q=tags:fish</code></pre>
            <p class="BCL-aside slide">Notes:</p>
            <ul>
                <li class="slide">The search string should be URI-encoded</li>
                <li class="slide">There are many options for searching - see <a href="//docs.brightcove.com/en/video-cloud/cms-api/guides/search-videos.html">Search Videos</a> for details</li>
            </ul>
        </div>

        <div id="exercise4" class="slide">
            <h3>Exercise 4: Search videos</h3>
            <p>Make the following get request to search for videos that have a specific tag:</p>
            <textarea id="ex4request"></textarea>
            <textarea id="ex4data" style="height:12em;"></textarea>
            <p><button id="ex4button" class="bcls-button">Submit Request</button></p>
            <p class="slide-only">(Response will appear on the next slide)</p>
        </div>
        <div id="ex4resp" class="slide">
            <h3 class="slide-only">Exercise 4 Response</h3>
            <textarea id="ex4response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="createVideoSection" class="section slide">
            <h2>Create a video</h2>
        </div>
        <div id="createVideoIntro" class="slide">
            <h3>What creating a video means</h3>
            <p>Creating a video in the CMS API means creating a video object in your library. It does not add an actual video. It is used either with the <a href="//docs.brightcove.com/en/video-cloud/di-api/index.html">Dynamic Ingest API</a> to add a video to your account, or to define a remote asset.</p>
        </div>
        <div id="createVideoSetup" class="slide">
            <h3>Create a video</h3>
            <p>To create a video, make a POST request to the endpoint:</p>
<pre class="slide"><code>/accounts/{account_id}/;videos</code></pre>
            <p class="slide">In the request body, include JSON with the video properties:</p>
<pre class="slide"><code>{
    "name": "Chickadee",
    "description": "A small friendly bird",
    "tags": ["bird", "air"]
}</code></pre>
        </div>
        <div id="exercise5" class="slide">
            <h3>Exercise 5: Create a video</h3>
            <p>Make the following POST request to create a new video object in your media:</p>
            <textarea id="ex5request"></textarea>
            <textarea id="ex5data" style="height:12em;"></textarea>
            <p><button id="ex5button" class="bcls-button">Submit Request</button></p>
            <p class="slide-only">(Response will appear on the next slide)</p>
        </div>
        <div id="ex5resp" class="slide">
            <h3>Exercise 5 Response</h3>
            <textarea id="ex5response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="updateVideoSection" class="section slide">
            <h2>Update a video</h2>
        </div>
        <div id="updateVideoSetup" class="slide">
            <h3 class="slide-only">Update video properties</h3>
            <p>To update video properties, make a PATCH request to the following endpoint:</p>
<pre class="slide"><code>/accounts/account_id/videos/{video_id}</code></pre>
            <p class="slide">Example:</p>
<pre class="slide"><code>https://cms.api.brightcove.com/v1/accounts/57838016001/videos/8483772266
</code></pre>
            <p class="slide">In the request body pass JSON including the properties you want to update:</p>
<pre class="slide"><code>{
    "reference_id" : "birdVideo34",
    "tags": ["bird", "air", "nature"]
}</code></pre>
<p class="BCL-aside slide">Note: for array properties, include the entire array, not just the items to add</p>
        </div>
        <div id="exercise6" class="slide">
            <h3>Exercise 6: Update a video</h3>
            <p>Make the following PATCH request to update the video created in the previous exercise:</p>
            <textarea id="ex6request"></textarea>
            <textarea id="ex6data" style="height:12em;"></textarea>
            <p><button id="ex6button" class="bcls-button">Submit Request</button></p>
            <p>(Response will appear on the next slide)</p>
        </div>
        <div id="ex6resp">
            <h3>Exercise 6 Response</h3>
            <textarea id="ex6response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="deleteVideoSection" class="section slide">
            <h2>Delete a video</h2>
        </div>
        <div id="deleteVideoSetup" class="slide">
            <h3 class="slide-only">Deleting videos</h3>
            <p>To delete a video, make a DELETE request to the endpoint:</p>
<pre class="slide"><code>/accounts/account_id/videos/{video_id}</code></pre>
            <p class="slide BCL-aside">Note: you cannot delete a video if it is shared to other accounts or if it belongs to manual playlists. You must first remove any shares and/or remove the video from all manual playlists.</p>

        </div>
        <div id="exercise7" class="slide">
            <h3>Exercise 7: Delete a video</h3>
            <p>Make the following DELETE request to delete the video you created in a previous exercise:</p>
            <textarea id="ex7request"></textarea>
            <p><button id="ex7button" class="bcls-button">Submit Request</button></p>
            <p class="slide-only">(Response will appear on the next slide)</p>
        </div>
        <div id="ex7resp" class="slide">
            <h3 class="slide-only">Exercise 7 Response</h3>
            <textarea id="ex7response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
        <div id="updateDefaultProfileSection" class="section slide">
            <h2>Updating Default Profile</h2>
        </div>
        <div id="updateDefaultProfileSetup" class="slide">
            <h3>Update the default profile</h3>
            <p>To update the default profile for the account, make a PATCH request to the endpoint:</p>
<pre class="slide"><code>/accounts/account_id/configuration</code></pre>
            <p class="slide">Include this JSON as the request body</p>
<pre class="slide"><code>{
  "id": {configuration_id},
  "account_id": {account_id},
  "default_profile_id": {default_profile_id}
}</code></pre>
            <p class="slide">The configuration id is returned when you get the default profile. If there is no default profile, see <a href="#deleteVideoSection">Setting the Default Profile</a>. As with other operations you can use the name or id for the <code>profile_id</code>.</p>
            <ul>
                <li class="slide">name (e.g. balanced-high-definition)</li>
                <li class="slide">generated id (e.g. 54de14cce4b0a6d2bf9cb08a)</li>
            </ul>
            <p class="slide">Example:</p>
<pre class="slide"><code>https://cms.api.brightcove.com/v1/accounts/57838016001/configuration/{configuration_id}
</code></pre>
<p class="BCL-aside">The <code>configuration_id</code> is the <code>id</code> you get in the response to a GET or POST request.</p>
        </div>
        <div id="exercise8" class="slide">
            <h3>Exercise 8: Update default profile</h3>
            <p>Make the following PUT request to update the default profile for the account:</p>
            <textarea id="ex8request"></textarea>
            <textarea id="ex8data" style="height:12em;"></textarea>
            <p><button id="ex8button" class="bcls-button">Submit Request</button></p>
            <p class="slide-only">(Response will appear on the next slide)</p>
        </div>
        <div id="ex8resp" class="slide">
            <h3 class="slide-only">Exercise 7 Response</h3>
            <textarea id="ex8response" style="height:12em;">Response will appear here</textarea>
        </div>
        <!-- end slide - no content - for slides only -->
        <div class="slide endSlide slide-only"></div>
    </div>

    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet -->
    <div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet -->
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>

<!-- Required JS files. -->
<script src="//docs.brightcove.com/en/scripts/slides/jquery.min.js"></script>
<script src="//docs.brightcove.com/en/scripts/slides/core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="//docs.brightcove.com/en/scripts/slides/extensions/menu/deck.menu.js"></script>
<script src="//docs.brightcove.com/en/scripts/slides/extensions/goto/deck.goto.js"></script>
<script src="//docs.brightcove.com/en/scripts/slides/extensions/status/deck.status.js"></script>
<script src="//docs.brightcove.com/en/scripts/slides/extensions/navigation/deck.navigation.js"></script>
<script src="//docs.brightcove.com/en/scripts/slides/extensions/scale/deck.scale.js"></script>

<!-- syntax highlighter for pre-code blocks -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>

<script id="pageScript" type="text/javascript">
var BCLS = (function ($, window, document) {
    "use strict";
    var proxyURL = "https://solutions.brightcove.com/bcls/bcls-proxy/bcls-proxy.php",
        baseURL = "https://cms.api.brightcove.com/v1",
        useMyAccount = document.getElementById("useMyAccount"),
        basicInfo = document.getElementById("basicInfo"),
        account_id = document.getElementById("account_id"),
        client_id = document.getElementById("client_id"),
        client_secret = document.getElementById("client_secret"),
        setOptions = document.getElementById("setOptions"),
        /**
         * defaults - Brightcove Learning account values here - change to account you want to use
         * permissions for:
         * CMS API - all operations
         */
        defaults = {
            account_id: "57838016001",
            client_id: "c953f97a-1050-4597-a22e-46ea68f8143b",
            client_secret: "HhzY-WS7NVCPkbQJBfxCmGfB_FYuWfvUGn9-lUNRY3eY6p05Bo1JEErYs-vOWcQ-72Aecel83cN5U22e8S7b-g"
        },
        options = {},
        // for the exercises
        sampleProfile = {"account_id":"your_account_id","name":"Test_Profile","description":"This will produce 1 MP4 rendition, 1 HLS rendition, and 2 image renditions.","archive_master":true,"renditions":[{"speed":3,"fixed_keyframe_interval":true,"media_type":"video","keyframe_rate":0.333,"video_codec":"h264","width":848,"reference_id":"mp1","h264_profile":"high","format":"mp4","audio_codec":"aac","audio_bitrate":48,"height":480,"video_bitrate":1280},{"speed":3,"media_type":"video","max_frame_rate":30,"keyframe_rate":0.5,"video_codec":"h264","decoder_bitrate_cap":1920,"reference_id":"hls3","type":"segmented","h264_profile":"high","width":848,"max_hls_protocol_version":2,"format":"ts","audio_codec":"aac","audio_bitrate":48,"hls_optimized_ts":"true","decoder_buffer_size":5120,"height":480,"video_bitrate":1280,"package_format":"zip"},{"height":360,"label":"poster","width":480,"media_type":"image","format":"png"},{"height":90,"label":"thumbnail","width":160,"media_type":"image","format":"png"}],"packages":[]},
        profileData,
        profileDataStr = "",
        updateData,
        updateDataStr = "",
        defaultData = {"account_id":57838016001,"profile_id":"screencast"},
        defaultDataStr = "",
        updateDefaultData = {"id":"","account_id":57838016001,"default_profile_id":"balanced-high-definition"},
        updateDefaultDataStr = "",
        config_id = "",
        profile_id = "",
        ex1request = document.getElementById("ex1request"),
        ex1response = document.getElementById("ex1response"),
        ex1button = document.getElementById("ex1button"),
        ex2request = document.getElementById("ex2request"),
        ex2response = document.getElementById("ex2response"),
        ex2button = document.getElementById("ex2button"),
        ex2data = document.getElementById("ex2data"),
        ex3request = document.getElementById("ex3request"),
        ex3response = document.getElementById("ex3response"),
        ex3button = document.getElementById("ex3button"),
        ex4request = document.getElementById("ex4request"),
        ex4response = document.getElementById("ex4response"),
        ex4button = document.getElementById("ex4button"),
        ex4data = document.getElementById("ex4data"),
        ex5request = document.getElementById("ex5request"),
        ex5response = document.getElementById("ex5response"),
        ex5button = document.getElementById("ex5button"),
        ex6request = document.getElementById("ex6request"),
        ex6response = document.getElementById("ex6response"),
        ex6button = document.getElementById("ex6button"),
        ex7request = document.getElementById("ex7request"),
        ex7response = document.getElementById("ex7response"),
        ex7button = document.getElementById("ex7button"),
        ex7data = document.getElementById("ex7data"),
        ex8request = document.getElementById("ex8request"),
        ex8response = document.getElementById("ex8response"),
        ex8button = document.getElementById("ex8button"),
        ex8data = document.getElementById("ex8data"),
        // functions
        isDefined,
        bclslog,
        copyObj,
        setAccountOptions,
        setupExercises,
        submitRequest;
        /**
         * tests for all the ways a variable might be undefined or not have a value
         * @param {*} x the variable to test
         * @return {Boolean} true if variable is defined and has a value
         */
        isDefined = function(x){
            if ( x !== "" && x !== null && x !== undefined && x !== NaN && x !== {} && x !== []) {
                return true;
            } else {
                return false;
            }
        };
        /**
         * Logging function - safe for IE
         * @param  {string} context description of the data
         * @param  {*} message the data to be logged by the console
         * @return {}
         */
        bclslog = function (context, message) {
            if (window["console"] && console["log"]) {
              console.log(context, message);
            };
            return;
        };
        /**
         * get a copy of (rather than reference to) an object
         * @param  {object} obj the object you want a copy
         * @return {object}     the copy
         */
        copyObj = function (obj) {
            return JSON.parse(JSON.stringify(obj));
        };
        /**
         * set up account options when you are ready to assemble the URL and make the API call
         */
        setAccountOptions = function () {
            defaults.account_id = isDefined(account_id.value) ? account_id.value : defaults.account_id;
            defaults.client_id = isDefined(client_id.value) ? client_id.value : defaults.client_id;
            defaults.client_secret = isDefined(client_secret.value) ? client_secret.value : defaults.client_secret;
            bclslog("defaults", defaults);
        };
        /**
         * set up values for exercises
         */
        setupExercises = function () {
            profileData = copyObj(sampleProfile);
            profileData["account_id"] = defaults.account_id;
            profileData["name"] += new Date().toISOString();
            profileDataStr = JSON.stringify(profileData, null, "  ");
            updateData = copyObj(profileData);
            updateData["description"] = "Test Profile Updated";
            updateData["id"] = profile_id;
            updateDataStr = JSON.stringify(updateData, null, "  ");
            defaultDataStr = JSON.stringify(defaultData, null, "  ");
            updateDefaultData["id"] = config_id;
            updateDefaultData["default_profile_id"] = "screencast";
            updateDefaultDataStr = JSON.stringify(updateDefaultData, null, "  ");
            bclslog("updateDefaultDataStr", updateDefaultDataStr);
            ex1request.value = baseURL + "/accounts/" + defaults.account_id + "/profiles";
            ex2request.value = baseURL + "/accounts/" + defaults.account_id + "/profiles";
            ex2data.value = profileDataStr;
            ex3request.value = baseURL + "/accounts/" + defaults.account_id + "/profiles/" + profile_id;
            ex4request.value = baseURL + "/accounts/" + defaults.account_id + "/profiles/" + profile_id;
            ex4data.value = updateDataStr;
            ex5request.value = baseURL + "/accounts/" + defaults.account_id + "/profiles/" + profile_id;
            ex6request.value = baseURL + "/accounts/" + defaults.account_id + "/configuration";
            ex7request.value = baseURL + "/accounts/" + defaults.account_id + "/configuration";
            ex7data.value = defaultDataStr;
            ex8request.value = baseURL + "/accounts/" + defaults.account_id + "/configuration";
            ex8data.value = updateDefaultDataStr;
        };
        // listeners
        // toggle sample/customer account
        useMyAccount.addEventListener("click", function () {
            if (basicInfo.className === "display-none") {
                basicInfo.className = "display-block";
                useMyAccount.innerHTML = "Cancel";
            } else {
                basicInfo.className = "display-none";
                useMyAccount.innerHTML = "Use My Account";
            }
        });
        useSampleAccount.addEventListener("click", function () {
            setAccountOptions();
            useSampleAccount.innerHTML = "Setup Complete!";
            setupExercises();
        });
        /**
         * submits the api request to the proxy and writes the response
         * @param  {string} the request type get, post, patch, put, delete
         * @param  {object:htmlElement} reqEl  element that holds the api request
         * @param  {object:htmlElement} respEl element to write the response to
         * @param  {object:htmlElement} dataEl element that holds request data (optional)
         */
        submitRequest = function (exNum, reqType, reqEl, respEl, dataEl) {
            var options = {},
                respData;
            options.client_id = defaults.client_id;
            options.client_secret = defaults.client_secret;
            options.url = reqEl.value;
            options.requestType = reqType.toUpperCase();
            options.requestBody = (isDefined(dataEl)) ? dataEl.value : null;
            bclslog("options", options);
            $.ajax({
                url: proxyURL,
                method: "POST",
                data: options,
                success : function (data) {
                    try {
                        bclslog("data", data);
                        respData = JSON.parse(data);
                        respEl.value = JSON.stringify(respData, null, "  ");
                        if (exNum === 2) {
                            profile_id = respData.id;
                            bclslog("profile_id", profile_id);
                            setupExercises();
                        }
                        if (exNum === 6 || exNum === 7) {
                            config_id = respData["id"];
                            bclslog("config_id", config_id);
                            setupExercises();
                        }
                    } catch (e) {
                         bclslog("invalid JSON - something went wrong", e);
                         data = {"Error": e};
                         switch (exNum) {
                            case 5:
                            respEl.value = "[DELETE requests do not return any data - you will just see an empty HTTP 204 response]"
                            break;
                            case 6:
                            respEl.value = "There is no default profile - we'll set one in the next exercise";
                            break;
                            case 7:
                            respEl.value = "There is already a default profile - we'll update it in the next exercise";
                            break;
                            default:
                            respEl.value = "There was a problem with the request";
                         }
                    }
                    // write the response to the response element

                }
            })
        }
        // set account options
        setOptions.addEventListener("click", function () {
            setAccountOptions();
            setOptions.innerHTML = "Setup Complete!";
            setupExercises();
        });
        // exercise button handlers
        ex1button.addEventListener("click", function () {
            submitRequest(1, "get", ex1request, ex1response);
        });
        ex2button.addEventListener("click", function () {
            submitRequest(2, "post", ex2request, ex2response, ex2data);
        });
        ex3button.addEventListener("click", function () {
            submitRequest(3, "get", ex3request, ex3response);
        });
        ex4button.addEventListener("click", function () {
            submitRequest(4, "put", ex4request, ex4response, ex4data);
        });
        ex5button.addEventListener("click", function () {
            submitRequest(5, "delete", ex5request, ex5response);
        });
        ex6button.addEventListener("click", function () {
            submitRequest(6, "get", ex6request, ex6response);
        });
        ex7button.addEventListener("click", function () {
            submitRequest(7, "post", ex7request, ex7response, ex7data);
        });
        ex8button.addEventListener("click", function () {
            submitRequest(8, "post", ex8request, ex8response, ex8data);
        });
    return {}
})($, window, document);
    </script>
<!-- Automatically write the doc h1 heading to the title tag
and creates public method BCLSslides.bclshighlight(), which
adds syntax highlighting to pre>code blocks
 -->
<script>
    var bclsslides = ( function ($, window, document, hljs) {
        var bclsinjectTitle,
            bclshighlight,
            $precode = $("pre>code");
            bclsinjectTitle = function () {
                var titleEl = document.getElementsByTagName("title")[0],
                    docTitle = document.getElementsByTagName("h1")[0];
                    docTitle.addEventListener("change", function () {
                        titleEl.innerHTML = this.innerHTML;
                    });
            };
            bclshighlight = function () {
                $precode.each(function (i, e) {
                    hljs.highlightBlock(e);
                });
            };
            // call these initially
            bclsinjectTitle();
            bclshighlight();
            /**
             * return bclshighlight
             * public method: BCLSslides.BCLShightlight()
             */
            return {
                "bclshighlight": bclshighlight
            }
        })($, window, document, hljs);

</script>
<!-- Initialize the deck. You can put this in an external file if desired. -->
<!-- need to put this at the end in case the script above is generating content dynamically -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
</body>
</html>
