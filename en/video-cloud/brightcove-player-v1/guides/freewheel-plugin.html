<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>FreeWheel Plugin</title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.1/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.1/css/normalize.css" />
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

  </script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.1/js/vendor/modernizr.js"></script>
  <style>
    iframe {
        width: 640px;
        height: 360px;
    }
  </style>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<div id="top" class="section">
				<h1>FreeWheel Plugin</h1>
				<!-- Place document intro sentence(s) here -->
        <p class="BCL-aside">Note: The FreeWheel Plugin is in beta development.</p>
				<p>This topic covers the use of the FreeWheel plugin, and how it can be implemented using <span class="video-cloud-only">Video Cloud Studio</span><span class="perform-only">Perform Studio</span> and through custom coding.</p>
        <p>This plugin enables FreeWheel ad technology, for either Flash or HTML5, in Brightcove Player. The plugin will attempt to select the best rendering option to be used for the lifetime of the player.</p>
			</div>
			<div id="implementplayersmodule" class="section">
				<h2>Implement using Players module</h2>
			  <p>To implement the FreeWheel Plugin using the Players module, follow these steps:</p>
			  <ol>
			    <li>Open the Players module and locate the player.</li>
			    <li>Click the link for the player to open the player properties.</li>
			    <li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
			    <li>The JavaScript for the plugin is provided and will not change for different plugin implementations. For the <strong>JavaScript URL</strong>, enter:</li>
          <p><pre> https://players.brightcove.net/videojs-freewheel/videojs-freewheel.min.js</pre></p>
			    <li>The CSS for the plugin is provided and will not change for different plugin implementations. For the <strong>CSS URL</strong>, enter:<br/>
          <p><pre> https://players.brightcove.net/videojs-freewheel/videojs-freewheel.min.css</pre></p></li>
          <li>For the plugin name, enter <strong>FreeWheelPlugin</strong>.</li>
          <li>The Options provided in the form configure playback technology where <code>Flash</code> and <code>Html5</code> configuration sections are provided by FreeWheel. A slightly altered (for security reasons) complete configuration is shown <a href="#exampleconfiguration">below</a> .  A stub example is shown here:<br/>
<pre><code>{
  "adTechOrder": ["flash", "html5"],
  "Flash": {
    "sdkurl": "http://adm.fwmrm.net/...",
    "serverUrl": "http://cue.v.fwmrm.net/..."
    "profile": "3aaa_profile",
    ...
  },
  "Html5": {
    "sdkurl": "http://adm.fwmrm.net/...",
    "serverUrl": "http://cue.v.fwmrm.net/..."
    "profile": "3aaa_profile",
    ...
  }
}</code></pre>
	              <div><img src="/en/video-cloud/brightcove-player-v1/guides/assets/freewheel-studio.png"></div>
                </li>
                <li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
		      </ol>
			</div>
			<div id="implementcode" class="section">
        <h2>Implement using code</h2>
          <p>To implement a plugin the player needs to know the location of the plugin code, a stylesheet if needed, the plugin name and plugin configuration options. The location of the plugin code and stylesheet are as follows:</p>
            <ul>
              <li>https://players.brightcove.net/videojs-freewheel/videojs-freewheel.min.js</li>
              <li>https://players.brightcove.net/videojs-freewheel/videojs-freewheel.min.css</li>
      </ul>
        <p>The name of the plugin is <code>FreeWheelPlugin</code>. The options configure playback technology where <code>Flash</code> and <code>Html5</code> configuration sections are provided by FreeWheel. A slightly altered (for security reasons) complete configuration is shown <a href="#exampleconfiguration">below</a> .  A stub example is shown here:</p>
        <p><code data-gist-id="4b6225289fba75490d61" data-gist-hide-footer="true" data-gist-line="71-84"></code></p>
        <p>The following shows using the In-Page Embed implementation of the player to associate the FreeWheel Plugin with a single instance of a player.</p>
          <ul>
              <li>Line 90: Uses a <code>link</code> tag to include the plugin's CSS in the <code>head</code> of the HTML page.</li>
              <li>Line 92: Gives the <code>video</code> tag an <code>id</code> attribute, with some value, in this case <strong>myPlayerID</strong>.</li>
              <li>Line 100: Uses a <code>script</code> tag to include the plugin's JavaScript in the <code>body</code> of the HTML page.</li>
              <li>Line 107: Creates a reference to the player.</li>
              <li>Lines 110-124: Initializes the plugin and passes in custom options.</li>
          </ul>
          <p><code data-gist-id="4b6225289fba75490d61" data-gist-hide-footer="true" data-gist-line="90-126"></code></p>

			</div>
      <div id="renderingoptions" class="section">
        <h2>Rendering options</h2>
        <p>The following table shows the Tech in which the FreeWheel plugin will render an ad (column 3) based on Tech selections in Brightcove Player (column 1) and the <code>adTechOrder</code> set in the plugin (column 2).</p>
        <table>
          <tr>
            <th>Brightcove Player<br />Selected Tech</th>
            <th>FreeWheelPlugin adTechOrder</th>
            <th>FreeWheel Plugin<br />Selected Ad Tech</th>
          </tr>
          <tr>
            <td>html5</td>
            <td>["flash","html5"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>html5</td>
            <td>["html5","flash"]</td>
            <td>html5</td>
          </tr>
          <tr>
            <td>html5</td>
            <td>["html5"]</td>
            <td>html5</td>
          </tr>
          <tr>
            <td>html5</td>
            <td>["flash"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["flash","html5"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["html5","flash"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["html5"]</td>
            <td>Not possible</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["flash"]</td>
            <td>flash</td>
          </tr>
        </table>
        <p>The following table shows the supported ad types based on the Tech (playback technology) the FreeWheel plugin is using to render the ad.</p>
        <table>
          <tr>
            <th>FreeWheel plugin Tech</th>
            <th>Supported Ads</th>
          </tr>
          <tr>
            <td>HTML5</td>
            <td>pre-roll, mid-roll, post-roll, overlay</td>
          </tr>
          <tr>
            <td>Flash</td>
            <td>pre-roll, mid-roll, post-roll, overlay</td>
          </tr>
        </table>
        <p class="BCL-aside">NOTE: For the best user experience when delivering midrolls, you should use a segmented delivery format like HLS and deliver your content from a CDN that supports byteÂ­range requests. See the <a href="//support.brightcove.com/en/video-cloud/docs/html5-mid-roll-ads">HTML5 Mid-roll Ads</a> document for more information on the complexities of delivering midrolls ads.</p>
      </div>
      <div id="properties" class="section">
        <h2>Properties</h2>
        <p>The following plugin properties are used to control the Freewheel plugin:</p>
		<ul>
      <li><strong>adTechOrder</strong>: 
        <ul>
          <li>Type: <code>array</code> Default Value: <code>["flash","html5"]</code></li>
          <li>The array contains the ad integration technologies to attempt to use, in order of descending precedence. The FreeWheel plugin will test each ad tech in order on initialization and use the first supported one for the lifetime of the player.</li>
        </ul>
      </li>
      <li><strong>Flash</strong>: 
        <ul>
          <li>Type: <code>object</code></li>
          <li>An object for Tech specific FreeWheel configuration (provided by FreeWheel)</li>
        </ul>
      </li>
      <li><strong>swfurl</strong>: 
        <ul>
          <li>Type: <code>string</code> Default Value: <code>http://players.brightcove.net/videojs-freewheel/videojs.freewheel.swf</code></li>
          <li>Must be a child property of the <code>Flash</code> object. The path to the Freewheel Flash plugin. This will be directly applied to the object element if the Flash ad tech is used.</li>
        </ul>
      </li>
      <li><strong>Html5</strong>: 
        <ul>
          <li>Type: <code>object</code></li>
          <li>An object for HTML5 FreeWheel configuration (provided by FreeWheel)</li>
        </ul>
      </li>
      </div>
      <div id="exampleconfiguration" class="section">
        <h2>Example configuration</h2>
        <p></p>
        <p><code data-gist-id="4b6225289fba75490d61" data-gist-hide-footer="true" data-gist-line="1-67"></code></p>
      </div>
      <div id="demos" class="section">
        <h2>Demos</h2>
        <p>The following demos use slightly different FreeWheel configurations and the resulting player. Both configurations will play a pre-roll, a mid-roll at 5 seconds and then a post-roll. The configurations are the same, except that the <code>adtechOrder</code> is different. In the first demo <code>flash</code> is first, as shown here:</p>
        <p><code data-gist-id="4b6225289fba75490d61" data-gist-hide-footer="true" data-gist-line="59-62"></code></p>
        <p>In the second the order is reversed.</p>
        <div class="BCL-aside">
          <p>Note: Both demos have the player's <code>techOrder</code> set to <code>html5</code> first. This can be done in the in-page embed using the highlighted attribute:</p>
          <p><code data-gist-id="4b6225289fba75490d61" data-gist-hide-footer="true" data-gist-line="147-153" data-gist-highlight-line="152"></code></p>
          <p>You can also use the Player Management API with an HTTPS PATCH method to change the player's <code>techOrder</code>.</p>
        </div>
        <h3>adtech order: flash, html5</h3>
        <p>This demo uses <code>flash</code> first in the <code>adtechOder</code>.</p>
        <iframe src='//players.brightcove.net/1752604059001/616d343c-33f6-45c3-8484-b889eb8095e1_default/index.html?videoId=4172255216001' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
        <p>Following is the actual configuration used with the player. Note that this can be used for the <strong>options</strong> value in <span class="video-cloud-only">Video Cloud</span><span class="perform-only">Perform</span> Studio.</p>
        <p><code data-gist-id="4b6225289fba75490d61" data-gist-hide-footer="true" data-gist-line="161-219"></code></p>
        <h3>adtech order: html5, flash</h3>
        <p>This demo uses <code>html5</code> first in the <code>adtechOder</code>.</p>
        <iframe src='//players.brightcove.net/1752604059001/24351871-efb6-4c3a-9002-dc8acd9192c6_default/index.html?videoId=4172255216001' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
        <p>Following is the actual configuration used with the player. Note that this can be used for the <strong>options</strong> value in <span class="video-cloud-only">Video Cloud</span><span class="perform-only">Perform</span> Studio.</p>
        <p><code data-gist-id="4b6225289fba75490d61" data-gist-hide-footer="true" data-gist-line="263-321"></code></p>
      </div>
      <div id="knownissues" class="section">
        <h2>Known issues</h2>
        <ul>
            <li>Resizing player during ad playback: If the player is resized during ad or video playback, ad content will not resize unless the player's dimensions function is called to resize the player. Resizing the player using other methods (style width and height, for example) will not resize the ad.</li>
            <li>Overlay ads: If the FreeWheel plugin is rendering an ad in Flash, overlay ads are not clickable. If the FreeWheel plugin is rendering an ad in HTML5, overlays are not displayed at correct coordinates.</li>
            <li>Replay of content after post-roll: After post-rolls in HTML, content will replay in some cases.</li>
        </ul>
      </div>
      <div id="contribads" class="section">
        <h2>Player Ad Libraries</h2>
        <p>The <a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-ads</a> GitHub repository contains a plugin which provides common functionality needed by video advertisement libraries working with Brightcove Player. The plugin provides common functionality needed by video ad integrations and takes care of a number of concerns for ad integrators, reducing the code you have to write for your ad integration.</p>
        <p>For instance, the functionality in <a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-ads</a> allows you to check the current <strong>state</strong> property on a player to determine whether an ad is playing or not. States change frequently during the pre-roll "handshake"  but are otherwise usually one of <code>content-playback</code> or <code>ad-playback</code>, defined by:</p>
        <ul>
            <li><code>player.ads.state === 'ad-playback'</code> (this is the state when <code>adstart</code> is called)</li>
            <li><code>player.ads.state === 'content-playback'</code> (this is the state when <code>adend</code> is called)</li>
        </ul>
        <p>The readme for the repository contains a state diagram on the README which covers the details of the pre-roll states.</p>
        <p>See the <a href="//docs.brightcove.com/en/video-cloud/brightcove-player-v1/guides/contrib-ads-migration-guide.html">Migration Guide</a> for information on the latest version of videojs-contrib-ads.</p>
      </div>
			<div class="section" id="BCLreferences">
				<h2>Related Topics</h2>
				<ul>
          <li><a href="//support.brightcove.com/en/video-cloud/docs/html5-mid-roll-ads">HTML5 Mid-roll Ads</a>
          </li>
          <li><a href="http://docs.brightcove.com/en/video-cloud/brightcove-player-v1/guides/plugin-dev-quick-start.html">Quick Start to Plugin Development</a>
          </li>
          <li><a href="http://docs.brightcove.com/en/video-cloud/player-management/getting-started/player-mgmt-quick-start.html">Quick Start to Player Management</a>
          </li>
				</ul>
			</div>
		</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/1.9/gist-embed.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.3/fastclick.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.1/js/foundation.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.2/handlebars.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
	<script src="/en/scripts/log.js"></script>
	<script src="/en/scripts/docs-nav-data.min.js"></script>
	<script src="/en/scripts/bcls-doc-site-v1.js"></script>
	<script src="/en/scripts/bc-mapi.js"></script>
	<script>
		$(document).foundation();
	</script>
	<script type="text/javascript">
		/******** Any scripts specific to page samples should go here *********/
	</script>
	<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
    <script>
	var feedbackMail = document.getElementById("feedbackMail");
	feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
	</script>
</body>

</html>
