<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="product" content="Video Cloud">
    <meta name="audience" content="Player Developer">
    <meta name="product-area" content="Plugins,Playback">
    <meta name="product-focus" content="">
    <meta name="keywords" content="player">
    <!-- End Drupal Taxonomy Data -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Live DVRUX Plugin</title>

  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

  <script>
      (function(i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r;
          i[r] = i[r] || function() {
              (i[r].q = i[r].q || []).push(arguments)
          }, i[r].l = 1 * new Date();
          a = s.createElement(o),
              m = s.getElementsByTagName(o)[0];
          a.async = 1;
          a.src = g;
          m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-2728311-29', 'auto');
      ga('send', 'pageview');
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>

</head>

<body>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
  <!-- content -->
  <div class="row">
    <div class="sidebar large-2 columns show-for-large-up">
      <div id="sidenav" class="side-nav"></div>
    </div>
    <div id="main" class="large-10 small-12 columns">
      <h1>Live DVRUX Plugin</h1>
    <!-- begin drupal content -->
    <article class="bcls-article">
      <header id="bcls_header" class="bcls-header">
        <!-- Place document intro sentence(s) here -->
        <p>In this topic, you will learn how to use the Live DVRUX plugin. This plugin skins the Brightcove Player with DVRUX controls during playback of HLS live video.</p>
        <aside class="bcls-aside bcls-aside--warning">Note: This plugin was updated for Brightcove Player 5.x in September 2016. If you were using the plugin previous to that date, you had to have locked your player on version 1.x. Be sure update your player to the latest 5.x  version to be compatible with the latest version of the Live DVRUX plugin.</aside>
      </header>
      <section id="What_the_plugin_does" class="bcls-section">
        <h2>Detailing the plugin's behavior</h2>
        <p>The plugin changes the appearance and behavior of Brightcove Player to provide a better experience during live HLS playback, focusing primarily on the addition of DVR controls. With this plugin, viewers can seek to earlier points in the HLS stream as available, and they can tell in a glance where they are relative to the video's current live point.</p>
        <p>In a paused state, you will see the play head gradually drift left as the live stream continues on without you. In 'sliding window' DVR mode, where earlier segments of video are not available after some duration, the non-available video will eventually cause the play head to reach an unplayable position. In this case, the player will reset to live video when the user hits play.</p>
        <aside class="bcls-aside bcls-aside--tip">Note: The behavior described in the paragraph above will be affected  how the live stream segments are expired.</aside>
        <p>There are also optional <strong>bookend</strong> features available for publishers to control what happens to the player before and after the live stream occurs and Brightcove Player is open. Those options are detailed below.</p>
        <p>As you see in the screenshot below, when you are watching live that will be reflected in the bottom-right of the player (highlighted in the yellow box).</p>
        <figure class="bcls-figure">
            <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/playback/dvrux-plugin/showing-green-live.png" alt="Showing green live">
        </figure>
        <p>If you pause or scrub backwards in the stream, you will see the "fast forward" button which you can click to see the video in real time. The fast-forward button is located in the bottom-right of the player (highlighted in the yellow box).</p>
        <figure class="bcls-figure">
            <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/playback/dvrux-plugin/showing-fast-forward.png" alt="Showing fast forward">
        </figure>
        <p>The following sample player demonstrates the use of the Live DVRUX Plugin. You will see the player, via the particular live feed, provides a generous amount of video through which you can scrub.</p>
        <iframe width='640' height='380' src="//players.brightcove.net/1752604059001/ByXXzhT3_default/index.html?videoId=5155162396001"
          allowfullscreen
          webkitallowfullscreen
          mozallowfullscreen></iframe>
      </section>
      <section id="implementplayersmodule" class="bcls-section">
        <h2>Implement using Players module</h2>
        <p>To implement the Live DVRUX Plugin using the Players module, follow these steps:</p>
        <ol class="bcls-tasklist">
            <li>Open the <strong>Players</strong> module and locate the player to which you wish to add the plugin, or create a new player.</li>
          <li>Click the link for the player to open the player properties.</li>
          <li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
          <li>The JavaScript for the plugin is provided and will not change for different plugin implementations. For the <strong>JavaScript URL</strong>, enter:
          <pre class="line-numbers"><code class="language-html">//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.js</code></pre></li>
          <li>The CSS for the plugin is provided and will not change for different plugin implementations. For the <strong>CSS URL</strong>, enter:<br/>
                <pre class="line-numbers"><code class="language-html">//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.css</code></pre></li>
          <li>For the <strong>Name</strong>, enter <strong>dvrux</strong>.</li>
          <li>Enter the plugin options. The example below will use the <code>bookendBefore</code> object to display the text <strong>This live event has not yet started</strong> when someone has opened Brightcove Player but the live event has not yet started. The <code>bookendAfter</code> will display the source image after the live event has ended and Brightcove Player is still open.<br/>
<pre class="line-numbers"><code class="language-json">{
  "bookendBefore": {
    "startTime": 1426075200000,
    "type": "text",
    "src": "This live event has not yet started"
  },
  "bookendAfter": {
    "startTime": 1489233600000,
    "type": "image",
    "src": "//solutions.brightcove.com/bcls/overlay-image.png"
  }
}</code></pre>
              <figure class="bcls-figure">
                  <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/playback/dvrux-plugin/plugin-options-studio.png" alt="DVRUX Studio">
              </figure>
                </li>
                <li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
          </ol>
      </section>
      <section id="implementcode" class="bcls-section">
        <h2>Implement using code</h2>
          <p>To implement a plugin the player needs to know the location of the plugin code, a stylesheet if needed, the plugin name and plugin configuration options. The location of the plugin code and stylesheet are as follows:</p>
              <pre class="line-numbers"><code class="language-html">//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.js</code></pre>
              <pre class="line-numbers"><code class="language-html">//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.css</code></pre>
        <p>The name of the plugin is <code>dvrux</code>, and an example set of options is:</p>
        <pre class="line-numbers"><code class="language-json">{
  "bookendBefore": {
    "startTime": 1426075200000,
    "type": "text",
    "src": "This live event has not yet started"
  },
  "bookendAfter": {
    "startTime": 1489233600000,
    "type": "image",
    "src": "//solutions.brightcove.com/bcls/overlay-image.png"
  }
}</code></pre>
        <div class="video-cloud-only">
          <p>The following shows using the In-Page Embed implementation of the player to associate the Live DVRUX Plugin with a single instance of a player.</p>
            <ul>
                <li>Line 1: Uses a <code>link</code> tag to include the plugin's CSS in the <code>head</code> of the HTML page.</li>
                <li>Line 5: Gives the <code>video</code> tag an <code>id</code> attribute, with some value, in this case <strong>myPlayerID</strong>.</li>
                <li>Line 15: Uses a <code>script</code> tag to include the plugin's JavaScript in the <code>body</code> of the HTML page.</li>
                <li>Line 19: Creates a reference to the player.</li>
                <li>Lines 20-31: Calls the plugin, passing the JSON object as options. If you are not passing any options the function call is simply  <code>myPlayer.dvrux()</code>.</li>
            </ul>
  <pre class="line-numbers"><code class="language-html">  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.css&quot;&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;video id=&quot;myPlayerID&quot;
      data-video-id=&quot;5155162396001&quot;
      data-account=&quot;1752604059001&quot;
      data-player=&quot;ByXXzhT3&quot;
      data-embed=&quot;default&quot;
      data-application-id
      class=&quot;video-js&quot; controls&gt;&lt;/video&gt;

    &lt;script src=&quot;//players.brightcove.net/1752604059001/ByXXzhT3_default/index.min.js&quot;&gt;&lt;/script&gt;

    &lt;script src=&quot;//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.js&quot;&gt;&lt;/script&gt;

    &lt;script type=&quot;text/javascript&quot;&gt;
      videojs('myPlayerID').ready(function () {
        var myPlayer = this;
        myPlayer.dvrux({
          &quot;bookendBefore&quot;: {
            &quot;startTime&quot;: 1426075200000,
            &quot;type&quot;: &quot;text&quot;,
            &quot;src&quot;: &quot;This live event has not yet started&quot;
          },
          &quot;bookendAfter&quot;: {
            &quot;startTime&quot;: 1489233600000,
            &quot;type&quot;: &quot;image&quot;,
            &quot;src&quot;: &quot;//solutions.brightcove.com/bcls/overlay-image.png&quot;
          }
        });
      });
    &lt;/script&gt;</code></pre>
        </div>

        <div class="perform-only">
          <p>The following shows using the In-Page Embed implementation of the player to associate the Live DVRUX Plugin with a single instance of a player.</p>
            <ul>
                <li>Line 82: Uses a <code>link</code> tag to include the plugin's CSS in the <code>head</code> of the HTML page.</li>
                <li>Line 83: Gives the <code>video</code> tag an <code>id</code> attribute, with some value, in this case <strong>myPlayerID</strong>.</li>
                <li>Line 91: Uses a <code>script</code> tag to include the plugin's JavaScript in the <code>body</code> of the HTML page.</li>
                <li>Line 95: Creates a reference to the player.</li>
                <li>Lines 96-107: Calls the plugin, passing the JSON object as options. If you are not passing any options the function call is simply <code>myPlayer.dvrux()</code>.</li>
            </ul>
            <pre class="line-numbers" data-start="82"><code class="language-html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.css&quot;&gt;
  &lt;video id=&quot;myPlayerID&quot;
    data-account=&quot;1507807800001&quot;
    data-player=&quot;6454befd-5fb6-483a-ac90-bd8438b58c6a&quot;
    data-embed=&quot;default&quot;
    class=&quot;video-js&quot; controls&gt;&lt;/video&gt;

  &lt;script src=&quot;//players.brightcove.net/1507807800001/6454befd-5fb6-483a-ac90-bd8438b58c6a_default/index.min.js&quot;&gt;&lt;/script&gt;

  &lt;script src=&quot;//players.brightcove.net/videojs-live-dvrux/1/videojs-live-dvrux.min.js&quot;&gt;&lt;/script&gt;

  &lt;script type=&quot;text/javascript&quot;&gt;
    videojs('myPlayerID').ready(function(){
      var myPlayer = this;
      myPlayer.dvrux({
        &quot;bookendBefore&quot;: {
          &quot;startTime&quot;: 1426075200000,
          &quot;type&quot;: &quot;text&quot;,
          &quot;src&quot;: &quot;This live event has not yet started&quot;
        },
        &quot;bookendAfter&quot;: {
          &quot;startTime&quot;: 1489233600000,
          &quot;type&quot;: &quot;image&quot;,
          &quot;src&quot;: &quot;//solutions.brightcove.com/bcls/overlay-image.png&quot;
        }
      });
    });
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>

      </section>
      <section id="properties" class="bcls-section">
        <h2>Properties</h2>
        <p>The following plugin properties are used to control the Live DVRUX plugin:</p>
    <ul>
      <li><strong>bookendBefore</strong>:
        <ul>
          <li>Type: <code>object</code></li>
          <li>Creates an overlay to be shown after Brightcove Player has been loaded but before the live event has started.<br/><br/>Contains the following three child properties:
          <table   class="bcls-table">
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
            <tr>
              <td>startTime</td>
              <td>number</td>
              <td>The time the live event is scheduled to start, using epoch time in milliseconds; when this time is crossed for a bookendBefore, the bookend will clear and start playback as soon as the playlist is updated with a new segment</td>
            </tr>
            <tr>
              <td>type</td>
              <td>text</td>
              <td>Must have the value either <code>image</code>, <code>text</code> or <code>custom</code></td>
            </tr>
            <tr>
              <td>src</td>
              <td>text</td>
              <td>
                <ul>
                    <li>When the <code>type</code> is <code>image</code>, the value is a URL to an image which overlays the video; if the image is not already the correct dimensions for the created player, it will be stretched to fill the player</li>
                    <li>When the <code>type</code> is <code>text</code>, the value is the text message to display over the video; if no <code>src</code> is specified, the video will display a message saying <strong>The event will start at {bookendBefore time}</strong>, followed by the printed date and time specified in the <code>startTime</code></li>
                    <li>When the <code>type</code> is <code>custom</code>, the value is complete HTML code which the player will display</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>class</td>
              <td>text</td>
              <td>Name of the CSS class to add to the bookend element</td>
            </tr>
          </table></li>
        </ul>
      </li>
      <li><strong>bookendAfter</strong>:
        <ul>
          <li>Type: <code>object</code></li>
          <li>Creates an overlay to be shown after the live event has completed and Brightcove Player is still open<br/><br/>
          Contains the following three child properties:
          <table class="table-border">
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
            <tr>
              <td>startTime</td>
              <td>number</td>
              <td>The time the live event is scheduled to complete, using epoch time in milliseconds; when the time is crossed for a bookendAfter, playback will immediately end and the bookend will be shown</td>
            </tr>
            <tr>
              <td>type</td>
              <td>text</td>
              <td>Must have the value either <code>image</code>, <code>text</code> or <code>custom</code></td>
            </tr>
            <tr>
              <td>src</td>
              <td>text</td>
              <td>
                <ul>
                    <li>When the <code>type</code> is <code>image</code>, the value is a URL to an image which overlays the video; if the image is not already the correct dimensions for the created player, it will be stretched to fill the player</li>
                    <li>When the <code>type</code> is <code>text</code>, the value is the text message to display over the video; if no <code>src</code> is specified, the video will display a message saying <strong>The event concluded at {bookendAfter time}</strong>, followed by the printed date and time specified in the <code>startTime</code></li>
                    <li>When the <code>type</code> is <code>custom</code>, the value is complete HTML code which the player will display</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>class</td>
              <td>text</td>
              <td>Name of the CSS class to add to the bookend element</td>
            </tr>
          </table></li>
        </ul>
      </li>
    </ul>
      </section>
      <section id="devicesupport" class="bcls-section">
        <h2>Device support</h2>
        <ul>
          <li>Common desktop operating systems' browsers, except MS Edge, are supported provided Flash is installed.</li>
          <li>In Android and MS Edge, live stream seeking and time tooltips are not supported.</li>
          <li>The native player takes over in iOS for iPhone, so this stylistic plugin has no effect on iPhone playback.</li>
          <li>Time tooltips are not supported on mobile devices except for the iPad.</li>
          <li>This plugin will not work on Windows Phone 8 or earlier, which does not support HLS or Flash.</li>
        </ul>
      </section>

      <section id="Known_issues" class="bcls-section">
        <h2>Known issues</h2>
        <ul>
          <li>On Firefox, entering and exiting fullscreen sometimes freezes the stream.</li>
        </ul>
      </section>

      <section id="changelog" class="bcls-section">
        <h2>Changelog</h2>

        <h4>30 Sep 2016</h4>
        <p>v1.1.0</p>
        <ul>
          <li>Updated plugin to <a href="https://github.com/videojs/generator-videojs-plugin">video.js plugin generator</a> conventions</li>
          <li>Updated to conform to <a href="https://www.npmjs.com/package/videojs-standard">vjs-standard</a></li>
        </ul>

        <h4>15 Sep 2016</h4>
        <p>v1.0.3</p>
        <ul>
          <li>Updated for compatibility with Brightcove Player v5.x</li>
          <li>Preliminary support for browsers with native HLS implementations</li>
          <li>Added the <strong>custom</strong> type for bookends, which permits HTML for the bookend</li>
          <li>Added the <strong>class</strong> attribute to bookends, which allows adding a CSS class to the bookend</li>
          <li>Added a time tooltip which shows the time behind live on mousing over the progress bar</li>
        </ul>

        <h4>30 Jan 2015</h4>
        <p>v0.1.1</p>
        <ul>
          <li>Initial release</li>
        </ul>
      </section>

    </article>
    <!-- end drupal content -->
      <div class="bcls-section" id="BCLreferences">
        <h2>Related Topics</h2>
        <ul>
          <li><a href="live-hls.html">Live HLS</a>
        </ul>
      </div>
    </div>
  </div>

  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v2.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
      $(document).foundation();
  </script>

    <script>
  var feedbackMail = document.getElementById("feedbackMail");
  feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
  </script>
<div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
</div>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
