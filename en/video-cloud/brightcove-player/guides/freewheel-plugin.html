<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Begin Drupal Taxonomy Data -->
    <meta name="product" content="Video Cloud">
    <meta name="audience" content="Player Developer">
    <meta name="product-area" content="Advertising,Plugins">
    <meta name="product-focus" content="">
    <meta name="keywords" content="player">
    <!-- End Drupal Taxonomy Data -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>Advertising with the FreeWheel Plugin</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
  <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
  <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

  <script>
      (function(i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r;
          i[r] = i[r] || function() {
              (i[r].q = i[r].q || []).push(arguments)
          }, i[r].l = 1 * new Date();
          a = s.createElement(o),
              m = s.getElementsByTagName(o)[0];
          a.async = 1;
          a.src = g;
          m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-2728311-29', 'auto');
      ga('send', 'pageview');
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
      <h1>Advertising with the FreeWheel Plugin</h1>
    <!-- begin drupal content -->
    <style>
      iframe {
          width: 640px;
          height: 360px;
      }
        .video-js {
          width: 450px;
          height: 240px;
          float: left;
          margin: 15px;
        }
        .vjs-playlist {
          width: 250px;
          float: left;
          margin: 15px;
        }
    </style>
    <article class="bcls-article">
			<header id="bcls_header" class="bcls-header">
				<!-- Place document intro sentence(s) here -->
				<p>This topic covers the use of the FreeWheel plugin, and how it can be implemented using <span class="video-cloud-only">Video Cloud Studio</span><span class="perform-only">Perform Studio</span> and through custom coding.</p>
        <p>This plugin enables FreeWheel ad technology, for either Flash or HTML5, in Brightcove Player. The plugin will attempt to select the best rendering option to be used for the lifetime of the player. The default rendering option for the FreeWheel plugin is set to <strong>Flash</strong> first, <strong>Html5</strong> second (for more information see the <code>adTechOrder</code> option below). This does not ensure that FreeWheel renders Flash, as Flash will be selected only if Flash tech is supported, otherwise it will fallback to Html5.</p>
			</header>
      <section id="usingversions" class="bcls-section">
        <h2>Using versions of the plugin</h2>
        <p>When using the FreeWheel plugin you will need to use versioned URLs. </p>
        <table class="table-styles">
          <thead>
            <tr>
              <th>Version</th>
              <th>Type</th>
              <th>Versioned URL</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="3">Latest Release</td>
              <td>JS</td>
              <td><code>//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.js</code></td>
            </tr>
            <tr>
              <td>CSS</td>
              <td><code>//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.css</code></td>
            </tr>
            <tr>
              <td>SWF *</td>
              <td><code>//players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf</code></td>
            </tr>
          </tbody>
        </table>
        <aside class="bcls-aside bcls-aside--information">* Compatible with FreeWheel Flash Plugin version 6.4.6</aside>
        <p>If you happen to be using version 0.7.2 of the FreeWheel plugin (for use with Brightcove Player version 1.x), you will want to use the SWF located at <strong>//players.brightcove.net/videojs-freewheel/0.7.2/videojs.freewheel.swf</strong>.</p>
        <p>For reference, the versions of the plugin and compatible SWFs are tracked in the <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/reference/plugin-version-reference.html">Plugin Version Reference</a> document.</p>
      </section>
			<section id="implementplayersmodule" class="bcls-section">
				<h2>Implement using Players module</h2>
			  <p>To implement the FreeWheel Plugin using the Players module, follow these steps:</p>
			  <ol class="bcls-tasklist">
          <li>Open the <strong>Players</strong> module and locate the player.</li>
			    <li>Click the link for the player to open the player properties.</li>
			    <li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
			    <li>The JavaScript for the plugin is provided and will not change for different plugin implementations. For the <strong>JavaScript URL</strong>, enter:
          <pre class="line-numbers"><code class="language-javascript">//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.js</code></pre></li>
			    <li>The CSS for the plugin is provided and will not change for different plugin implementations. For the <strong>CSS URL</strong>, enter:<br/>
          <pre class="line-numbers"><code class="language-javascript">//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.css</code></pre></li>
          <li>For the plugin name, enter <strong>FreeWheelPlugin</strong>.</li>
                  <li>The <strong>Options</strong> provided in the form configure playback technology where <code>Flash</code> and <code>Html5</code> configuration sections are provided by FreeWheel. A slightly altered (for security reasons) complete configuration is shown <a href="#exampleconfiguration">below</a> .  A stub example is shown here:<br/>
<pre class="line-numbers"><code class="language-javascript">{
  "adTechOrder": ["flash", "html5"],
  "Flash": {
    "sdkurl": "http://adm.fwmrm.net/...",
    "serverUrl": "http://cue.v.fwmrm.net/..."
    "profile": "3aaa_profile",
    ...
  },
  "Html5": {
    "sdkurl": "http://adm.fwmrm.net/...",
    "serverUrl": "http://cue.v.fwmrm.net/..."
    "profile": "3aaa_profile",
    ...
  }
}</code></pre>
                <figure class="bcls-figure">
                    <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/freewheel-plugin/freewheel-studio.png" alt="freewheel plugin in Studio">
                </figure>
                </li>
                <li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
		      </ol>
			</section>
			<section id="implementcode" class="bcls-section">
        <h2>Implement using code</h2>
          <p>To implement a plugin the player needs to know the location of the plugin code, a stylesheet if needed, the plugin name and plugin configuration options. The location of the plugin code and stylesheet are as follows:</p>
            <ul>
              <li>//players.brightcove.net/videojs-freewheel/1/videojs-freewheel.min.js</li>
              <li>//players.brightcove.net/videojs-freewheel/1/videojs-freewheel.min.css</li>
      </ul>
        <p>The name of the plugin is <code>FreeWheelPlugin</code>. The options configure playback technology where <code>Flash</code> and <code>Html5</code> configuration sections are provided by FreeWheel. A slightly altered (for security reasons) complete configuration is shown <a href="#exampleconfiguration">below</a> .  A stub example is shown here:</p>
        <pre class="line-numbers"><code class="language-javascript">{
  adTechOrder: ["flash", "html5"],
  Flash: {
    sdkurl: "http://adm.fwmrm.net/...",
    serverUrl: "http://cue.v.fwmrm.net/..."
    profile: "3aaa_profile",
    ...
  },
  Html5: {
    sdkurl: "http://adm.fwmrm.net/...",
    serverUrl: "http://cue.v.fwmrm.net/..."
    profile: "3aaa_profile",
    ...
  }</code></pre>
        <p>The following shows using the In-Page Embed implementation of the player to associate the FreeWheel Plugin with a single instance of a player.</p>
          <ul>
              <li>Line 90: Uses a <code>link</code> tag to include the plugin's CSS in the <code>head</code> of the HTML page.</li>
              <li>Line 92: Gives the <code>video</code> tag an <code>id</code> attribute, with some value, in this case <strong>myPlayerID</strong>.</li>
              <li>Line 100: Uses a <code>script</code> tag to include the plugin's JavaScript in the <code>body</code> of the HTML page.</li>
              <li><p>Lines 105-125: Initialize the plugin and pass in custom options. Here, we listen for the first <code>loadedmetadata</code> event, which is fired when the player content, including ads, is loaded in the player.</p>
                  <aside class="bcls-aside bcls-aside--tip">Note: While the <code>ready()</code> method is used to indicate that the player is loaded and ready, the <code>loadedmetadata</code> event is used to indicate that the player content, like ads, is ready to interact with. Here, we are also using the <code>one()</code> method so that our function is executed the first time the plugin is loaded and not every time a video is loaded. For details, see the <a href="../../brightcove-player/guides/events.html">Understanding Player Events</a> document.</aside></li>
              <li>Line 107: Creates a reference to the player.</li>
          </ul>
          <pre class="line-numbers" data-start="90"><code class="language-html">&lt;link href=&quot;//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.css&quot; rel=&quot;stylesheet&quot;&gt;

&lt;video id=&quot;myPlayerID&quot;
  data-account=&quot;3676484086001&quot;
  data-player=&quot;8fb8f3c6-5b2b-471f-953c-56d65267ff11&quot;
  data-embed=&quot;default&quot;
  class=&quot;video-js&quot; controls&gt;&lt;/video&gt;

&lt;script src=&quot;//players.brightcove.net/3676484086001/8fb8f3c6-5b2b-471f-953c-56d65267ff11_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;//players.brightcove.net/videojs-freewheel/2/videojs-freewheel.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  var myPlayer;

  videojs(&quot;myPlayerID&quot;).one('loadedmetadata',function(){
    // get a reference to the player
    myPlayer = this;

    // initialize the ima3 plugin that was registered in ima3.min.js with custom options
    myPlayer.FreeWheelPlugin({
      adTechOrder: [&quot;flash&quot;, &quot;html5&quot;],
      Flash: {
        sdkurl: &quot;http://adm.fwmrm.net/...&quot;,
        serverUrl: &quot;http://cue.v.fwmrm.net/...&quot;
        profile: &quot;3aaa_profile&quot;,
        ...
      },
      Html5: {
        sdkurl: &quot;http://adm.fwmrm.net/...&quot;,
        serverUrl: &quot;http://cue.v.fwmrm.net/...&quot;
        profile: &quot;3aaa_profile&quot;,
        ...
      }
    });
  });
&lt;/script&gt;</code></pre>
			</section>
      <section id="renderingoptions" class="bcls-section">
        <h2>Rendering options</h2>
        <p>The following table shows the Tech in which the FreeWheel plugin will render an ad (column 3) based on Tech selections in Brightcove Player (column 1) and the <code>adTechOrder</code> set in the plugin (column 2).</p>
        <table>
          <tr>
            <th>Brightcove Player<br />Selected Tech</th>
            <th>FreeWheelPlugin adTechOrder</th>
            <th>FreeWheel Plugin<br />Selected Ad Tech</th>
          </tr>
          <tr>
            <td>html5</td>
            <td>["flash","html5"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>html5</td>
            <td>["html5","flash"]</td>
            <td>html5</td>
          </tr>
          <tr>
            <td>html5</td>
            <td>["html5"]</td>
            <td>html5</td>
          </tr>
          <tr>
            <td>html5</td>
            <td>["flash"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["flash","html5"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["html5","flash"]</td>
            <td>flash</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["html5"]</td>
            <td>Not possible</td>
          </tr>
          <tr>
            <td>flash</td>
            <td>["flash"]</td>
            <td>flash</td>
          </tr>
        </table>
        <p>The following table shows the supported ad types based on the Tech (playback technology) the FreeWheel plugin is using to render the ad.</p>
        <table>
          <tr>
            <th>FreeWheel plugin Tech</th>
            <th>Supported Ads</th>
          </tr>
          <tr>
            <td>HTML5</td>
            <td>pre-roll, mid-roll, post-roll, overlay</td>
          </tr>
          <tr>
            <td>Flash</td>
            <td>pre-roll, mid-roll, post-roll, overlay</td>
          </tr>
        </table>
        <aside class="bcls-aside bcls-aside--information">Note: For the best user experience when delivering midrolls, you should use a segmented delivery format like HLS and deliver your content from a CDN that supports byte­range requests. See the <a href="//support.brightcove.com/en/video-cloud/docs/html5-mid-roll-ads">HTML5 Mid-roll Ads</a> document for more information on the complexities of delivering midrolls ads.</aside>
      </section>
      <section id="properties" class="bcls-section">
        <h2>Properties</h2>
        <p>The following plugin properties are used to control the Freewheel plugin:</p>
    		<ul>
          <li><strong>adTechOrder</strong>:
            <ul>
              <li>Type: <code>Array</code> Default Value: <code>["flash","html5"]</code></li>
              <li>The array contains the ad integration technologies to attempt to use, in order of descending precedence. The FreeWheel plugin will test each ad tech in order on initialization and use the first supported one for the lifetime of the player.</li>
            </ul>
          </li>
          <li><strong>Flash</strong>:
            <ul>
              <li>Type: <code>Object</code></li>
              <li>An object for Tech specific FreeWheel configuration (provided by FreeWheel). The object contains the <code>swfurl</code> property, detailed here:</li>
              <li><strong>swfurl</strong>:
                <ul>
                  <li>Type: <code>String</code> Default Value: <code>//players.brightcove.net/videojs-freewheel/1/videojs.freewheel.swf</code> (compatible with FW Flash SDK v6.4.6)</li>
                  <li>Must be a child property of the <code>Flash</code> object. The path to the Freewheel Flash plugin. This will be directly applied to the object element if the Flash ad tech is used.</li>
                  <li>
                    Optional values can be used based on FreeWheel Flash Plugin Version. Those values can be found in the <strong>Using versions of the plugin</strong> section near the top of this document.
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li><strong>Html5</strong>:
            <ul>
              <li>Type: <code>Object</code></li>
              <li>An object for HTML5 FreeWheel configuration (provided by FreeWheel)</li>
            </ul>
          </li>
          <li><strong>nativeHlsForceHtml</strong>:
            <ul>
              <li>Type: <code>Boolean</code> Default Value: <code>false</code></li>
              <li>Safari is aggressive about power-saving the Flash runtime. Because the FreeWheel plugin can't detect this condition until it's too late, set the <code>nativeHlsForceHtml</code> property to <code>true</code> to ignore the <code>techOrder</code> and always prefer <code>Html5</code> when native HLS playback is available.</li>
            </ul>
          </li>
          <li><strong>requestAdsMode</strong>:
            <ul>
              <li>Type: <code>String</code> Default Value: <code>onload</code></li>
              <li>When the value is set to <code>onload</code>, the ads are requested when the player is completely loaded. When the value is set to <code>onplay</code> the ads are requested when the video starts to play, either user initiated or autoplay.</li>
            </ul>
          </li>
        </ul>
      </section>

      <section id="adMacros" class="bcls-section">
          <h2>Ad macros</h2>
          <p>There are ad macros available to make your job easier when configuring FreeWheel. They should be placed within the FreeWheel configuration's <strong>videoAssetId</strong>.</p>
          <p>The following is the complete list of variable for which substituted values will be used:</p>
          <table class="table-styles">
            <thead>
              <tr>
                <th style="width:30%">Macro</th>
                <th style="width:60%">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>{player.id}</td>
                <td>Player ID</td>
              </tr>
              <tr>
                <td>{mediainfo.id}</td>
                <td>Video ID</td>
              </tr>
              <tr>
                <td>{mediainfo.name}</td>
                <td>Video title</td>
              </tr>
              <tr>
                <td>{mediainfo.description}</td>
                <td>Short description (250 chars max)</td>
              </tr>
              <tr>
                <td>{mediainfo.tags}</td>
                <td>Tags (metadata) associated with the video</td>
              </tr>
              <tr>
                <td>{mediainfo.reference_id}</td>
                <td>Reference ID</td>
              </tr>
              <tr>
                <td>{mediainfo.duration}</td>
                <td>Duration of the video as reported by Video Cloud</td>
              </tr>
              <tr>
                <td>{mediainfo.ad_keys}</td>
                <td>Free form text string that can be added and edited in the Media module of Studio; you should use the query parameter in the form
                  <pre class="line-numbers"><code class="language-javascript">cust_params={mediainfo.ad_keys}</code></pre>
                </td>
              </tr>
              <tr>
                <td>{player.duration}</td>
                <td>Duration of video as measured by player (possibly slightly different from <code>mediainfo.duration</code> and probably more accurate)</td>
              </tr>
              <tr>
                <td>{document.referrer}</td>
                <td>Referring page URL</td>
              </tr>
              <tr>
                <td>{window.location.href}</td>
                <td>Current page URL</td>
              </tr>
              <tr>
                <td>{player.url}</td>
                <td>URL of the player</td>
              </tr>
              <tr>
                <td>{timestamp}</td>
                <td>Current local time in milliseconds since 1/1/70</td>
              </tr>
            </tbody>
          </table>
          <aside class="bcls-aside bcls-aside--information"><p>Note: If you are wishing to use the video ID as your FreeWheel <code>videoAssetCustomId</code>, you can do this using the <code>{mediainfo.id}</code> ad macro. For instance, in the configurations below you could do the following:</p>
            <pre class="line-numbers"><code class="language-javascript">'videoAssetCustomId' = '{mediainfo.id}';</code></pre>
            <p>One FreeWheel configuration issue to be aware of: If the video ID is not configured as an <code>Asset ID</code> in the Freewheel Ad Manager configuration on the server, Freewheel will return an error of  <strong>INVALID_ASSET_CUSTOM_ID</strong>.</p>
          </aside>
        </section>


      <section id="exampleconfiguration" class="bcls-section">
        <h2>Example configuration</h2>
        <aside class="bcls-aside bcls-aside--information">
          <p>Note: If you need to use HTTPS URLs in the configuration, substitute the following for those shown in the configurations in this doc:</p>
          <table class="table-styles">
            <tbody>
              <tr>
                <td>SDK URLs</td>
                <td>
                  https://mssl.fwmrm.net/p/release/latest-AS3/adm/prd/AdManager.swf<br />
                  https://mssl.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js
                </td>
              </tr>
              <tr>
                <td>Server URL</td>
                <td>https://cue.v.fwmrm.net/ad/g/1</td>
              </tr>
            </tbody>
          </table>
        </aside>
        <p></p>
        <pre class="line-numbers"><code class="language-json">  "plugins": [{
    "name": "FreeWheelPlugin",
    "options": {
      "Flash": {
        "networkId": 99999,
        "profile": "2aaa_profile",
        "sdkurl": "http://adm.fwmrm.net/p/release/latest-AS3/adm/dbg/AdManager.swf",
        "serverUrl": "http://cue.v.fwmrm.net/ad/h/5",
        "siteSectionCustomId": "as3_demo_site_section",
        "swfurl": "//players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf",
        "temporalSlots": [{
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        }, {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        }, {
          "adUnit": "midroll",
          "id": "Midroll_1",
          "timePosition": 5
        }, {
          "adUnit": "overlay",
          "id": "Overlay_1",
          "timePosition": 10
        }],
        "videoAssetCustomId": "as3_demo_video_asset",
        "videoAssetDuration": 500
      },
      "Html5": {
        "keyValues": [{
          "feature": "simpleAds",
          "module": "DemoPlayer"
        }, {
          "feature": "trackingURLs"
        }],
        "networkId": 99999,
        "profile": "global-js",
        "sdkurl": "http://adm.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js",
        "serverUrl": "http://cue.v.fwmrm.net/ad/h/5",
        "siteSectionCustomId": "DemoSiteGroup.01",
        "temporalSlots": [{
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        }, {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        }, {
          "adUnit": "overlay",
          "id": "Overlay_1",
          "timePosition": 5
        }],
        "videoAssetCustomId": "DemoVideoGroup.01",
        "videoAssetDuration": 500
      },
      "adTechOrder": [
        "flash",
        "html5"
      ],
      "debug": true,
      "prerollTimeout": 1000,
      "timeout": 5000
    }
  }]</code></pre>
      </section>
      <section id="events" class="bcls-section">
          <h2>Events</h2>
              <p>The plugin emits some custom event types during loading, initialization, and playback. You can listen for the ad framework events just like you would any other event:</p>
<pre class="line-numbers"><code class="language-javascript">player.on(&#39;ads-ad-started&#39;, function(event) {
  console.log(&#39;event&#39;, event);
});
</code></pre>
          <table class="table-styles">
            <thead>
              <tr>
                <th style="width:35%">Event</th>
                <th style="width:65%">Dispatched when:</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ads-request</td>
                <td>Upon request ad data.</td>
              </tr>
              <tr>
                <td>ads-load</td>
                <td>When ad data is available following an ad request.</td>
              </tr>
              <tr>
                <td>ads-ad-started</td>
                <td>An ad has started playing.</td>
              </tr>
              <tr>
                <td>ads-ad-ended</td>
                <td>An ad has finished playing.</td>
              </tr>
              <tr>
                <td>ads-pause</td>
                <td>An ad is paused.</td>
              </tr>
              <tr>
                <td>ads-play</td>
                <td>An ad is resumed from a pause.</td>
              </tr>
              <tr>
                <td>ads-first-quartile</td>
                <td>The ad has played 25% of its total duration.</td>
              </tr>
              <tr>
                <td>ads-midpoint</td>
                <td>The ad has played 50% of its total duration.</td>
              </tr>
              <tr>
                <td>ads-third-quartile</td>
                <td>The ad has played 75% of its total duration.</td>
              </tr>
              <tr>
                <td>ads-click</td>
                <td>A viewer clicked on the playing ad.</td>
              </tr>
              <tr>
                <td>ads-volumechange</td>
                <td>The volume of the playing ad has been changed.</td>
              </tr>
              <tr>
                <td>ads-pod-started</td>
                <td>The first ad in a linear ad pod (a sequenced group of ads) has started.</td>
              </tr>
              <tr>
                <td>ads-pod-ended</td>
                <td>The last ad in a linear ad pod (a sequenced group of ads) has finished.</td>
              </tr>
              <tr>
                <td>ads-allpods-completed</td>
                <td>All linear ads have finished playing.</td>
              </tr>
              <tr>
                <td>fw-before-ad-request</td>
                <td>This event is exposed on the player object and is triggered before submiting an ad request. Usually it is used in the context of playlists, to make updates to the FreeWheel Configuration settings via: <code>player.FreeWheelPlugin.settings.Html5</code> or <code>player.FreeWheelPlugin.settings.Flash</code></td>
              </tr>
            </tbody>
          </table>
      </section>
      <section id="demos" class="bcls-section">
        <h2>Demos</h2>
        <p>The following demos use slightly different FreeWheel configurations and the resulting player. Both configurations will play a pre-roll, a mid-roll at 5 seconds and then a post-roll. The configurations are the same, except that the <code>adtechOrder</code> is different. In the first demo <code>flash</code> is first, as shown here:</p>
        <pre class="line-numbers"><code class="language-json">      "adTechOrder": [
        "flash",
        "html5"
      ],</code></pre>
        <p>In the second the order is reversed.</p>
        <h3>adtech order: flash, html5</h3>
        <p>This demo uses <code>flash</code> first in the <code>adtechOder</code>.</p>
        <iframe src='//players.brightcove.net/1752604059001/616d343c-33f6-45c3-8484-b889eb8095e1_default/index.html?videoId=4172255216001' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
        <p>Following is the actual configuration used with the player. Note that this can be used for the <strong>options</strong> value in <span class="video-cloud-only">Video Cloud</span><span class="perform-only">Perform</span> Studio.</p>
        <pre class="line-numbers"><code class="language-json">    {
      "Flash": {
        "networkId": 90750,
        "profile": "3pqa_profile",
        "sdkurl": "http://adm.fwmrm.net/p/release/latest-AS3/adm/dbg/AdManager.swf",
        "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
        "siteSectionCustomId": "as3_demo_site_section",
        "temporalSlots": [{
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        }, {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        }, {
          "adUnit": "midroll",
          "id": "Midroll_1",
          "timePosition": 5
        }],
        "videoAssetCustomId": "as3_demo_video_asset",
        "videoAssetDuration": 500
      },
      "Html5": {
        "keyValues": [{
          "feature": "simpleAds",
          "module": "DemoPlayer"
        }, {
          "feature": "trackingURLs"
        }],
        "networkId": 96749,
        "profile": "global-js",
        "sdkurl": "http://adm.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js",
        "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
        "siteSectionCustomId": "DemoSiteGroup.01",
        "temporalSlots": [{
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        }, {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        }, {
          "adUnit": "midroll",
          "id": "Midroll_1",
          "timePosition": 5
        }],
        "videoAssetCustomId": "DemoVideoGroup.01",
        "videoAssetDuration": 500
      },
      "adTechOrder": [
        "flash",
        "html5"
      ],
      "debug": true,
      "prerollTimeout": 1000,
      "timeout": 5000
    }</code></pre>
        <h3>adtech order: html5, flash</h3>
        <p>This demo uses <code>html5</code> first in the <code>adtechOder</code>.</p>
        <iframe src='//players.brightcove.net/1752604059001/24351871-efb6-4c3a-9002-dc8acd9192c6_default/index.html?videoId=4172255216001' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
        <p>Following is the actual configuration used with the player. Note that this can be used for the <strong>options</strong> value in <span class="video-cloud-only">Video Cloud</span><span class="perform-only">Perform</span> Studio.</p>
        <pre class="line-numbers"><code class="language-json">    {
      "Flash": {
        "networkId": 90750,
        "profile": "3pqa_profile",
        "sdkurl": "http://adm.fwmrm.net/p/release/latest-AS3/adm/dbg/AdManager.swf",
        "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
        "siteSectionCustomId": "as3_demo_site_section",
        "temporalSlots": [{
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        }, {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        }, {
          "adUnit": "midroll",
          "id": "Midroll_1",
          "timePosition": 5
        }],
        "videoAssetCustomId": "as3_demo_video_asset",
        "videoAssetDuration": 500
      },
      "Html5": {
        "keyValues": [{
          "feature": "simpleAds",
          "module": "DemoPlayer"
        }, {
          "feature": "trackingURLs"
        }],
        "networkId": 96749,
        "profile": "global-js",
        "sdkurl": "http://adm.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js",
        "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
        "siteSectionCustomId": "DemoSiteGroup.01",
        "temporalSlots": [{
          "adUnit": "preroll",
          "id": "Preroll_1",
          "timePosition": 0
        }, {
          "adUnit": "postroll",
          "id": "Postroll_1",
          "timePosition": 60
        }, {
          "adUnit": "midroll",
          "id": "Midroll_1",
          "timePosition": 5
        }],
        "videoAssetCustomId": "DemoVideoGroup.01",
        "videoAssetDuration": 500
      },
      "adTechOrder": [
        "html5",
        "flash"
      ],
      "debug": true,
      "prerollTimeout": 1000,
      "timeout": 5000
    }</code></pre>
        <h3>Playlist</h3>
        <p>This demo uses the Flash first configuration with a playlist. You will see for each video in the playlist a pre-roll and also a mid-roll at the 5 second mark.</p>
        <video data-playlist-id="4845949311001"
        data-account="1752604059001"
        data-player="r1bhBb0Pe"
        data-embed="default"
        class="video-js"
        controls></video>
        <script src="//players.brightcove.net/1752604059001/r1bhBb0Pe_default/index.min.js"></script>
        <ol class="vjs-playlist"></ol>
      </section>
      <section id="knownissues" class="bcls-section">
        <h2>Known issues</h2>
        <ul>
            <li>Resizing player during ad playback: If the player is resized during ad or video playback, ad content will not resize unless the player's dimensions function is called to resize the player. Resizing the player using other methods (style width and height, for example) will not resize the ad.</li>
            <li>Overlay ads: If the FreeWheel plugin is rendering an ad in Flash, overlay ads are not clickable. If the FreeWheel plugin is rendering an ad in HTML5, overlays are not displayed at correct coordinates.</li>
        </ul>
      </section>
      <section id="contribads" class="bcls-section">
        <h2>Player Ad Libraries</h2>
        <p>The <a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-ads</a> GitHub repository contains a plugin which provides common functionality needed by video advertisement libraries working with Brightcove Player. The plugin provides common functionality needed by video ad integrations and takes care of a number of concerns for ad integrators, reducing the code you have to write for your ad integration.</p>
        <p>For instance, the functionality in <a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-ads</a> allows you to check the current <strong>state</strong> property on a player to determine whether an ad is playing or not. States change frequently during the pre-roll "handshake"  but are otherwise usually one of <code>content-playback</code> or <code>ad-playback</code>, defined by:</p>
        <ul>
            <li><code>player.ads.state === 'ad-playback'</code> (this is the state when <code>adstart</code> is called)</li>
            <li><code>player.ads.state === 'content-playback'</code> (this is the state when <code>adend</code> is called)</li>
        </ul>
        <p>The readme for the repository contains a state diagram on the README which covers the details of the pre-roll states.</p>
        <p>See the <a href="contrib-ads-migration-guide.html">Migration Guide</a> for information on the latest version of videojs-contrib-ads.</p>
      </section>
      <section id="changelog" class="bcls-section">
        <h2>Changelog</h2>

        <h4>2 Nov 2016</h4>
        <p>v2.4.0</p>
        <ul>
          <li>Enabled volume persistence across ad breaks</li>
          <li>Added support for page variable ad macros</li>
          <li>Added support for mediainfo custom field ad macros</li>
          <li>Updated to use <strong>videojs-contrib-ads</strong> 4.1.1
            <ul>
              <li>Temporarily re-added <code>contentplayback</code> as a transitionary step; do not use this event, use <code>playing</code> instead</li>
              <li>Added macro support in contrib-ads</li>
            </ul>
          </li>
        </ul>

        <h4>24 Oct 2016</h4>
        <p>v2.3.0</p>
        <ul>
          <li>Updated to use <strong>videojs-contrib-ads</strong> 4.0.0
            <ul>
              <li><code>playing</code> event no longer sent before preroll</li>
              <li><code>contentplayback</code> event removed</li>
              <li>Fixed a flash of content introduced in Chrome 53 where ads-loading class was being removed too soon</li>
              <li>Added <code>player.ads.VERSION</code></li>
              <li>Updated to use conventions put forward by <strong>generator-videojs-plugin</strong></li>
              <li>Created separate files for feature modules</li>
            </ul>
          </li>
        </ul>

        <h4>22 Sep 2016</h4>
        <p>v2.2.0</p>
        <ul>
          <li>Flash uses real timing info for progress bar</li>
          <li>Smooth progress bar</li>
          <li>Send <code>nopostroll</code> and <code>nopreroll</code> events when economics is free</li>
          <li>Update to videojs.contrib-ads 3.3.13
            <ul>
              <li>Fix check to reset snapshot on contentupdate</li>
            </ul>
          </li>
        </ul>

        <h4>19 Aug 2016</h4>
        <p>v2.1.5</p>
        <ul>
          <li>Update to videojs-contrib-ads v3.3.12 to include fixes for metrics on empty ad</li>
        </ul>

        <h4>27 Jul 2016</h4>
        <p>v2.1.4</p>
        <ul>
          <li>Update to videojs-contrib-ads v3.3.10</li>
        </ul>

        <h4>13 Jun 2016</h4>
        <p>v2.1.1</p>
        <ul>
          <li>Update to videojs-contrib-ads v3.3.7 to include fixes for
          <ul>
            <li>Bug where content would replay after a postroll completed</li>
            <li>Bug where two ad-end events would fire</li>
          </ul>
        </li>
        </ul>

        <h4>9 May 2016</h4>
        <p>v2.1.0</p>
        <ul>
          <li>Added Macros support</li>
          <li>Added <code>player.mediainfo.economics</code> support</li>
        </ul>

        <h4>20 Apr 2016</h4>
        <p>v2.0.0</p>
        <ul>
          <li>Updates for compatibility with Brightcove Playlists</li>
          <li>Introduces new event for updating FreeWheel Configuration object: fw-before-ad-request</li>
        </ul>
        <h4>31 Mar 2016</h4>
        <p>v1.0.0</p>
        <ul>
          <li>Updates for compatibility with Brightcove players v5.*</li>
        </ul>
        <h4>1 Mar 2016</h4>
        <p>v0.7.2</p>
        <ul>
          <li>Updates to the latest FreeWheel HTML5 and Flash SDK</li>
          <li>Fixes issues related to FreeWheel's video view beacons</li>
        </ul>
        <h4 id="toc_0">15 Sep 2015</h4>
        <p>v0.5.1</p>
        <ul>
          <li>Exposes FW events</li>
        </ul>
        <h4 id="toc_1">15 Sep 2015</h4>
        <p>v0.5.0</p>
        <ul>
          <li>Fixes midroll skipping for both adtechs</li>
        </ul>
        <h4 id="toc_2">15 Sep 2015</h4>
        <p>v0.4.1</p>
        <ul>
          <li>Fixes bug with &quot;keyValues&quot;</li>
        </ul>
        <h4 id="toc_3">15 Sep 2015</h4>
        <p>v0.4.0</p>
        <ul>
          <li>Ads &quot;keyValues&quot; support for Flash ad Tech</li>
        </ul>
        <h4 id="toc_4">7 May 2015</h4>
        <p>v0.3.5</p>
        <ul>
          <li>Fixes video replay after postrolls in HTML bug</li>
        </ul>
        <h4 id="toc_5">17 Apr 2015</h4>
        <p>v0.3.4</p>
        <ul>
          <li>Generates id&#39;s for FW Config <em>temporalSlots</em>.</li>
          <li>Note: <em>temporalSlots.id</em> is optional for Clients, but code wise required when adding a temporal slot</li>
        </ul>
        <h4 id="toc_6">17 Apr 2015</h4>
        <p>v0.3.3</p>
        <ul>
          <li>Removes partial support of FW Video NonTemporal Slots</li>
        </ul>
        <h4 id="toc_7">17 Mar 2015</h4>
        <p>v0.3.0</p>
        <ul>
          <li>Add html5 midroll support.</li>
        </ul>
      </section>
    </article>
    <!-- end drupal content -->
			<div class="bcls-section" id="BCLreferences">
				<h2>Related Topics</h2>
				<ul>
          <li><a href="../../brightcove-player/guides/ad-events.html">Ad Events and Ad Objects</a>
          </li>
          <li><a href="//support.brightcove.com/en/video-cloud/docs/html5-mid-roll-ads">HTML5 Mid-roll Ads</a>
          </li>
          <li><a href="plugin-dev-quick-start.html">Quick Start to Plugin Development</a>
          </li>
          <li><a href="../../player-management/getting-started/player-mgmt-quick-start.html">Quick Start to Player Management</a>
          </li>
				</ul>
			</div>
		</div>
	</div>

  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site-v2.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
  <script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
  <script>
      $(document).foundation();
  </script>

<div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
</div>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
