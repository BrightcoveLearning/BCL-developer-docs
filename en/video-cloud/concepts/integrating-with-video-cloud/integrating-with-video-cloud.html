<!DOCTYPE html>
<html lang="en">

    <head>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
        <title id="bclPageTitle">Integrating with Video Cloud</title>
        <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/normalize.css" />
        <script src="//use.edgefonts.net/source-code-pro.js"></script>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/atelier-forest.light.min.css" />
        <link rel="stylesheet" type="text/css" href="/en/styles/anytime.5.0.0-1401232312.min.css" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/vendor/modernizr.js"></script>
  </head>

    <body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div id="top" class="section">
                <h1 id="bclPageHeading">Integrating with Video Cloud</h1>
                <p class="BCL-objective">This topic provides a general guide to integrating Brightcove Video Cloud with CMS Systems. It lists typical functions that users perform within the CMS and the Brightcove API operations that can be used to provide that functionality.</p>
            </div>
            <div id="userFunctions" class="section">
                  <h2>User functions</h2>
                  <p>Below are functions related to Video Cloud that you might want to provide users of your CMS:</p>
                  <ul>
                    <li>Add new videos to Video Cloud</li>
                    <li>Replace a Video Cloud video with a new version</li>
                    <li>Update metadata for videos, such as the title, description, and tags</li>
                    <li>Delete videos</li>
                    <li>Create playlists</li>
                    <li>Change the videos in a playlist</li>
                    <li>Delete playlists</li>
                    <li>Create video players</li>
                    <li>Modify video player properties, such as dimensions or styling</li>
                    <li>Add special functionality to video players through plugins</li>
                    <li>Publish single videos or playlists</li>
                    <li>Provide analytics data on video loads, views, play-rates, engagement, etc.</li>
                  </ul>
                  <p>You may not wish to expose all this functionality to your end users - you may not want to let them delete videos, for instance. One of the advantages of integrating Video Cloud with your CMS rather than letting users go directly to Video Cloud Studio is that you can choose exactly what functionality to expose to users through the Brightcove APIs.</p>
            </div>
            <div class="section" id="authentication">
                <h2>Authentication</h2>
                <p>For all Brightcove API requests, authentication is based on OAuth2 access tokens. There is a two-step process for obtaining access tokens:</p>
                <ol>
                    <li>Create a client credentials with permissions for the API operations you need</li>
                    <li>Use the client credentials to create a temporary access token to authenticate an API request</li>
                </ol>
                <h3>Creating client credentials</h3>
                <p>Creating client credentials is a one-time operation that can be performed through <a href="http://support.brightcove.com/en/video-cloud/docs/managing-api-authentication-credentials">Video Cloud Studio</a> or the <a href="http://docs.brightcove.com/en/video-cloud/oauth-api/getting-started/oauth-api-overview.html#getCredentials">OAuth API</a>. However you do it, a <code>client_id</code> and <code>client_secret</code> are returned, which you must save to request access tokens.</p>
                <p class="BCL-aside">Note: the <code>client_secret</code> is shown only when the client credential is created - it can never be retrieved again. If you lose a client secret, you must create a new client credential.</p>
                <h3>Creating an access token</h3>
                <p>Temporary access tokens are created using the <a href="http://docs.brightcove.com/en/video-cloud/oauth-api/guides/get-token.html">OAuth API</a>. The <code>client_id</code> and <code>client_secret</code> must be BASE64-encoded and passed as a <code>Basic</code> Authorization string.</p>
                <p>The <code>access_token</code> returned is in turned passed in an Authorization header with the API call:</p>
<pre><code>Authorization: Bearer <strong><em>your_access_token</em></strong></code></pre>
                <p>Access tokens are valid for 5 minutes. Unless you are performing some kind of batch operation that will be making hundreds of successive API calls, it makes sense to just request a new one for each API call rather than trying to keep track of the timeout.</p>
            </div>
            <div class="section" id="addingVideos">
                <h2>Adding Videos</h2>
                <p>If you wish to let users add videos to Video Cloud from your CMS, you can do that using the <a href="http://docs.brightcove.com/en/video-cloud/di-api/getting-started/overview-di.html">Dynamic Ingest API</a>. We recommend that you have users upload videos to your repository, which could be an S3 bucket or just a public-facing server. The Dynamic Ingest system can pull in the videos and add them to the Video Cloud system through a two-step process outlined below.</p>
                <h3>Adding a video object to Video Cloud</h3>
                <p>The first step is to create a video object in the Video Cloud system by making a POST request to the CMS API:</p>
<pre><code>https://cms.api.brightcove.com/v1/accounts/:account_id/videos</code></pre>
                <p>The request body will include basic video properties in a JSON object - minimally, the video <code>name</code>, but you can also include additional metadata such as a description and tags:</p>
<pre><code>{
    "name": "Woodpecker",
    "description": "A bird that hunts insects inside wood",
    "reference_id": "Bird_Woodpecker.mp4",
    "tags": ["bird", "air", "nature"]
}</code></pre>
                <h3>Ingesting the video</h3>
                <p>When you create the video object, the CMS API will return a json object containing the video properties. You will extract the video <code>id</code> from the json, and use it to make a call to Dynamic Ingest API to request ingestion and transcoding of the video:</p>
<pre><code>https://ingest.api.brightcove.com/v1/accounts/<strong><em>ACCOUNT_ID</em></strong>/videos/<strong><em>VIDEO_ID</em></strong>/ingest-requests</code></pre>
                <p>Again you will send json in the request body specifying the location of the video file:</p>
<pre><code>{
    "master":{
        "url":"http://learning-services-media.brightcove.com/videos/mp4/Bird_Woodpecker.mp4"
    },
    "profile":"high-resolution",
    "capture-images": true
}</code></pre>
                <p>The <code>profile</code> here is the Ingest Profile that specifies what renditions should be created in the transcoding process. In most cases, one of the following standard profiles should be adequate:</p>
                <ul>
                    <li>videocloud-default-v1 (the default)</li>
                    <li>screencast-1280</li>
                    <li>smart-player-transition</li>
                    <li>single-bitrate-high</li>
                    <li>audio-only</li>
                    <li>single-bitrate-standard</li>
                    <li>high-resolution</li>
                </ul>
                <p>However, you can create additional custom ingest profiles, if needed, using the <a href="http://docs.brightcove.com/en/video-cloud/ingest-profiles-api/getting-started/api-overview.html">Ingest Profiles API</a>.</p>
                <h4>Adding poster and thumbnail images</h4>
                <p>
                    The <code>capture-images</code> option in the code above instructs Video Cloud to capture poster and thumbnail images for the video at the mid-point during the transcoding process. Alternately, you can set <code>capture-images</code> to <code>false</code> and ingest images instead, either at the same time that you ingest the video or later:
                </p>
<pre><code>{
    "master":{
        "url":"http://learning-services-media.brightcove.com/videos/mp4/Bird_Woodpecker.mp4"
    },
    "profile":"high-resolution",
    "capture-images": false,
    <strong>"poster": {
            "url": "http://learning-services-media.brightcove.com/images/for_video/titmouse-poster.png",
            "width": 640,
            "height": 360
        },
        "thumbnail": {
            "url": "http://learning-services-media.brightcove.com/images/for_video/titmouse-thumbnail.png",
            "width": 160,
            "height": 90
        }</strong>
}</code></pre>
                <p>
                    See <a href="http://docs.brightcove.com/en/video-cloud/di-api/guides/images.html">Images and the Dynamic Ingest API</a> for more details.
                </p>
                <h4>Adding text tracks for captions or chapters</h4>
                <p>
                    You can also use the Dynamic Ingest API to add text tracks in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Video_Text_Tracks_Format">WebVTT</a> files to videos, either at the time of ingestion or later. Text tracks are used to add <a href="http://docs.brightcove.com/en/video-cloud/brightcove-player/guides/adding-captions-to-videos.html">captions</a> or <a href="http://docs.brightcove.com/en/video-cloud/brightcove-player/guides/chaptered-video.html">chapters</a> to a video.
                </p>
<pre><code>{
    "master":{
        "url":"http://learning-services-media.brightcove.com/videos/mp4/Bird_Woodpecker.mp4"
    },
    "profile":"high-resolution",
    "capture-images": false,
    "poster": {
        "url": "http://learning-services-media.brightcove.com/images/for_video/titmouse-poster.png",
        "width": 640,
        "height": 360
    },
    "thumbnail": {
        "url": "http://learning-services-media.brightcove.com/images/for_video/titmouse-thumbnail.png",
        "width": 160,
        "height": 90
    },
    <strong>"text_tracks": [
            {
                "url": "http://learning-services-media.brightcove.com/captions/for_video/Water-in-Motion.vtt",
                "srclang": "en",
                "kind": "captions",
                "label": "EN",
                "default": true
            }
        ]</strong>
}</code></pre>
                <p>
                    See <a href="http://docs.brightcove.com/en/video-cloud/di-api/guides/webvtt.html">Ingesting WebVTT Files</a> for more details.
                </p>
            </div>
            <div class="section" id="manangingVideos">
                <h2>Managing Videos</h2>
                <p>The CMS API allows you to get back video data for an account. (As shown above, it is also used to create video objects as part of the video ingestion process.) The most basic request is as follows:</p>
<pre><code>https://cms.api.brightcove.com/v1/accounts/account_id/videos</code></pre>
                <p>
                    By default, this request returns a json array of 20 video objects containing a wealth of metadata, including the name, description, tags, custom fields, the dates it was created and last modified, URLs for the poster and thumbnail, and much more.
                </p>
                <p>
                    You can refine the results of the request by adding one or more of the following parameters to the request:
                </p>
                <dl>
                    <dt>limit</dt>
                    <dd>this determines the number of video objects to return, and can be set to any number up 100 - the default is 20</dd>
                    <dt>offset</dt>
                    <dd>this determines the number of items to skip, and so is used together with <code>limit</code> to page through the video catalog - the default is 0</dd>
                    <dt>sort</dt>
                    <dd>this determines the video metadata field to sort the result by - by default, results are sorted by <code>updated_at</code> (descending, to show the most recently updated videos first)</dd>
                </dl>
                <p>
                    See <a href="http://docs.brightcove.com/en/video-cloud/cms-api/getting-started/overview-cms.html#parameters">CMS API Overview - Parameters</a> for detailed information on these parameters.
                </p>
                <h3>Searching for videos</h3>
                <p>
                    You can also search for videos by a wide range of criteria using the <code>q</code> parameter. You can search by specific fields such as name, description, and tags, as well as dates and the status of the videos:
<pre><code>https://cms.api.brightcove.com/v1/accounts/921483702001/videos?q=tags:sea,mammal</code></pre>
                </p>
                <p>
                    For details and all the options for searching, see <a href="https://cms.api.brightcove.com/v1/accounts/921483702001/videos?q=tags:sea,mammal"></a>
                </p>
            </div>
            <div class="section" id="playlists">
                <h2>Playlists</h2>
                <p></p>
            </div>
            <div class="section" id="Creating Players">
                <h2>Creating Players</h2>
                <p></p>
            </div>
            <div class="section" id="customizingPlayers">
                <h2>Customizing Players</h2>
                <p></p>
            </div>
            <div class="section" id="publishingVideos">
                <h2>Publishing Videos</h2>
                <p></p>
            </div>
            <div class="section" id="analytics">
                <h2>Getting Analytics Reports</h2>
                <p></p>
            </div>
        </div>
    </div>


    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.2/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script>
        $(document).foundation();
    </script>
      <div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
    <script>
    var feedbackMail = document.getElementById("feedbackMail");
    feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
    </script>
    </body>
</html>
