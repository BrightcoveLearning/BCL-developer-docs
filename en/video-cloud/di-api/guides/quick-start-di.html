<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>Quick Start to Dynamic Ingest</title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.3/css/normalize.css" />
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link href="//files.brightcove.com/proxima-nova/font-faces.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/styles/github.min.css">
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.3/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="large-2 columns show-for-large-up">
			<div id="sidenav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<div id="top" class="section">
				<h1>Quick Start to Dynamic Ingest</h1>
				<!-- Place document intro sentence(s) here -->
          <p>In this quick start you will perform the following tasks:</p>
          <ul>
            <li>Create a video object using the Content Management System (CMS) API and use the returned ID in the Dynamic Ingest (DI) API call.</li>
            <li>Create an ingest request using the ID returned from the CMS API and an HTTP <code>POST</code> method using the DI API. </li>
            <li>Verify the ingest request functioned correctly.</li>
          </ul>
          <p class="BCL-aside">For details on the API used in this document you can view the <a href="//docs.brightcove.com/en/video-cloud/di-api/guides/overview-di.html">Dynamic Ingest API Overview</a> document and the <a href="//docs.brightcove.com/en/video-cloud/di-api/reference/versions/v1/index.html">Dynamic Ingest API</a> reference.</p>
			</div>
			<div id="oauthproxy" class="section">
        <h2>OAuth proxy</h2>
        <p>The Dynamic Ingest (DI) API's security is implemented using OAuth2. To permit you to get started using the DI API as quickly as possible, the API calls in this quick start will use a security proxy running at <a href="http://solutions.brightcove.com:8004">http://solutions.brightcove.com:8004</a>. If you browse to that URL, you will be redirected to an informational page on the proxy. Be aware that the proxy will only accept requests originating from <strong>localhost</strong> and <strong>*.brightcove.com</strong> domains.</p>
      </div>
			<div id="obtaincredentials" class="section">
				<h2>Obtain credentials</h2>
				<p>To use the DI API you will need proper credentials. Later in this quick start, you will use the credentials in a form when submitting requests to the API.</p> 
				<ol>
					<li>To obtain proper credentials use your choice of the <strong>Get Client Credentials</strong> docs listed below. Whichever option you choose, you will need to ask for the correct operation permissions. In this quick start you will need <strong>video</strong> operations. The following can be used with curl or Postman to get the proper permissions:</li>
				</ol>
				<p><code data-gist-id="ff79f6ddb8cfce63b153" data-gist-hide-footer="true" data-gist-line="1-6"></code></p>
        <ul>
            <li><a href="http://docs.brightcove.com/en/video-cloud/oauth-api/guides/get-client-credentials.html">OAuth: Get Client Credentials Using CURL</a></li>
            <li><a href="http://docs.brightcove.com/en/video-cloud/oauth-api/guides/get-client-credentials-postman.html">OAuth: Get Client Credentials Using Postman</a></li>
        </ul>
			</div>
			<div id="assignvalues" class="section">
        <h2>Assign values</h2>
        <p>Values you just retrieved in the previous section will be used in calls to the Content Management System and Dynamic Ingest APIs. These values will be entered and assigned in the following form.</p>
        <ol start="2">
          <li>Enter the corresponding values for each of the following. This step <strong>MUST</strong> be completed for any of the API calls to function correctly.</li>
        </ol>
        <div class="form-wrapper">
          <fieldset>
            <legend>Assign values for reuse</legend>
            <p>Submits to local JavaScript and assigns values to variables</p>
            <p>
              Client id:
              <input name="client_id" id="cms_client_id" type="text" value="5fbee876-9ac3-419f-b1b9-5878282964b9">
            </p>
            <p>
              Client secret:
              <input name="client_secret" id="cms_client_secret" type="text" value="KLwqa9yx5npgu9enFHglI9GFff39StO0Id1ytaZBWXg2pQ_7DiH-XUjg3_svKNBSkB0KN21sYrvfKnALcBLOLA">
            </p>
            <p>
              Account ID:
              <input name="account_id" id="cms_account_id" type="text" value="1507807800001">
            </p>
            <p>
              <input id="initialValues_Submit" type="submit" value="Assign Values">
            </p>
            <p><span id="assignConfirm"></span></p>
          </fieldset>
        </div>
      </div>
			<div id="createvideo" class="section">
        <h2>Create video</h2>
<p class="BCL-aside">The Content Management System API is currently in beta and is not supported by Brightcove Support. If you would like access to the beta, please contact your Brightcove Account Manager.</p>
        <p>Before you can create an ingest request you must first create a video object. This video object will eventually contain the master copy of the video, metadata, possible renditions and other information. To do this, you will use the Content Management System (CMS) API, permissions for which were granted in the previous section. The fundamental call information for creating a video is:</p>
        <ul>
            <li>HTTP method: <code>POST</code></li>
            <li>Endpoint: <code>https://cms.api.brightcove.com/v1beta1/accounts/<em>YOUR_ACCOUNT_ID</em>/videos</code></li>
        </ul>
        <p class="BCL-aside">Note: Before completing this task you must perform steps 1 and 2 above to retrieve and assign account and credential information.</p>
        <ol start="3">
          <li>You will now use the proxy in conjunction with the following form to create a video. Be sure to alter the body so the <code>name</code> property reflects your choice for the video name.</li>
        </ol>
        <div class="form-wrapper">
          <fieldset>
            <legend>Caller for the CMS API - Create a Video</legend>
            <p>Submits to http://solutions.brightcove.com:<strong>8006</strong>
            </p>
            <p>
              Call type:
              <select name="requestType" id="cms_requestType2">
                <option>GET</option>
                <option selected="selected">POST</option>
                <option>PUT</option>
                <option>PATCH</option>
                <option>DELETE</option>
              </select>
            </p>
            <p>
              Call body:
              <br />
              <textarea name="requestBody" id="cms_requestBody2">{"name":"My test Video"}</textarea>
            </p>
            <p>
              Full request URL for the API call:
              <br />
              <textarea name="url" id="cms_url2" class="cms_url">https://cms.api.brightcove.com/v1beta1/accounts/YOUR_ACCOUNT_ID/videos</textarea>
            </p>
            <p>
              <input id="cms_create_Submit" type="submit" value="Submit">
            </p>
            <p>After you click the <strong>Submit</strong> button, the following text area will be populated with the JSON object representing your newly created video.</p>
            <pre><code id="cms_response2"></code></pre>
          </fieldset>
        </div>
        <p>You can confirm the video was created by browsing to Video Cloud Studio, open the Media Module, and a video with the name supplied will be present.</p>
      </div>

			


			<div id="createingestrequest" class="section">
        <h2>Create ingest request</h2>
        <p></p>
        <ul>
            <li>HTTP method: <code>POST</code></li>
            <li>Endpoint: <code>https://cms.api.brightcove.com/v1beta1/accounts/<em>YOUR_ACCOUNT_ID</em>/videos</code></li>
        </ul>
        <p class="BCL-aside">Note: Before completing this task you must perform steps 1 and 2 above to retrieve and assign account and credential information.</p>
        <ol start="3">
          <li>You will now use the proxy in conjunction with the following form to create a video. Be sure to alter the body so the <code>name</code> property reflects your choice for the video name.</li>
        </ol>
		    <div class="form-wrapper">
		        <fieldset>
		            <legend>Caller for the Dynamic Ingest API</legend>
		            <p>Submits to http://solutions.brightcove.com:<strong>8004</strong></p>
		                <p>
		                    Call type:
		                    <select name="requestType" id="di_requestType">
		                        <option>POST</option>
		                    </select>
		                </p>
		                <p>
		                    Call body (optional - include if you need to submit data with the request):<br />
		                    <textarea name="requestBody" id="di_requestBody">{"master":{"url":"http://learning-services-media.brightcove.com/Bird_Titmouse.mp4"},"profile":"balanced-high-definition"}</textarea>
		                </p>
		                <p>
		                    Full request URL for the API call:<br />
		                    <textarea name="url" id="di_url">https://ingest.api.brightcove.com/v1/accounts/57838016001/videos/videoId/ingest-requests</textarea>
		                </p>
		                <p>
		                    <input id="di_Submit" type="submit" value="Submit">
		                </p>
		            <pre><code id="di_response"></code></pre>
		        </fieldset>
		    </div>
        <p>You can confirm the video was created by browsing to Video Cloud Studio, open the Media Module, and a video with the name supplied will be present.</p>
      </div>




			<div id="createingestrequest" class="section">
				<h2>Create ingest request</h2>
				<ol start="5">
					<li>Create the actual ingest request by again using the OAuth proxy in conjunction with the <strong>tester.html</strong> page. This time you will use the ID just returned to create the ingest request. Browse to <strong>tester.html</strong> and complete the form as follows:</li>
				</ol>
				<div class="BCL-aside">
					<p>Note: When filling out the form:</p>
						<ul>
						    <li>Be sure the <strong>body contains no spaces or carriage returns</strong></li>
						    <li>The profile varies based upon the renditions you wish created; see the <a href="//docs.brightcove.com/en/video-cloud/di-api/guides/standard-profiles.html">Standard Ingest Profiles</a> document for details</li>
						</ul>
				</div>
				<table>
					<tr>
						<th>Form Field</th>
						<th>Value</th>
					</tr>
					<tr>
						<td>Client id</td>
						<td>Returned in your client credentials</td>
					</tr>
					<tr>
						<td>Client secret</td>
						<td>Returned in your client credentials</td>
					</tr>
					<tr>
						<td>Call type</td>
						<td><strong>POST</strong></td>
					</tr>
					<tr>
						<td>Call body</td>
						<td>{"master":{"url":"**YOUR_PATH_TO_VIDEO**"},"profile":"**YOUR_RENDITION_PROFILE**"}</td>
					</tr>
					<tr>
						<td>Full request URL for the API call</td>
						<td><strong>https://ingest.api.brightcove.com/v1/accounts/**YOUR_ACCOUNT_ID**/videos/**ID_RETURNED_EARLIER**/ingest-requests</strong></td>
					</tr>
				</table>
				<p>After you click the <strong>Submit</strong> button, the text area following the button will be populated with a JSON object, as shown in the following screenshot. The ID returned uniquely identifies your ingest request.</p>
				<p><img src="/en/video-cloud/di-api/guides/assets/quick-start-pbi-pbi-form.png"></p>
			</div>
			<div id="seerequestresults" class="section">
				<h2>See request results</h2>
				<ol start="6">
					<li>See the results of the ingest request by going to Video Cloud Studio, choose the Media module, then double-click the video you just created. Select the <strong>Video Files</strong> tab, and in the <strong>Renditions List</strong> you will see the renditions that correspond to the profile you selected.</li>
				</ol>
				<p><img src="/en/video-cloud/di-api/guides/assets/studio-showing-renditions.png"></p>
				<p class="BCL-aside">Note: It is possible not all renditions will be created as your master may not be of high enough quality to produce all intended renditions.</p>
				<p>Congratulations, in this quick start you have completed the steps necessary to create an ingest request and have seen the renditions of your master video have been created.</p>
			</div>
			<div class="section" id="BCLreferences">
				<h2>Related Topics</h2>
				<ul>
					<li><a href="//docs.brightcove.com/en/video-cloud/di-api/guides/overview-di.html">Dynamic Ingest API Overview</a></li>
					<li><a href="//docs.brightcove.com/en/video-cloud/di-api/guides/faqs-di.html">Dynamic Ingest API FAQs</a></li>
				</ul>
			</div>
		</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/1.7/gist-embed.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.2/fastclick.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.3/js/foundation.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js"></script>
	<script src="/en/scripts/log.js"></script>
	<script src="/en/scripts/docs-nav-data.min.js"></script>
	<script src="/en/scripts/bcls-doc-site.js"></script>
	<script src="/en/scripts/bc-mapi.js"></script>
	<script>
		$(document).foundation();
	</script>
	<script type="text/javascript">
		/******** Any scripts specific to page samples should go here *********/
    var BCLS = (function ($) {
      var // CMS API stuff
      $cms_client_id = $("#cms_client_id"),
        $cms_client_secret = $("#cms_client_secret"),
        $cms_submit = $("#cms_Submit"),
        $cms_account_id = $("#cms_account_id"),
        $cms_response = $("#cms_response"),
        $cms_video_id = $("#cms_video_id"),
        cmsURL = "http://solutions.brightcove.com:8006",
        // functions
        bclslog,
        submitRequest,
        cleanString,
        setCMSOptions;
      // IE safe logger
      bclslog = function (context, message) {
        if (console) {
          console.log(context, message);
        }
      }
      // function to remove spaces and line breaks
      cleanString = function (str) {
        // remove line breaks
        str = str.replace(/\s/g, "");
        // remove spaces
        // here we have to be careful - spaces fine within strings
        // but not outside them
        if (str != "") {
          str = JSON.stringify(JSON.parse(str));
        };
        return str;
        bclslog("str cleaned", str);
      };
      // set options for the CMS API request
      setCMSOptionsRetrieveAll = function () {
        var options = {};
        options.client_id = $cms_client_id.val();
        options.client_secret = $cms_client_secret.val();
        $cms_requestBody1 = $("#cms_requestBody1");
        options.requestBody = cleanString($cms_requestBody1.val());
        options.requestType = $("#cms_requestType1").val();
        options.url = $("#cms_url1").val();
        // now submit the request
        submitRequest(options, cmsURL, $("#cms_response1"));
      };
      setCMSOptionsCreate = function () {
        var options = {};
        options.client_id = $cms_client_id.val();
        options.client_secret = $cms_client_secret.val();
        $cms_requestBody2 = $("#cms_requestBody2");
        options.requestBody = cleanString($cms_requestBody2.val());
        options.requestType = $("#cms_requestType2").val();
        options.url = $("#cms_url2").val();
        // now submit the request
        submitRequest(options, cmsURL, $("#cms_response2"));
      };
      // function to submit Request
      submitRequest = function (options, proxyURL, responseLocation) {
        var parsedData = {};
        $.ajax({
          url: proxyURL,
          type: "POST",
          data: options,
          success: function (data) {
            bclslog(data);
            parsedData = JSON.parse(data);
            responseLocation.html(data);
          },
          error: function (XMLHttpRequest, textStatus, errorThrown) {
            responseLocation.html("The called failed; here's what the server sent back: " + errorThrown);
          }
        });
      };
      setInitialValues = function () {
        var elem = document.getElementById("assignConfirm");
        elem.innerHTML = "    Values Assigned!";
        $(".cms_url").html("https://cms.api.brightcove.com/v1beta1/accounts/" + $cms_account_id.val() + "/videos");
        $(".cms_url_videoID").html("https://cms.api.brightcove.com/v1beta1/accounts/" + $cms_account_id.val() + "/videos/" + $cms_video_id.val());
      };
      $("#initialValues_Submit").on("click", setInitialValues);
      $("#cms_retrieveall_Submit").on("click", setCMSOptionsRetrieveAll);
      $("#cms_create_Submit").on("click", setCMSOptionsCreate);
    })($);
	</script>

	<div class="footer text-center"><a href="mailto:docs@brightcove.com">Questions or comments?</a></div>
</body>

</html>
