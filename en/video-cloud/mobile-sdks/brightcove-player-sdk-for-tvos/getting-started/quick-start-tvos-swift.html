<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Begin Drupal Taxonomy Data -->
	<meta name="product" content="Video Cloud">
	<meta name="audience" content="Device SDK Developer">
	<meta name="task" content="Getting Started">
	<meta name="feature" content="Playback">
	<meta name="sdk" content="tvOS">
	<meta name="type" content="Code Sample">
	<meta name="keywords" content="tvos,device,SDK">
	<!-- End Drupal Taxonomy Data -->

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<title id="bclPageTitle">Quick Start: Create a Simple TV Video App using Swift</title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
	<link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
	<link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
	<link rel="stylesheet" href="/en/styles/foundation-fixes.css">
	<script>
		(function (i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function () {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
			m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
		ga('create', 'UA-2728311-29', 'auto');
		ga('send', 'pageview');
	</script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<h1>Quick Start: Create a Simple TV Video App using Swift</h1>
			<!-- begin drupal content -->
			<article class="bcls-article">
				<header id="bcls_header" class="bcls-header">
					<p>In this topic, you will learn how to build a simple video playback app using the Brightcove Player SDK for tvOS that will be playable on an Apple TV or the Xcode simulator. You will build it using the Swift programming language.</p>
				</header>
				<section class="bcls-section" id="top">
					<p class="video-cloud-only">This example plays a video returned from the <a href="../../../playback-api/index.html">Brightcove Playback API</a>, which is the latest and recommended API to retrieve content from your Video Cloud library.</p>
					<p class="video-cloud-only">To use the Playback API, you will need a Policy Key. If you are not familiar with Policy Keys, see the <a href="../../../policy-api/getting-started/api-overview.html">Policy API Overview</a>.</p>
					<!-- <aside class="bcls-aside bcls-aside--tip">This example is written in Swift 3.0.</aside> -->
				</section>
				<section class="bcls-section" id="Get_started">
					<h2>Get started</h2>
					<p class="perform-only">This example plays videos from an internal array of video files.</p>
					<p class="video-cloud-only">There are two ways to try out this sample:</p>
					<p class="perform-only">Follow the steps below to get familiar with setting up an app project that uses the Brightcove Player SDK for tvOS. You can view the complete code for each of the following:</p>
					<ol>
						<li class="video-cloud-only">Download the entire Xcode project for experimentation.
							<ol class="video-cloud-only" type=a>
								<li>Download the <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Player/AppleTV/swift">AppleTV</a> sample to your local system.</li>
								<li>Run the <code>pod install</code> command.</li>
								<li>Open and run the newly created workspace. If you are using Xcode7, you may need to <a href="#xcode7">Disable App Transport Security</a>.</li>
							</ol>
						</li>
						<li class="video-cloud-only">Follow the steps below to get familiar with setting up an app project that uses the Brightcove Player SDK for tvOS. You can view the complete code for each of the following:
							<ul>
								<li><a href="#bridgingHeader">SVP-Bridging-Header</a>
								</li>
								<li><a href="#appdelegate">AppDelegate</a>
								</li>
								<li class="video-cloud-only"><a href="#viewController">ViewController</a>
								</li>
								<li class="perform-only"><a href="#viewControllerPerform">ViewController</a>
								</li>
							</ul>
						</li>
					</ol>
				</section>
				<section class="bcls-section" id="Create_the_project">
					<h2>Create the project</h2>
					<p>Set up a project in Xcode. Then add the SDK along with any dependencies to the project.</p>
					<h3>Set up the Xcode project</h3>
					<p>Create a new Xcode project for the app.</p>
					<ol class="bcls-tasklist">
						<li>
							<p>Start the creation of a new tvOS project in Xcode. Select <strong>Create a new Xcode project</strong>.</p>
							<figure class="bcls-figure">
								<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/quick-start-welcome.png" alt="Create project">
								<figcaption class="bcls-caption--image">Create project</figcaption>
							</figure>
						</li>
						<li>
							<p>Choose a tvOS <strong>Single View Application</strong> for the template and select <strong>Next</strong>.</p>
							<figure class="bcls-figure">
								<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/quick-start-choose-project-template.png" alt="Choose project template">
								<figcaption class="bcls-caption--image">Choose project template</figcaption>
							</figure>
						</li>
						<li>
							<p>Set the project information as follows:</p>
							<ul>
								<li>Product Name: <strong>Simple-Video-Playback</strong>
								</li>
								<li>Organization Name: <strong>YourCompanyName</strong>
								</li>
								<li>Company Identifier: <strong>com.example-company</strong>
								</li>
								<li>Language: <strong>Swift</strong>
								</li>
							</ul>
							<figure class="bcls-figure">
								<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/project-options.png" alt="Add project information">
								<figcaption class="bcls-caption--image">Add project information</figcaption>
							</figure>
						</li>
						<li>
							<p>Choose the location where you want to save your project and create it.</p>
							<figure class="bcls-figure">
								<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/workspace.png" alt="Save the project">
								<figcaption class="bcls-caption--image">Save the project</figcaption>
							</figure>
						</li>
						<li>Now close the project (yes, close it &mdash; this is important!)</li>
					</ol>
					<h3 id="dependencies">Add the SDK and its dependencies to your project</h3>
					<p>The easiest way to add the SDK and its dependencies to your project is to use CocoaPods.</p>
					<p>CocoaPods is a dependency manager that adds libraries to your project. It is not required, but makes installation easier. To install CocoaPods, see the instructions on the <a href="//cocoapods.org">CocoaPods</a> site.</p>
					<aside class="bcls-aside bcls-aside--warning">
						<ul>
							<li>CocoaPods version 0.39 or newer is required.</li>
							<li>Using CocoaPods (the <code>pod</code> tool) on an existing Xcode project will modify the project file. You may want to make a backup before doing this.</li>
						</ul>
					</aside>
					<aside class="bcls-aside bcls-aside--tip">To easily create and update the <code>Podfile</code>, you can do the following steps inside of the <a href="https://cocoapods.org/app">CocoaPods App</a>.</aside>
					<ol class="bcls-tasklist">
						<li>
							<p>In your project folder, create a plain text file called <strong>Podfile</strong> (no file extension).</p>
						</li>
						<li>
							<p>Using a text editor, add the following lines of code to the Podfile and save it. This code does the following:</p>
							<ul>
								<li>Line 67: Defines the GitHub source.</li>
								<li>Line 69: Sets Pods to use frameworks instead of static libraries.</li>
								<li>Line 71: Defines the tvOS platform version.</li>
								<li>Lines 73-75: Install the current version of the Brightcove player SDK.</li>
							</ul> <pre class="line-numbers" data-start="1"><code class="language-swift">source 'https://github.com/CocoaPods/Specs.git'

use_frameworks!

platform :tvos, '9.0' # (or whatever version you want)

target 'Simple-Video-Playback' do
pod 'Brightcove-Player-SDK/dynamic'
end</code></pre>
							<!-- <p><code data-gist-id="165523b66d46776f979c" data-gist-line="67-75" data-gist-hide-footer="true"></code></p> -->
							<aside class="bcls-aside bcls-aside--information">The <code>target</code> property is used for CocoaPods version 1.0 and newer.</aside>
						</li>
						<!--							<p class="text-warning">ReactiveCocoa will be added to your project as a part of the Brightcove SDK.</p>-->
						<li>
							<p>Open a Terminal session and navigate to your <strong>Simple-Video-Playback</strong> Xcode project folder.</p>
							<figure class="bcls-figure">
								<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/quick-start-terminal.png" alt="Terminal session">
								<figcaption class="bcls-caption--image">Terminal session</figcaption>
							</figure>
						</li>
						<li>
							<p>In the Terminal session, type the command</p> <pre class="line-numbers" data-start="1"><code class="language-swift">pod install</code></pre>
							<p>and press <strong>Return</strong> to run the it. You should see a series of messages in the terminal indicating that the Brightcove Player SDK has been added to your project.</p>
						</li>
						<li>
							<p><strong>Notice the last line</strong>, which is important &mdash; from this point on, you must open the <em>Simple-Video-Playback.xcworkspace</em> file in Xcode, <strong>not</strong> the <em>Simple-Video-Playback.xcodeproj</em> file. The <code>pod install</code> command
								creates this <code>.xcworkspace</code> file for your project.</p>
						</li>
					</ol>
					<aside class="bcls-aside bcls-aside--tip">If you don't want to use CocoaPods , you can <a href="https://github.com/brightcove/brightcove-player-sdk-ios/releases">download the latest version of the SDK</a> and manually add it to your project.</aside>
				</section>
				<section class="bcls-section" id="Import_the_Native_SDK">
					<h2>Import the Native SDK</h2>
					<p>Swift is compatible with Obj-C, and you can have both in the same project. Since the Brightcove Player SDK for iOS is currently written in Obj-C, we can use a bridging header file to add these libraries to our Swift project.</p>
					<h3>Create a bridging header</h3>
					<p>You will create a bridging header to import the Native SDK for iOS.</p>
					<ol class="bcls-tasklist">
						<li>In Xcode, open the <strong>Simple-Video-Playback.xcworkspace</strong> file.</li>
						<li>In the left project navigation, select the <strong>Simple-Video-Playback</strong> folder.
							<figure class="bcls-figure">
								<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/svp-folder.png" alt="Simple Video Playback folder">
								<figcaption class="bcls-caption--image">Simple Video Playback folder</figcaption>
							</figure>
							<li>In the top navigation, select <strong>File &gt; New &gt; File</strong>.</li>
							<li>In the dialogue, select <strong>Header File</strong> and then the <strong>Next</strong> button.
								<figure class="bcls-figure">
									<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/header-file.png" alt="Header file">
									<figcaption class="bcls-caption--image">Header file</figcaption>
								</figure>
							</li>
							<li>Name the file <strong>SVP-Bridging-Header.h</strong> and select the <strong>Create</strong> button.
								<figure class="bcls-figure">
									<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/bridging-header.png" alt="Bridging header">
									<figcaption class="bcls-caption--image">Bridging header</figcaption>
								</figure>
							</li>
							<li>You should see the new file in your project.
								<figure class="bcls-figure">
									<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/bridging-header2.png" alt="Bridging header in project">
									<figcaption class="bcls-caption--image">Bridging header in project</figcaption>
								</figure>
							</li>
							<li>In the <strong>SVP-Bridging-Header.h</strong> file, import the Brightcove Player SDK as follows:	<pre class="line-numbers" data-start="1"><code class="language-swift">#import &lt;BrightcovePlayerSDK/BrightcovePlayerSDK.h&gt;</code></pre>
								<p>Your header file should look similar to this:</p>
								<figure class="bcls-figure">
									<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/import-sdk.png" alt="Import the Brightcove SDK">
									<figcaption class="bcls-caption--image">Import the Brightcove SDK</figcaption>
								</figure>
							</li>
							<li>In the left navigation, select your project, open the <strong>Build Settings</strong> and navigate to the <strong>Swift Compiler - General</strong> section.</li>
							<li>Locate the <strong>Objective-C Bridging Header</strong> property, and add a value for the path to your briding header file. In this case, the value is:<code></code>
								<pre class="line-numbers" data-start="1"><code class="language-swift">Simple-Video-Playback/SVP-Bridging-Header.h</code></pre>
								<p>Your Build settings should look similar to this:</p>
								<figure class="bcls-figure">
									<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/build-setting.png" alt="Build setting">
									<figcaption class="bcls-caption--image">Build setting</figcaption>
								</figure>
							</li>
							<li>Now, you are ready to code the app.</li>
					</ol>
				</section>
				<section class="bcls-section" id="Code_the_video_app">
					<h2>Code the video app</h2>
					<p>Create the code for a simple video playback app.</p>
					<h3 id="appdelegate">Set the audio behavior for the app</h3>
					<p>The audio session handles audio behavior at the app level. Learn more about the <a href="https://developer.apple.com/library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/Introduction/Introduction.html">AVAudioSession</a> class.</p>
					<p>You can choose from several audio session categories and settings to customize your app's audio behavior. <a href="https://developer.apple.com/library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/AudioSessionBasics/AudioSessionBasics.html#//apple_ref/doc/uid/TP40007875-CH3-SW1">Choose the best audio session category</a> for
						your app.</p>
					<p>For this sample, we will use <code>AVAudioSessionCategoryPlayback</code>. This plays audio even when the screen is locked and with the Ring/Silent switch set to silent. To keep it simple, we will put the code for this in the App Delegate.</p>
					<ol class="bcls-tasklist">
						<li>
							<p>In your project, open the App Delegate file (<strong>AppDelegate.swift</strong>).</p>
						</li>
						<li>
							<p>In the <code>didFinishLaunchingWithOptions</code> function, add code to set the audio session category. Make sure you import the <code>AVFoundation</code> framework.</p> <pre class="line-numbers" data-start="1"><code class="language-swift">//
//  AppDelegate.swift
//  Simple-Video-Playback
//
//  Copyright &copy; 2016 Brightcove. All rights reserved.
//

import UIKit
<span class="bcls-highlight">import AVFoundation</span>

@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {

    var window: UIWindow?;

    func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Bool {

        // We need the below code in order to ensure that audio plays back when we
        // expect it to. For example, without setting this code, we won't hear the video
        // when the mute switch is on. For simplicity in the sample, we are going to
        // put this in the app delegate.  Check out https://developer.apple.com/Library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/Introduction/Introduction.html
        // for more information on how to use this in your own app.

<span class="bcls-highlight">        var categoryError :NSError?;
        var success: Bool;
        do {
            try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayback);
            success = true;
        } catch let error as NSError {
            categoryError = error;
            success = false;
        }

        if !success {
            print(&quot;AppDelegate Debug - Error setting AVAudioSession category.  Because of this, there may be no sound. \(categoryError!)&quot;);
        }</span>

        return true;
    }

    func applicationWillResignActive(application: UIApplication) {
        // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.
        // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game.
    }

    func applicationDidEnterBackground(application: UIApplication) {
        // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.
        // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.
    }

    func applicationWillEnterForeground(application: UIApplication) {
        // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background.
    }

    func applicationDidBecomeActive(application: UIApplication) {
        // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.
    }

    func applicationWillTerminate(application: UIApplication) {
        // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.
    }
}</code></pre>
							<!-- <p><code data-gist-id="165523b66d46776f979c" data-gist-line="1-62" data-gist-highlight-line="9,24-36"></code></p> -->
						</li>
					</ol>
					<h3>Build the View Controller</h3>
          <p class="video-cloud-only">Update the View Controller class to play a video from the Brightcove Playback API.</p>
          <p class="perform-only">Update the View Controller class to play a video from a remote URL.</p>
          <ol class="bcls-tasklist">
						<li><p>In your project, open the View Controller file (<strong>ViewController.swift</strong>).</p></li>
					</ol>

					<div class="video-cloud-only">
						<h4>Customize the project with your values</h4>
						<p>Add values to access your Video Cloud account.</p>
						<ol class="bcls-tasklist">
							<li>
								<p>Below the <code>import</code> directives, add your own values for the following:</p>
								<ul>
									<li>
										<p>Line 12: Defines your Brightcove Playback API Policy Key</p>
										<aside class="bcls-aside bcls-aside--tip">This sample calls the Playback API to get a video from a Video Cloud account. For this, you will need a Policy Key. Learn how to get a Policy Key in the <a href="../../../player-management/guides/OAuth.html">OAuth Guide</a>.</aside>
									</li>
									<li>Line 13: Defines your Video Cloud Account ID</li>
									<li>Line 14: Defines your Video Cloud Video ID</li>
								</ul> <pre class="line-numbers" data-start="12"><code class="language-swift">let kViewControllerPlaybackServicePolicyKey = &quot;BCpkADawqM2NZcfpTGYMHaafJU597X9J0XTvw8CXZcMITep7BFNYHFKGz3XJQfYzudYCp9GWn3u18OQdlqJxSKFrIipF4Ndx9umqQ5EtUaAn_oTXaQgIs1lAe4-FciLISBFDCTAA3j2qALp8&quot;;
let kViewControllerAccountID = &quot;3636334163001&quot;;
let kViewControllerVideoID = &quot;3637773814001&quot;;</code></pre>
								<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="12-14"></code></p> -->
							</li>
						</ol>
						<h4>Set the playback controller delegate</h4>
						<p>This allows your app to listen and respond to video playback events.</p>
						<ol class="bcls-tasklist">
							<li>
								<p>Update the View Controller class to include the Brightcove playback controller delegate.</p> <pre class="line-numbers" data-start="16"><code class="language-swift">class ViewController: UIViewController, BCOVPlaybackControllerDelegate {</code></pre>
								<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="16"></code></p> -->
							</li>
						</ol>
						<!--
              <li><p><strong>Optional:</strong> If you override the <code>BCOVVideo</code> class or do not use the Brightcove player and catalog, you need to send your Video Cloud Publisher ID to Video Cloud Analytics. This allows you to view data for this app in Video Cloud Analytics.</p>
                  <p>First, add your own value for your Video Cloud Publisher ID. You'll send this analytics data in a later step.</p>
                <p><code data-gist-id="ffab3777678c48c7212d" data-gist-line="77"></code></p>
                            <p class="text-warning">If you use the Brightcove player and Catalog included in the SDK to retrieve and play videos, analytics data will be automatically collected and will appear in the Video Cloud Analytics module.</p></li>
-->
						<h4>Declare constants and set the view</h4>
						<ol class="bcls-tasklist">
							<li>
								<p>In the <code>ViewController</code> class, add the following :</p>
								<ul>
									<li>Line 18: defines a constant, which initializes the Brightcove playback service with your Account ID and Policy Key.</li>
									<li>Line 19: defines a constant for the player view controller. Using this, the system makes its media content available for playback on an Apple TV and provides additional options for navigating the content. To use this controller, you will need
										to import <code>AVKit</code>
									</li>
									<li>Line 20: defines a constant for the Brightcove playback controller.</li>
									<li>
										<p>Line 21: defines a variable for the view.</p>
									</li>
								</ul> <pre class="line-numbers" data-start="8"><code class="language-swift">import UIKit
<span class="bcls-highlight">import AVKit</span>

// ** Customize these values with your own account information **
let kViewControllerPlaybackServicePolicyKey = "BCpkADawqM2NZcfpTGYMHaafJU597X9J0XTvw8CXZcMITep7BFNYHFKGz3XJQfYzudYCp9GWn3u18OQdlqJxSKFrIipF4Ndx9umqQ5EtUaAn_oTXaQgIs1lAe4-FciLISBFDCTAA3j2qALp8";
let kViewControllerAccountID = "3636334163001";
let kViewControllerVideoID = "3637773814001";

class ViewController: UIViewController, BCOVPlaybackControllerDelegate {

<span class="bcls-highlight">    let playbackService = BCOVPlaybackService(accountId: kViewControllerAccountID, policyKey: kViewControllerPlaybackServicePolicyKey);
    let avpvc = AVPlayerViewController();
    let playbackController :BCOVPlaybackController;
    @IBOutlet weak var videoContainerView: UIView!;</span></code></pre>
							</li>
							<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="8-10,16-21" data-gist-highlight-line="9,18-21"></code></p> -->
						</ol>
						<h4>Create an init function</h4>
						<ol class="bcls-tasklist">
							<li>Create an <code>init</code>function as follows:
								<ul>
									<li>Line 24: initializes a shared manager.</li>
									<li>Line 25: instantiates the manager based on the default controls view strategy.</li>
									<li>
										<p>Line 29: <strong>Optional:</strong> Sends your Video Cloud Account ID to analytics. This is only needed if you override the <code>BCOVVideo</code> class or do not use the Brightcove Playback service or catalog.</p>
										<aside class="bcls-aside bcls-aside--tip">For details about sending data to Video Cloud Analytics, see the <a href="//docs.brightcove.com/en/video-cloud/mobile-sdks/brightcove-player-sdk-for-android/guides/analytics/analytics.html">Using Brightcove Analytics</a> guide.</aside>
									</li>
									<li>
										<p>Lines 31-33: set the delegate and turn on the autoadvance and autoplay features.</p>
									</li>
								</ul> <pre class="line-numbers" data-start="23"><code class="language-swift">required init?(coder aDecoder: NSCoder) {
    let manager = BCOVPlayerSDKManager.sharedManager();
    playbackController = manager.createPlaybackControllerWithViewStrategy(manager.defaultControlsViewStrategy());

    super.init(coder: aDecoder);

    playbackController.analytics.account = kViewControllerAccountID;

    playbackController.delegate = self;
    playbackController.autoAdvance = true;
    playbackController.autoPlay = true;
}</code></pre>
							</li>
							<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="23-34"></code></p> -->
						</ol>
						<h4>Configure the player</h4>
						<ol class="bcls-tasklist">
							<li>
								<p>In the <code>viewDidLoad</code> method add the following:</p>
								<ul>
									<li>Lines 40-42: configure the playback controller's view.</li>
									<li>Line 43-44: adds the player view as a subview of the main view.</li>
									<li>Line 46: calls the <code>requestContentFromPlaybackService</code> function, which you will define in the next step.</li>
								</ul> <pre class="line-numbers" data-start="36"><code class="language-swift">override func viewDidLoad() {
        super.viewDidLoad();
        // Do any additional setup after loading the view, typically from a nib.

<span class="bcls-highlight">        self.addChildViewController(self.avpvc);
        self.avpvc.view.frame = self.view.bounds;
        self.avpvc.view.autoresizingMask = [.FlexibleWidth, .FlexibleHeight];
        self.view.addSubview(self.avpvc.view);
        self.avpvc.didMoveToParentViewController(self);

        requestContentFromPlaybackService();</span>
    }</code></pre>
								<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="36-47" data-gist-highlight-line="40-46"></code></p> -->
							</li>
						</ol>
						<h4>Request content from the Brightcove library</h4>
						<p>In order to play back video content, you will request a playlist from the catalog service</p>
						<ol class="bcls-tasklist">
							<li>
								<p>Create a function named <code>requestContentFromPlaybackService</code> as follows:</p>
								<ul>
									<li>Line 50: returns a video object from the Playback API based on the given video id.</li>
									<li>Line 53: adds the video to the playback controller.</li>
									<li>Line 57: writes an error message if a playlist is not returned.</li>
								</ul> <pre class="line-numbers" data-start="49"><code class="language-swift">func requestContentFromPlaybackService() {
    playbackService.findVideoWithVideoID(kViewControllerVideoID, parameters: nil) { (video:BCOVVideo!, jsonResponse: [NSObject : AnyObject]!, error:NSError!) -&gt; Void in
        if let v = video
        {
            self.playbackController.setVideos([v]);
        }
        else
        {
            NSLog(&quot;ViewController Debug - Error retrieving video: %@&quot;, error);
        }
    }
}</code></pre>
							</li>
							<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="49-60"></code></p> -->
						</ol>
						<h4>The rest</h4>
						<ol class="bcls-tasklist">
							<li>
								<p>Create a function to handle when the playback session advances.</p> <pre class="line-numbers" data-start="62"><code class="language-swift">func playbackController(controller: BCOVPlaybackController!, didAdvanceToPlaybackSession session: BCOVPlaybackSession!) {
    NSLog(&quot;ViewController Debug - Advanced to new session.&quot;);
    self.avpvc.player = session.player;
}</code></pre>
								<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="62-65"></code></p> -->
							</li>
							<li>
								<p><strong>Optional</strong>: Log lifecycle events.</p> <pre class="line-numbers" data-start="67"><code class="language-swift">func playbackController(controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceiveLifecycleEvent lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
    NSLog(&quot;Event: %@&quot;, lifecycleEvent.eventType);
}</code></pre>
								<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="67-69"></code></p> -->
							</li>
							<!--
              <li><p>Create a function to set the status bar style.</p></li>
              <p><code data-gist-id="ffab3777678c48c7212d" data-gist-line="129-131"></code></p>
-->
						</ol>
						<h4 id="viewController">View the code</h4>
						<p>The View Controller is now complete. Here is the full code:</p> <pre class="line-numbers" data-start="1"><code class="language-swift">//
//  ViewController.swift
//  Simple-Video-Playback
//
//  Copyright &copy; 2016 Brightcove. All rights reserved.
//

import UIKit
import AVKit

// ** Customize these values with your own account information **
let kViewControllerPlaybackServicePolicyKey = &quot;BCpkADawqM2NZcfpTGYMHaafJU597X9J0XTvw8CXZcMITep7BFNYHFKGz3XJQfYzudYCp9GWn3u18OQdlqJxSKFrIipF4Ndx9umqQ5EtUaAn_oTXaQgIs1lAe4-FciLISBFDCTAA3j2qALp8&quot;;
let kViewControllerAccountID = &quot;3636334163001&quot;;
let kViewControllerVideoID = &quot;3637773814001&quot;;

class ViewController: UIViewController, BCOVPlaybackControllerDelegate {

    let playbackService = BCOVPlaybackService(accountId: kViewControllerAccountID, policyKey: kViewControllerPlaybackServicePolicyKey);
    let avpvc = AVPlayerViewController();
    let playbackController :BCOVPlaybackController;
    @IBOutlet weak var videoContainerView: UIView!;

    required init?(coder aDecoder: NSCoder) {
        let manager = BCOVPlayerSDKManager.sharedManager();
        playbackController = manager.createPlaybackControllerWithViewStrategy(manager.defaultControlsViewStrategy());

        super.init(coder: aDecoder);

        playbackController.analytics.account = kViewControllerAccountID;

        playbackController.delegate = self;
        playbackController.autoAdvance = true;
        playbackController.autoPlay = true;
    }

    override func viewDidLoad() {
        super.viewDidLoad();
        // Do any additional setup after loading the view, typically from a nib.

        self.addChildViewController(self.avpvc);
        self.avpvc.view.frame = self.view.bounds;
        self.avpvc.view.autoresizingMask = [.FlexibleWidth, .FlexibleHeight];
        self.view.addSubview(self.avpvc.view);
        self.avpvc.didMoveToParentViewController(self);

        requestContentFromPlaybackService();
    }

    func requestContentFromPlaybackService() {
        playbackService.findVideoWithVideoID(kViewControllerVideoID, parameters: nil) { (video:BCOVVideo!, jsonResponse: [NSObject : AnyObject]!, error:NSError!) -&gt; Void in
            if let v = video
            {
                self.playbackController.setVideos([v]);
            }
            else
            {
                NSLog(&quot;ViewController Debug - Error retrieving video: %@&quot;, error);
            }
        }
    }

    func playbackController(controller: BCOVPlaybackController!, didAdvanceToPlaybackSession session: BCOVPlaybackSession!) {
        NSLog(&quot;ViewController Debug - Advanced to new session.&quot;);
        self.avpvc.player = session.player;
    }

    func playbackController(controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceiveLifecycleEvent lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
        NSLog(&quot;Event: %@&quot;, lifecycleEvent.eventType);
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning();
        // Dispose of any resources that can be recreated.
    }
}</code></pre>
						<!-- <p><code data-gist-id="d1e5b16b1a6f14dd686a132c2e75ef34" data-gist-line="1-75"></code></p> -->
					</div>
					<!--class="video-cloud-only"-->
					<div class="perform-only">
						<h4>Customize the project with your values</h4>
						<p>Define a variable with the value of your Perform Account Id. This will be sent to Brightcove in a later step.</p>
						<ol class="bcls-tasklist">
							<li>
								<p>Below the <code>import</code> directives, add your own value for your Brightcove Perform Account Id.</p> <pre class="line-numbers" data-start="11"><code class="language-swift">let kAccountID = &quot;123456789&quot; // for analytics</code></pre>
							</li>
							<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="11" data-gist-hide-footer="true"></code></p> -->
						</ol>
						<h4>Set the playback controller delegate</h4>
						<p>This allows your app to listen and respond to video playback events.</p>
						<ol class="bcls-tasklist">
							<li>
								<p>Update the View Controller class to include the Brightcove playback controller delegate.</p> <pre class="line-numbers" data-start="13"><code class="language-swift">class ViewController: UIViewController, BCOVPlaybackControllerDelegate {</code></pre>
							</li>
							<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="13" data-gist-hide-footer="true"></code></p> -->
						</ol>
						<h4>Declare constants and set the view</h4>
						<ol class="bcls-tasklist">
							<li>
								<p>In the <code>ViewController</code> class, add the following :</p>
								<ul>
									<li>Line 15: defines a constant for the player view controller. Using this, the system makes its media content available for playback on an Apple TV and provides additional options for navigating the content. To use this controller, you will need
										to import <code>AVKit</code>.</li>
									<li>Line 16: defines a constant for the playback controller.</li>
									<li>
										<p>Line 17: defines a variable for the view.</p>
									</li>
								</ul> <pre class="line-numbers" data-start="8"><code class="language-swift">import UIKit
<span class="bcls-highlight">import AVKit</span>

let kAccountID = &quot;123456789&quot; // for analytics

class ViewController: UIViewController, BCOVPlaybackControllerDelegate {

<span class="bcls-highlight">    let avpvc = AVPlayerViewController();
    let playbackController :BCOVPlaybackController;
    @IBOutlet weak var videoContainerView: UIView!;</span></code></pre>
							</li>
							<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="8-17" data-gist-highlight-line="9,15-17"></code></p> -->
						</ol>
						<h4>Create an init function</h4>
						<ol class="bcls-tasklist">
							<li>Create an <code>init</code>function as follows:
								<ul>
									<li>Line 20: initializes a shared manager.</li>
									<li>Line 21: instantiates the manager based on the default controls view strategy.</li>
									<li>Line 25: Sends your Video Cloud Publisher ID to analytics.</li>
									<li>
										<p>Lines 27-29: set the delegate and turn on the autoadvance and autoplay features.</p>
									</li>
								</ul> <pre class="line-numbers" data-start="19"><code class="language-swift">required init?(coder aDecoder: NSCoder) {
    let manager = BCOVPlayerSDKManager.sharedManager();
    playbackController = manager.createPlaybackControllerWithViewStrategy(manager.defaultControlsViewStrategy());

    super.init(coder: aDecoder);

    playbackController.analytics.account = kAccountID;

    playbackController.delegate = self;
    playbackController.autoAdvance = true;
    playbackController.autoPlay = true;
}</code></pre>
							</li>
							<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="19-30"></code></p> -->
						</ol>
						<h4>Configure the player</h4>
						<ol class="bcls-tasklist">
							<li>
								<p>In the <code>viewDidLoad</code> method add the following:</p>
								<ul>
									<li>Lines 36-38: create an array of video sources using url paths.</li>
									<li>Lines 40-42: configure the playback controller's view.</li>
									<li>Lines 43-44: add the player view as a subview of the main view.</li>
									<li>Line 46: adds the video array to the controller's playback queue, which is set for automatically start playing.</li>
								</ul> <pre class="line-numbers" data-start="32"><code class="language-swift">override func viewDidLoad() {
    super.viewDidLoad()

<span class="bcls-highlight">    // create an array of videos
    var videoArray = [AnyObject]()
    videoArray = [videoWithURL(NSURL(string: "http://learning-services-media.brightcove.com/videos/hls/laughing_gull/laughing_gull.m3u8")!),
        videoWithURL(NSURL(string: "http://devimages.apple.com/iphone/samples/bipbop/bipbopall.m3u8")!)]

    self.addChildViewController(self.avpvc);
    self.avpvc.view.frame = self.view.bounds;
    self.avpvc.view.autoresizingMask = [.FlexibleWidth, .FlexibleHeight];
    self.view.addSubview(self.avpvc.view);
    self.avpvc.didMoveToParentViewController(self);

    self.playbackController.setVideos(videoArray);</span>
}</code></pre>
								<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="32-47" data-gist-highlight-line="35-46"></code></p> -->
							</li>
						</ol>
						<h4>Set the delivery method for video sources</h4>
						<ol class="bcls-tasklist">
							<li>
								<p>Create a function that sets the delivery method for <code>BCOVSources</code> that belong to a video.</p> <pre class="line-numbers" data-start="49"><code class="language-swift">func videoWithURL(url: NSURL) -> BCOVVideo {
    // set the delivery method for BCOVSources that belong to a video
    let source:BCOVSource = BCOVSource(URL: url, deliveryMethod: kBCOVSourceDeliveryHLS, properties: nil)
    let video = BCOVVideo.init(source: source, cuePoints: BCOVCuePointCollection.init(array: []), properties: [NSObject:AnyObject]())
    return video
}</code></pre>
							</li>
							<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="49-54"></code></p> -->
						</ol>
						<h4>The rest</h4>
						<ol class="bcls-tasklist">
							<li>
								<p>Create a function to handle when the playback session advances.</p> <pre class="line-numbers" data-start="56"><code class="language-swift">func playbackController(controller: BCOVPlaybackController!, didAdvanceToPlaybackSession session: BCOVPlaybackSession!) {
    NSLog(&quot;ViewController Debug - Advanced to new session.&quot;)
    self.avpvc.player = session.player;
}</code></pre>
							</li>
							<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="56-59"></code></p> -->
							<li>
								<p><strong>Optional</strong>: Log lifecycle events.</p> <pre class="line-numbers" data-start="61"><code class="language-swift">func playbackController(controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceiveLifecycleEvent lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
    NSLog(&quot;Event: %@&quot;, lifecycleEvent.eventType);
}</code></pre>
							</li>
							<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="61-63"></code></p> -->
						</ol>
						<h4 id="viewControllerPerform">View the code</h4>
						<p>The View Controller is now complete. Here is the full code:</p> <pre class="line-numbers" data-start="1"><code class="language-swift">//
//  ViewController.swift
//  Simple-Video-Playback
//
//  Copyright &copy; 2016 Brightcove. All rights reserved.
//

import UIKit
import AVKit

let kAccountID = &quot;123456789&quot; // for analytics

class ViewController: UIViewController, BCOVPlaybackControllerDelegate {

    let avpvc = AVPlayerViewController();
    let playbackController :BCOVPlaybackController;
    @IBOutlet weak var videoContainerView: UIView!;

    required init?(coder aDecoder: NSCoder) {
        let manager = BCOVPlayerSDKManager.sharedManager();
        playbackController = manager.createPlaybackControllerWithViewStrategy(manager.defaultControlsViewStrategy());

        super.init(coder: aDecoder);

        playbackController.analytics.account = kAccountID;

        playbackController.delegate = self;
        playbackController.autoAdvance = true;
        playbackController.autoPlay = true;
    }

    override func viewDidLoad() {
        super.viewDidLoad()

        // create an array of videos
        var videoArray = [AnyObject]()
        videoArray = [videoWithURL(NSURL(string: &quot;http://learning-services-media.brightcove.com/videos/hls/laughing_gull/laughing_gull.m3u8&quot;)!),
            videoWithURL(NSURL(string: &quot;http://devimages.apple.com/iphone/samples/bipbop/bipbopall.m3u8&quot;)!)]

        self.addChildViewController(self.avpvc);
        self.avpvc.view.frame = self.view.bounds;
        self.avpvc.view.autoresizingMask = [.FlexibleWidth, .FlexibleHeight];
        self.view.addSubview(self.avpvc.view);
        self.avpvc.didMoveToParentViewController(self);

        self.playbackController.setVideos(videoArray);
    }

    func videoWithURL(url: NSURL) -&gt; BCOVVideo {
        // set the delivery method for BCOVSources that belong to a video
        let source:BCOVSource = BCOVSource(URL: url, deliveryMethod: kBCOVSourceDeliveryHLS, properties: nil)
        let video = BCOVVideo.init(source: source, cuePoints: BCOVCuePointCollection.init(array: []), properties: [NSObject:AnyObject]())
        return video
    }

    func playbackController(controller: BCOVPlaybackController!, didAdvanceToPlaybackSession session: BCOVPlaybackSession!) {
        NSLog(&quot;ViewController Debug - Advanced to new session.&quot;)
        self.avpvc.player = session.player;
    }

    func playbackController(controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceiveLifecycleEvent lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
        NSLog(&quot;Event: %@&quot;, lifecycleEvent.eventType);
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
}</code></pre>
						<!-- <p><code data-gist-id="c70e9cbd0f609bc473dd5e2e2ee4bbba" data-gist-line="1-69"></code></p> -->
					</div>
					<!--class="perform-only"-->
				</section>
				<!--id="Code_the_video_app"-->
				<!--
                    <div class="section" id="storyboard">
                        <h2>Connect the storyboard view</h2>
                            <p>Connect the <code>Main.storyboard</code> view with the<code>videoContainer</code> property.</p>
                            <ol>
                                <li><p>In the Assistant Editor, open the <code>Main.storyboard</code>.</p></li>
                                <li><p>In the companion view, expand the <strong>View Controller Scene</strong> and then the <strong>View Controller</strong> menu to expose the <strong>View</strong> object.</p></li>
                                <div><img src="assets/quick-start-swift/storyboard-view.png" alt="storyboard-vew" title="storyboard-view"></div>
                                <li><p>Open the <code>ViewController.swift</code> file in the Assistant Editor.</p></li>
                                <div><img src="assets/quick-start-swift/assistant-editor.png" alt="assistant-editor" title="assistant-editor"></div>
                                <li><p>Select the open circle next to the <code>@IBOutlet</code> for the <code>videoContainerView</code>, and drag it to the <strong>View</strong> object to connect these components.</p></li>
                                <div><img src="assets/quick-start-swift/connect-view.png" alt="connect-view" title="connect-view"></div>
                            </ol>
                    </div>
-->
				<section class="bcls-section" id="Manage_Media_Security">
					<h2>Manage Media Security</h2>
					<p>App Transport Security (ATS) enforces secure connections between your app and web services.</p>
					<h3>Configure App Transport Security (ATS)</h3>
					<p>With Apple's release of the iOS 9 SDK, a new feature called <a href="https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/">App Transport Security (ATS)</a> was added.</p>
					<aside class="bcls-aside bcls-aside--information">This is only an issue if you are building applications that target the iOS 9 SDK or later. Since ATS restrictions do not apply to previous versions of the iOS SDK, you can skip this section if you are working with a previous version.</aside>

					<p>If you try to build and run the app that you created by following the steps in this guide, you may encounter this error message:</p>
					<pre class="line-numbers" data-start="1"><code class="language-swift">App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure.
	Temporary exceptions can be configured via your app's Info.plist file.</code></pre>
					<p>This means that ATS is enabled, but your system is not configured to meet the ATS requirements.</p>
					<ol class="bcls-tasklist">
						<li>
							<p>
								Refer to the <a href="../../brightcove-player-sdk-for-ios/guides/ats.html">Working with App Transport Security (ATS)</a> document to do one of the following:
							</p>
							<ul>
								<li>Build your app with ATS enabled
								<ul>
									<li><p>
										You must use https to deliver your media content
									</p></li>
								</ul>

								</li>
								<li>Disable ATS requirements
								<ul>
									<li><p>
										You can use http to deliver your media content
									</p></li>
									</ul></li>
							</ul>
							<aside class="bcls-aside bcls-aside--warning">As of January 1, 2017, all App Store apps are required to use App Transport Security. You will no longer be able to disable ATS for App Store apps. For details, see the <a href="https://techcrunch.com/2016/06/14/apple-will-require-https-connections-for-ios-apps-by-the-end-of-2016/">Apple will require HTTPS connections for iOS apps by the end of 2016</a> document.</aside>
						</li>
					</ol>
				</section>
				
				<section class="bcls-section" id="Run_the_app">
					<h2>Run the app</h2>
					<div>
						<p>The app is ready to build and run on an Apple TV or the Xcode Simulator. You should be able to play and navigate the specified video using the remote control.</p>
						<figure class="bcls-figure">
							<img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/apple-tv.png" alt="Apple TV sample">
							<figcaption class="bcls-caption--image">Apple TV sample</figcaption>
						</figure>
					</div>
				</section>
			</article>
			<!-- end drupal content -->
		</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
	<script src="/en/scripts/docs-nav-data.min.js"></script>
	<script src="/en/scripts/bcls-doc-site-v0.js"></script>
	<script src="//learning-services-media.brightcove.com/doc-assets/js/bcls-utils.js"></script>
	<script src="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.js"></script>
	<script>
		$(document).foundation();
	</script>
	<!-- Any scripts specific to page samples should go here -->
	<div style="text-align:center">
		<iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
	</div>
	<br>
	<br>
	<div class="bcls-footer"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a>
	</div>
	<script>
		var feedbackMail = document.getElementById("feedbackMail");
		feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
	</script>
</body>

</html>
