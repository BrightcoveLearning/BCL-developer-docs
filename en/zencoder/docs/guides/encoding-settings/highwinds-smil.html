

<!DOCTYPE html>
<html lang="en">
  <head>
      <!-- Begin Drupal Taxonomy Data -->
      <meta name="products" content="Zencoder">
      <meta name="role" content="API Developer">
      <meta name="task" content="">
      <meta name="topic" content="">
      <meta name="API" content="Zencoder">
      <!-- End Drupal Taxonomy Data -->
    <title>
            Encoding Recommendations: Highwinds SMIL --       Zencoder
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet" type="text/css">
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link rel="stylesheet" href="//learning-services-media.brightcove.com/doc-assets/js/prism/prism.css">
    <link rel="stylesheet" href="//docs.brightcove.com/en/styles/template-less/css/bcls-doc.css">
    <link rel="stylesheet" href="/en/styles/foundation-fixes.css">

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-2728311-29', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
    


    

    

    
    

    
    

    
  </head>
  <body id="docs_show" class="application docs">
    <div id="wrap">
      
      <div id="body_padding">
        <img alt="" class="print" height="65" src="../../../../a.zencdn.net/assets/logo-print-c8eb6ccdba8286b7c36e567b2527f3bc.png" width="300" />
        <div id="header" class="screen">
            <a href="http://zencoder.com" id="logo" class="screen">
            <img alt="" height="54" src="../../../../a.zencdn.net/assets/logo-4578a00ccade4cf0594054ff8625db54.png" width="250" />
          </a>
          <ul id="nav">
              <li>
      <a href="../../../signup.html"><span class="nav-title">Sign Up</span><span class="nav-desc">Create your account.</span></a>
    </li>
              <li>
      <a href="../../../login.html"><span class="nav-title">Log In</span><span class="nav-desc">See your stuff.</span></a>
    </li>
              <li class="selected">
      <a href="../../../docs.html"><span class="nav-title">Docs/Support</span><span class="nav-desc">Guides & reference.</span></a>
    </li>
          </ul>
        </div>
          
        <div id="main" class="clearfix">
              <ul id="docs_nav">
  <li id="docs-nav-search" class="category-group-name">
    <form accept-charset="UTF-8" action="../../search.html" id="doc_search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>      <input class="query" id="q" name="q" placeholder="Search" type="search" />
      <img alt="Spinner" id="doc_search_activity" src="../../../../a.zencdn.net/assets/spinner-a5ea8f7ee3514bae1534f6c05f4d361c.gif" style="display:none;" />
</form>  </li>
  <li class="category-group-name"><a href="../../../docs.html">Home</a></li>
  <li class="category-group-name">
    <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;%68%65%6c%70@%7a%65%6e%63%6f%64%65%72.%63%6f%6d?body=%5BHelpful%20things%20to%20include%3A%20links%20to%20source%20files%2C%20job%20IDs%2C%20screenshots...%5D">Support Email &raquo;</a>
  </li>
    <li class="category-group-name"><a href="../../guides.html">Guides</a></li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../getting-started.html">Getting Started</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../advanced-integration.html">Advanced Integration</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../encoding-settings.html"><span class="selected">Encoding Recommendations</span></a>
          </li>
        </ul>
      </li>
    <li class="category-group-name"><a href="../../api.html">API Reference</a></li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../api/jobs.html">Jobs</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../api/inputs.html">Inputs</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../api/outputs.html">Outputs</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../api/accounts.html">Accounts</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../api/reports.html">Reports</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../api/encoding.html">Encoding Settings</a>
          </li>
        </ul>
      </li>
    <li class="category-group-name"><a href="../../faq.html">FAQ</a></li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../faq/basics.html">Basics</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../faq/codecs-and-formats.html">Codecs And Formats</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../faq/about-encoding.html">Encoding</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../faq/transfer.html">File Transfers</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../faq/problems.html">Problems</a>
          </li>
        </ul>
      </li>
      <li class="category-group-list">
        <ul>
          <li class="category-name">
              <a href="../../faq/pricing.html">Pricing</a>
          </li>
        </ul>
      </li>
    <li class="category-group-name"><a href="../../errors.html">Error Codes</a></li>
</ul>

  <div id="docs_content">
    <div id="main_content">
      
      <div id="search-results">
  <p>
    <a href="../../../docs.html">Home</a> &raquo; <a href="../../guides.html">Guides</a> &raquo; <a href="../encoding-settings.html">Encoding Recommendations</a> &raquo; Highwinds SMIL
  </p>

  <h2>
      <span class="api-section-permalink">
        <a href="highwinds-smil.html">permalink</a>
      </span>
    Highwinds SMIL
  </h2>

    <p>Highwinds is a fast CDN that offers a wide range of solutions, including adaptive streaming of video. To make using Highwinds adaptive streaming integration easier we have added a method to generate SMIL files.</p>

<p><a href="http://wikipedia.org/wiki/Synchronized_Multimedia_Integration_Language">SMIL</a> files are XML documents in a special format which are used for describing multimedia presentations. Highwinds uses a subset of SMIL to enable adaptive streaming.</p>

<p>The following is an example of a Highwinds SMIL file which describes a video that has been encoded to multiple bitrates. All paths ("src") given are relative to where the SMIL will be served and all bitrates ("system-bitrate") are in bits per second (bps).</p>

<div class="docs-code">
  <pre class="brush: xml;">
  &lt;smil&gt;
    &lt;head&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;switch&gt;
        &lt;video src="mp4:rel/path/file-440k.mp4"
          system-bitrate="440000" width="720" height="406" /&gt;
        &lt;video src="mp4:rel/path/file-640k.mp4"
          system-bitrate="640000" width="854" height="480" /&gt;
        &lt;video src="mp4:rel/path/file-240k.mp4"
          system-bitrate="240000" width="640" height="360" /&gt;
        &lt;video src="mp4:rel/path/file-150k.mp4"
          system-bitrate="150000" width="320" height="180" /&gt;
        &lt;video src="mp4:rel/path/file-64k.mp4"
          system-bitrate="64000"/&gt;
      &lt;/switch&gt;
    &lt;/body&gt;
  &lt;/smil&gt;
  </pre>
</div>

<p>Each <code>&lt;video&gt;</code> tag in the above example represents a separate stream that can be served to the user. The first video listed will be streamed to the user until the available bandwidth can be determined, at which time the user will be switched to the appropriate stream.</p>

<p>Creating a Highwinds SMIL playlist with Zencoder is easy.</p>

<div class="docs-code">
  <pre class="brush: js;">
{
  "api_key": "asdf1234",
  "input": "s3://my-bucket/input/file.mov",
  "outputs": [
    {
      "type": "playlist",
      "format": "highwinds",
      "url": "s3://my-bucket/output/file.smil",
      "streams": [
        {
          "path": "rel/path/file-440k.mp4",
          "bandwidth": "440",
          "width": 720,
          "height": 406
        },
        {
          "path": "rel/path/file-640k.mp4",
          "bandwidth": "640",
          "width": 854,
          "height": 480
        },
        {
          "path": "rel/path/file-240k.mp4",
          "bandwidth": "240",
          "width": 640,
          "height": 360
        },
        {
          "path": "rel/path/file-150k.mp4",
          "bandwidth": "150",
          "width": 320,
          "height": 180
        },
        {
          "path": "rel/path/file-64k.mp4",
          "bandwidth": "64"
        }
      ]
    }
  ]
}
  </pre>
<pre class="brush: xml;">
<api-request>
  <api_key>asdf1234</api_key>
  <input>s3://my-bucket/input/file.mov&lt;/input>
  <outputs type=&quot;array&quot;>
    <output>
      <type>playlist</type>
      <format>highwinds</format>
      <url>s3://my-bucket/output/file.smil</url>
      <streams type="array">
        <stream>
          <path>rel/path/file-440k.mp4</path>
          <bandwidth>440</bandwidth>
          <width>720</width>
          <height>406</height>
        </stream>
        <stream>
          <path>rel/path/file-640k.mp4</path>
          <bandwidth>640</bandwidth>
          <width>854</width>
          <height>480</height>
        </stream>
        <stream>
          <path>rel/path/file-240k.mp4</path>
          <bandwidth>240</bandwidth>
          <width>640</width>
          <height>360</height>
        </stream>
        <stream>
          <path>rel/path/file-150k.mp4</path>
          <bandwidth>150</bandwidth>
          <width>320</width>
          <height>180</height>
        </stream>
        <stream>
          <path>rel/path/file-64k.mp4</path>
          <bandwidth>64</bandwidth>
        </stream>
      </streams>
    </output>
  </outputs>
</api-request>
  </pre>
</div>

<p>When you do this, you will need to include a non-playlist output as well.</p>

<ul>
<li>"type" should be "playlist"</li>
<li>"format" should be "highwinds"</li>
<li>"url" (or "filename") should have an extension of "smil"</li>
<li>"streams" should be an array of JSON objects which each have the keys "bandwidth" and "path"

<ul>
<li>"path" should be the relative path to the mp4 file as it will be served by your server (notice that it doesn't include the leading "mp4:" that appears in the SMIL file)</li>
<li>"bandwidth" should be the bitrate of the file in kbps which we will convert to bps when creating the SMIL file</li>
<li>"width" is optional and should specify the horizontal resolution of the file</li>
<li>"height" is optional and should specify the vertical resolution of the file</li>
</ul>
</li>
</ul>

<p>The videos referenced by the playlist can be created separately from the job that generates the playlist, or they can be created as additional outputs on the same job.</p>

<h3>The Whole Picture</h3>

<p>Multiple outputs of different bitrates may be specified and referenced by the playlist.</p>

<div class="docs-code">
  <pre class="brush: js;">{
  "api_key": "1234abcd",
  "input": "http://example.com/file.mp4",
  "output": [
      {
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "base_url": "s3://my-bucket/",
        "filename": "file-64k.mp4",
        "format": "aac",
        "public": 1
      },
      {
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "base_url": "s3://my-bucket/",
        "decoder_bitrate_cap": 165,
        "decoder_buffer_size": 440,
        "filename": "file-150k.mp4",
        "max_frame_rate": 10,
        "public": 1,
        "video_bitrate": 110,
        "width": 320
      },
      {
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "base_url": "s3://my-bucket/",
        "decoder_bitrate_cap": 300,
        "decoder_buffer_size": 800,
        "filename": "file-240k.mp4",
        "max_frame_rate": 15,
        "public": 1,
        "video_bitrate": 200,
        "width": 640
      },
      {
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "base_url": "s3://my-bucket/",
        "decoder_bitrate_cap": 600,
        "decoder_buffer_size": 1600,
        "filename": "file-440k.mp4",
        "max_frame_rate": 30,
        "public": 1,
        "video_bitrate": 400,
        "width": 720
      },
      {
        "audio_bitrate": 56,
        "audio_sample_rate": 22050,
        "base_url": "s3://my-bucket/",
        "decoder_bitrate_cap": 900,
        "decoder_buffer_size": 2400,
        "filename": "file-640k.mp4",
        "max_frame_rate": 30,
        "public": 1,
        "video_bitrate": 600,
        "width": 854
      },
      {
        "type": "playlist",
        "format": "highwinds",
        "url": "s3://my-bucket/file.smil",
        "streams": [
          {
            "path": "file-440k.mp4",
            "bandwidth": "440",
            "width": 720,
            "height": 406
          },
          {
            "path": "file-640k.mp4",
            "bandwidth": "640",
            "width": 854,
            "height": 480
          },
          {
            "path": "file-240k.mp4",
            "bandwidth": "240",
            "width": 640,
            "height": 360
          },
          {
            "path": "file-150k.mp4",
            "bandwidth": "150",
            "width": 320,
            "height": 180
          },
          {
            "path": "file-64k.mp4",
            "bandwidth": "64"
          }
        ]
      }
  ]
}
  </pre>
  <pre class="brush: xml;"><api-request>
  <api_key>1234abcd</api_key>
  <input>http://example.com/file.mp4&lt;/input>
  <outputs type='array'>
    <output>
      <audio_bitrate>56</audio_bitrate>
      <audio_sample_rate>22050</audio_sample_rate>
      <base_url>s3://my-bucket</base_url>
      <filename>file-64k.mp4</filename>
      <public>1</public>
      <skip_video>1</skip_video>
    </output>
    <output>
      <audio_bitrate>56</audio_bitrate>
      <audio_sample_rate>22050</audio_sample_rate>
      <base_url>s3://my-bucket</base_url>
      <decoder_bitrate_cap>165</decoder_bitrate_cap>
      <decoder_buffer_size>440</decoder_buffer_size>
      <filename>file-150k.mp4</filename>
      <max_frame_rate>10</max_frame_rate>
      <public>1</public>
      <video_bitrate>110</video_bitrate>
      <width>320</width>
    </output>
    <output>
      <audio_bitrate>56</audio_bitrate>
      <audio_sample_rate>22050</audio_sample_rate>
      <base_url>s3://my-bucket</base_url>
      <decoder_bitrate_cap>300</decoder_bitrate_cap>
      <decoder_buffer_size>800</decoder_buffer_size>
      <filename>file-240k.mp4</filename>
      <max_frame_rate>15</max_frame_rate>
      <public>1</public>
      <video_bitrate>200</video_bitrate>
      <width>640</width>
    </output>
    <output>
      <audio_bitrate>56</audio_bitrate>
      <audio_sample_rate>22050</audio_sample_rate>
      <base_url>s3://my-bucket</base_url>
      <decoder_bitrate_cap>600</decoder_bitrate_cap>
      <decoder_buffer_size>1600</decoder_buffer_size>
      <filename>file-440k.mp4</filename>
      <max_frame_rate>15</max_frame_rate>
      <public>1</public>
      <video_bitrate>400</video_bitrate>
      <width>720</width>
    </output>
    <output>
      <audio_bitrate>56</audio_bitrate>
      <audio_sample_rate>22050</audio_sample_rate>
      <base_url>s3://my-bucket</base_url>
      <decoder_bitrate_cap>900</decoder_bitrate_cap>
      <decoder_buffer_size>2400</decoder_buffer_size>
      <filename>file-640k.mp4</filename>
      <max_frame_rate>30</max_frame_rate>
      <public>1</public>
      <video_bitrate>600</video_bitrate>
      <width>854</width>
    </output>
    <output>
      <type>playlist</type>
      <format>highwinds</format>
      <url>s3://my-bucket/file.smil</url>
      <streams type="array">
        <stream>
          <path>file-440k.mp4</path>
          <bandwidth>440</bandwidth>
          <width>720</width>
          <height>406</height>
        </stream>
        <stream>
          <path>file-640k.mp4</path>
          <bandwidth>640</bandwidth>
          <width>854</width>
          <height>480</height>
        </stream>
        <stream>
          <path>file-240k.mp4</path>
          <bandwidth>240</bandwidth>
          <width>640</width>
          <height>360</height>
        </stream>
        <stream>
          <path>file-150k.mp4</path>
          <bandwidth>150</bandwidth>
          <width>320</width>
          <height>180</height>
        </stream>
        <stream>
          <path>file-64k.mp4</path>
          <bandwidth>64</bandwidth>
        </stream>
      </streams>
    </output>
  </outputs>
</api-request></pre>
</div>

<p><strong>NOTES</strong></p>
<ul>
  <li>The playlist generation currently uses no information from the other outputs in the job, but is simply a way to easily generate a correctly formatted adaptive-bitrate playlist and have it uploaded along with the other files.</li>
  <li><a href="https://app.zencoder.com/docs/api/encoding/rate-control/decoder-bitrate-cap">decoder_bitrate_cap</a> is set to 1.5x the target bitrate of the file. <a href="https://app.zencoder.com/docs/api/encoding/rate-control/decoder-buffer-size">decoder_buffer_size</a> is set to 3.5x to 5x the target bitrate of the file. These settings will help keep a consistent bitrate throughout the file, so that the segmented segments won't vary too much in size and bitrate.</li>
</ul>

</div>

    </div>
    <div id="docs_search_results">
    </div>
  </div>

        </div>
      </div>
    </div>
    <div id="footer" class="screen">
      <div id="feedback">
        <div id="feedback_content" class="content">
          <!--<strong>I wish this page would...</strong>
          <input id="feedback_input" name="wish" type="text" value="" />
          <input height="23" name="mood" src="https://a.zencdn.net/assets/feedback-happy-84889f3f6afe3f2d48d11fbee6ea1a63.png" type="image" value="happy" width="22" />
          <input height="23" name="mood" src="https://a.zencdn.net/assets/feedback-meh-21ab4292195e219904858f43c47e3315.png" type="image" value="meh" width="22" />
          <input height="23" name="mood" src="https://a.zencdn.net/assets/feedback-sad-afac56b816085f0477aca92e378c0888.png" type="image" value="sad" width="22" /> -->
        </div>
      </div>
      <div id="footer_content" class="content clearfix">
        <div class="footer-column">
          <h4>Help!</h4>
          <ul>
            <li>For details on how to use Zencoder, check out our <a href="../../../docs.html">Documentation and Guides</a>.</li>
            <li>If you have a specific question, please open a <a href="https://support.brightcove.com/en/contact/create">support ticket</a>.</li>
            <li>For information about any ongoing issues, visit our <a href="http://status.zencoder.com">Status Page</a>.</li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>The Latest</h4>
          <table>
            <tr>
              <th>March 31, 2017</th>
              <td><a href="https://www.brightcove.com/en/blog/2017/03/live-streaming-format-future">Live Streaming Format of the Future</a></td>
            </tr>
            <tr>
              <th>March 30, 2017</th>
              <td><a href="https://www.brightcove.com/en/blog/2017/03/video-marketing-mentors-integrating-video-your-tech-stack">Video Marketing Mentors: Integrating Video With Your Tech Stack</a></td>
            </tr>
            <tr>
              <th>March 27, 2017</th>
              <td><a href="https://www.brightcove.com/en/blog/2017/03/generate-short-links-your-players-video-cloud-studio">Generate Short Links to your Players in the Video Cloud Studio</a></td>
            </tr>
            <tr>
              <th>March 22, 2017</th>
              <td><a href="https://www.brightcove.com/en/blog/2017/03/video-analytics-now-available-media-module">Video Analytics Now Available in the Media Module</a></td>
            </tr>
          </table>
        </div>
        
      </div>
    </div>

    
    
      
  


  </body>
  <!-- Version: 3.325.1 -->
</html>

